Index: app/src/main/res/layout/activity_comments.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:background=\"@color/home_background\"\r\n    tools:context=\".CommentsActivity\">\r\n\r\n    <RelativeLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\">\r\n\r\n        <RelativeLayout\r\n            android:id=\"@+id/linear\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:background=\"@color/white\"\r\n            android:orientation=\"vertical\">\r\n\r\n            <TextView\r\n                android:id=\"@id/text2\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:layout_marginLeft=\"10dp\"\r\n                android:text=\"Question:\"\r\n                android:textColor=\"#000\"\r\n                android:textStyle=\"bold\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/text1\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/text2\"\r\n                android:fontFamily=\"@font/roboto_medium\"\r\n                android:padding=\"10dp\"\r\n                android:textColor=\"@color/colorPrimaryDark\"\r\n                android:textSize=\"20dp\"\r\n                android:textStyle=\"bold\" />\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/linearimage\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"200dp\"\r\n                android:layout_below=\"@+id/text1\"\r\n                android:layout_margin=\"10dp\"\r\n                android:background=\"@color/transparent\"\r\n                android:orientation=\"vertical\">\r\n\r\n                <com.github.chrisbanes.photoview.PhotoView\r\n                    android:id=\"@+id/image\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:layout_centerHorizontal=\"true\" />\r\n\r\n            </LinearLayout>\r\n\r\n        </RelativeLayout>\r\n\r\n        <androidx.recyclerview.widget.RecyclerView\r\n            android:id=\"@+id/reccycler_view\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_above=\"@+id/bottom\"\r\n            android:layout_below=\"@+id/linear\" />\r\n\r\n        <LinearLayout\r\n            android:id=\"@+id/bottom\"\r\n            android:layout_width=\"fill_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_alignParentBottom=\"true\"\r\n            android:background=\"#ffffff\"\r\n            android:orientation=\"horizontal\"\r\n            android:paddingTop=\"8dp\"\r\n            android:paddingBottom=\"8dp\"\r\n            android:weightSum=\"8\">\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"match_parent\"\r\n                android:layout_weight=\"1\">\r\n\r\n                <de.hdodenhof.circleimageview.CircleImageView\r\n                    android:id=\"@+id/comment_profile_image\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:layout_gravity=\"center_vertical\"\r\n                    android:src=\"@drawable/profile_image\" />\r\n            </LinearLayout>\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"match_parent\"\r\n                android:layout_weight=\"5\">\r\n\r\n                <EditText\r\n                    android:id=\"@+id/adding_comment\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:hint=\"Add a Comment...\"\r\n                    android:paddingLeft=\"5dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:textColor=\"#000\"\r\n                    android:textColorHint=\"#717070\"\r\n                    android:background=\"@color/transparent\" />\r\n\r\n            </LinearLayout>\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"match_parent\"\r\n                android:layout_weight=\"1\"\r\n                android:gravity=\"center\"\r\n                android:layout_gravity=\"center\">\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/commentimage\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:src=\"@drawable/ic_image\" />\r\n            </LinearLayout>\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_weight=\"1\"\r\n                android:gravity=\"center\"\r\n                android:layout_gravity=\"center\">\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/commenting_post_textview\"\r\n                    android:layout_width=\"35dp\"\r\n                    android:layout_height=\"40dp\"\r\n                    android:layout_gravity=\"center_vertical\"\r\n                    android:src=\"@drawable/post\"\r\n                    app:tint=\"@color/colorAccent\" />\r\n            </LinearLayout>\r\n\r\n        </LinearLayout>\r\n\r\n    </RelativeLayout>\r\n\r\n</RelativeLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_comments.xml	(revision e2b83da69ae71efe9a8ea6a6d8b03bd08147db7e)
+++ app/src/main/res/layout/activity_comments.xml	(date 1622092908734)
@@ -7,10 +7,15 @@
     android:background="@color/home_background"
     tools:context=".CommentsActivity">
 
-    <RelativeLayout
-        android:layout_width="match_parent"
-        android:layout_height="match_parent">
-
+       <androidx.core.widget.NestedScrollView
+           android:layout_width="match_parent"
+           android:layout_height="match_parent"
+           android:layout_marginBottom="50dp">
+
+           <LinearLayout
+               android:layout_width="match_parent"
+               android:layout_height="match_parent"
+               android:orientation="vertical">
         <RelativeLayout
             android:id="@+id/linear"
             android:layout_width="match_parent"
@@ -45,25 +50,34 @@
                 android:layout_height="200dp"
                 android:layout_below="@+id/text1"
                 android:layout_margin="10dp"
+                android:gravity="center"
                 android:background="@color/transparent"
                 android:orientation="vertical">
 
-                <com.github.chrisbanes.photoview.PhotoView
+                <ImageView
                     android:id="@+id/image"
-                    android:layout_width="match_parent"
+                    android:layout_width="wrap_content"
                     android:layout_height="match_parent"
                     android:layout_centerHorizontal="true" />
 
             </LinearLayout>
 
+
         </RelativeLayout>
 
+
         <androidx.recyclerview.widget.RecyclerView
             android:id="@+id/reccycler_view"
             android:layout_width="match_parent"
             android:layout_height="wrap_content"
             android:layout_above="@+id/bottom"
-            android:layout_below="@+id/linear" />
+            android:layout_below="@+id/linear"
+            android:paddingBottom="10dp"/>
+
+
+           </LinearLayout>
+
+       </androidx.core.widget.NestedScrollView>
 
         <LinearLayout
             android:id="@+id/bottom"
@@ -86,7 +100,9 @@
                     android:layout_width="match_parent"
                     android:layout_height="match_parent"
                     android:layout_gravity="center_vertical"
-                    android:src="@drawable/profile_image" />
+                    android:src="@drawable/profile_image"
+                    app:civ_border_color="@color/button_blue"
+                    app:civ_border_width="1dp"/>
             </LinearLayout>
 
             <LinearLayout
@@ -139,6 +155,4 @@
 
         </LinearLayout>
 
-    </RelativeLayout>
-
 </RelativeLayout>
\ No newline at end of file
Index: app/src/main/java/com/example/r_edu_kt/discussion_home.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.r_edu_kt;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.ActionBar;\r\nimport androidx.appcompat.app.ActionBarDrawerToggle;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.SearchView;\r\nimport androidx.core.view.GravityCompat;\r\nimport androidx.drawerlayout.widget.DrawerLayout;\r\nimport androidx.appcompat.widget.Toolbar;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\nimport androidx.recyclerview.widget.SimpleItemAnimator;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.view.Menu;\r\nimport android.view.MenuItem;\r\nimport android.view.MotionEvent;\r\nimport android.view.View;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\nimport android.view.animation.Animation;\r\nimport android.view.animation.AnimationUtils;\r\nimport android.view.animation.BounceInterpolator;\r\nimport android.view.animation.Interpolator;\r\nimport android.view.animation.LayoutAnimationController;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageView;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.Switch;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.example.r_edu_kt.Adapters.PostAdapter;\r\nimport com.example.r_edu_kt.Model.Post;\r\nimport com.example.r_edu_kt.Model.User;\r\nimport com.example.r_edu_kt.User.MyAccount.MyAccount;\r\nimport com.example.r_edu_kt.User.UserDashboard;\r\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\r\nimport com.google.android.material.navigation.NavigationView;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.Query;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport de.hdodenhof.circleimageview.CircleImageView;\r\nimport soup.neumorphism.NeumorphCardView;\r\n\r\n\r\npublic class discussion_home extends AppCompatActivity implements NavigationView.OnNavigationItemSelectedListener {\r\n    private DrawerLayout drawer_layout;\r\n    private FloatingActionButton fab;\r\n    Context mcontext;\r\n\r\n    private RecyclerView recyclerView;\r\n    private ProgressBar progress_circular;\r\n    ImageView menuIcon,search,search2;\r\n    NavigationView navigationView;\r\n    EditText et;\r\n    NeumorphCardView cardView;\r\n    CircleImageView pro_img;\r\n    String s=\"\";\r\n    static final float END_SCALE = 0.7f;\r\n\r\n    String fullName,email;\r\n\r\n    private PostAdapter postAdapter;\r\n    private List<Post> postList;\r\n\r\n    LinearLayout contentView;\r\n\r\n    int [] animList = {R.anim.layout_animation};\r\n    int i = 0;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_discussion_home);\r\n        this.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);\r\n\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\r\n            Window window = getWindow();\r\n            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n            window.setStatusBarColor(getResources().getColor(R.color.colorAccent));\r\n        }\r\n        fab = findViewById(R.id.fab);\r\n        contentView=findViewById(R.id.content);\r\n        menuIcon = findViewById(R.id.menu_icon);\r\n        search=findViewById(R.id.search);\r\n        search2=findViewById(R.id.search2);\r\n        et=findViewById(R.id.searchtext);\r\n        cardView=findViewById(R.id.card);\r\n        drawer_layout=findViewById(R.id.drawer_layout);\r\n\r\n\r\n        progress_circular=findViewById(R.id.progress_circular);\r\n        recyclerView=findViewById(R.id.recyclerview);\r\n        LinearLayoutManager linearLayoutManager=new LinearLayoutManager(this);\r\n        linearLayoutManager.setReverseLayout(true);\r\n        linearLayoutManager.setStackFromEnd(true);\r\n        recyclerView.setHasFixedSize(true);\r\n        ((SimpleItemAnimator)recyclerView.getItemAnimator()).setSupportsChangeAnimations(false);\r\n        recyclerView.setLayoutManager(linearLayoutManager);\r\n\r\n\r\n        navigationView = findViewById(R.id.nav_view);\r\n        final View header = navigationView.getHeaderView(0);\r\n        navigationView.setNavigationItemSelectedListener(this);\r\n        final TextView app_nameEt=header.findViewById(R.id.app_name);\r\n        final TextView mail_id = header.findViewById(R.id.mail_id);\r\n\r\n        DatabaseReference reference = FirebaseDatabase.getInstance().getReference(\"Users\").child(FirebaseAuth.getInstance().getCurrentUser().getUid());\r\n        reference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                User user= snapshot.getValue(User.class);\r\n                fullName = user.getFullName();\r\n                //Glide.with(mcontext).load(user.getProfileimage()).into(pro_img);\r\n                email=user.getEmail();\r\n                app_nameEt.setText(\"Hi !\\n\"+fullName);\r\n                mail_id.setText(email);\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                Toast.makeText(discussion_home.this,error.getMessage(),Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n        });\r\n\r\n\r\n\r\n        // ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(this,drawer_layout,toolbar,R.string.navigation_drawer_open,R.string.navigation_drawer_close);\r\n        // drawer_layout.addDrawerListener(toggle);\r\n        // toggle.syncState();\r\n\r\n        fab.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent=new Intent(discussion_home.this,AskQuestionActivity.class);\r\n                startActivity(intent);\r\n                overridePendingTransition(R.anim.slide_in_right, R.anim.slide_out_left);\r\n            }\r\n        });\r\n\r\n        search.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                final Animation animation = AnimationUtils.loadAnimation(discussion_home.this,R.anim.bounce);\r\n                BounceInterpolator interpolator = new BounceInterpolator();\r\n                animation.setInterpolator(interpolator);\r\n                search.startAnimation(animation);\r\n                cardView.setVisibility(View.VISIBLE);\r\n                search2.setVisibility(View.VISIBLE);\r\n                et.requestFocus();\r\n                s=et.getText().toString().toLowerCase();\r\n                DatabaseReference reference= FirebaseDatabase.getInstance().getReference(\"questions posts\");\r\n                Query query=reference.orderByChild(\"topic\").startAt(s).endAt(s+\"\\uf8ff\");\r\n                query.addValueEventListener(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                        postList.clear();\r\n                        for(DataSnapshot dataSnapshot : snapshot.getChildren()){\r\n                            Post post=dataSnapshot.getValue(Post.class);\r\n                            postList.add(post);\r\n                        }\r\n                        postAdapter.notifyDataSetChanged();\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n\r\n        search2.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                s=\"\";\r\n                cardView.setVisibility(View.GONE);\r\n                et.setText(\"\");\r\n                search2.setVisibility(View.GONE);\r\n                DatabaseReference reference= FirebaseDatabase.getInstance().getReference(\"questions posts\");\r\n                Query query=reference.orderByChild(\"topic\").startAt(s).endAt(s+\"\\uf8ff\");\r\n                query.addValueEventListener(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                        postList.clear();\r\n                        for(DataSnapshot dataSnapshot : snapshot.getChildren()){\r\n                            Post post=dataSnapshot.getValue(Post.class);\r\n                            postList.add(post);\r\n                        }\r\n                        postAdapter.notifyDataSetChanged();\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n\r\n\r\n        naviagationDrawer();\r\n\r\n        postList = new ArrayList<>();\r\n        postAdapter = new PostAdapter(discussion_home.this,postList);\r\n        recyclerView.setAdapter(postAdapter);\r\n        readQuestionsPosts();\r\n\r\n    }\r\n\r\n    private void naviagationDrawer() {\r\n        navigationView.bringToFront();\r\n        navigationView.setNavigationItemSelectedListener(this);\r\n        navigationView.setCheckedItem(R.id.nav_discussion);\r\n        menuIcon.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if (drawer_layout.isDrawerVisible(GravityCompat.START))\r\n                    drawer_layout.closeDrawer(GravityCompat.START);\r\n                else drawer_layout.openDrawer(GravityCompat.START);\r\n            }\r\n        });\r\n\r\n        animateNavigateDrawer();\r\n    }\r\n\r\n    private void animateNavigateDrawer() {\r\n        drawer_layout.setScrimColor(getResources().getColor(R.color.colorAccent));\r\n        drawer_layout.addDrawerListener(new DrawerLayout.SimpleDrawerListener() {\r\n            @Override\r\n            public void onDrawerSlide(View drawerView, float slideOffset) {\r\n\r\n                final float diffScaledOffset = slideOffset * (1 - END_SCALE);\r\n                final float offsetScale = 1 - diffScaledOffset;\r\n                contentView.setScaleX(offsetScale);\r\n                contentView.setScaleY(offsetScale);\r\n\r\n                final float xOffset = drawerView.getWidth() * slideOffset;\r\n                final float xOffsetDiff = contentView.getWidth() * diffScaledOffset / 2;\r\n                final float xTranslation = xOffset - xOffsetDiff;\r\n                contentView.setTranslationX(xTranslation);\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n    private void readQuestionsPosts() {\r\n        DatabaseReference reference= FirebaseDatabase.getInstance().getReference(\"questions posts\");\r\n        reference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                postList.clear();\r\n                for(DataSnapshot dataSnapshot : snapshot.getChildren()){\r\n                    Post post= dataSnapshot.getValue(Post.class);\r\n                    postList.add(post);\r\n                }\r\n                final LayoutAnimationController controller = AnimationUtils.loadLayoutAnimation(discussion_home.this,animList[i]);\r\n                recyclerView.setLayoutAnimation(controller);\r\n                postAdapter.notifyDataSetChanged();\r\n                recyclerView.scheduleLayoutAnimation();\r\n                progress_circular.setVisibility(View.GONE);\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                Toast.makeText(discussion_home.this,error.getMessage(),Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n        switch(item.getItemId()){\r\n            case R.id.nav_discussion:\r\n                Intent intent = new Intent(discussion_home.this, discussion_home.class);\r\n                startActivity(intent);\r\n                overridePendingTransition(R.anim.slide_in_right, R.anim.slide_out_left);\r\n                break;\r\n\r\n            case R.id.nav_home:\r\n                Intent intent1 = new Intent(discussion_home.this,UserDashboard.class);\r\n                startActivity(intent1);\r\n                overridePendingTransition(R.anim.slide_in_right, R.anim.slide_out_left);\r\n                break;\r\n            case R.id.nav_profile:\r\n                Intent account_intent=new Intent(getApplicationContext(), MyAccount.class);\r\n                startActivity(account_intent);\r\n                overridePendingTransition(R.anim.slide_in_right, R.anim.slide_out_left);\r\n                break;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        if(drawer_layout.isDrawerOpen(GravityCompat.START)){\r\n            drawer_layout.closeDrawer(GravityCompat.START);\r\n        }else {\r\n            super.onBackPressed();\r\n        }\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/r_edu_kt/discussion_home.java	(revision e2b83da69ae71efe9a8ea6a6d8b03bd08147db7e)
+++ app/src/main/java/com/example/r_edu_kt/discussion_home.java	(date 1622704826730)
@@ -1,38 +1,31 @@
 package com.example.r_edu_kt;
 
 import androidx.annotation.NonNull;
-import androidx.appcompat.app.ActionBar;
-import androidx.appcompat.app.ActionBarDrawerToggle;
 import androidx.appcompat.app.AppCompatActivity;
-import androidx.appcompat.widget.SearchView;
 import androidx.core.view.GravityCompat;
 import androidx.drawerlayout.widget.DrawerLayout;
-import androidx.appcompat.widget.Toolbar;
 import androidx.recyclerview.widget.LinearLayoutManager;
 import androidx.recyclerview.widget.RecyclerView;
-import androidx.recyclerview.widget.SimpleItemAnimator;
+import androidx.swiperefreshlayout.widget.SwipeRefreshLayout;
 
-import android.annotation.SuppressLint;
-import android.content.Context;
+import android.app.AlertDialog;
 import android.content.Intent;
 import android.os.Build;
 import android.os.Bundle;
-import android.view.Menu;
+import android.view.LayoutInflater;
 import android.view.MenuItem;
-import android.view.MotionEvent;
 import android.view.View;
 import android.view.Window;
 import android.view.WindowManager;
 import android.view.animation.Animation;
 import android.view.animation.AnimationUtils;
 import android.view.animation.BounceInterpolator;
-import android.view.animation.Interpolator;
-import android.view.animation.LayoutAnimationController;
+import android.widget.AbsListView;
+import android.widget.Button;
 import android.widget.EditText;
 import android.widget.ImageView;
 import android.widget.LinearLayout;
 import android.widget.ProgressBar;
-import android.widget.Switch;
 import android.widget.TextView;
 import android.widget.Toast;
 
@@ -40,12 +33,12 @@
 import com.example.r_edu_kt.Adapters.PostAdapter;
 import com.example.r_edu_kt.Model.Post;
 import com.example.r_edu_kt.Model.User;
+import com.example.r_edu_kt.User.Login.LoginActivity;
 import com.example.r_edu_kt.User.MyAccount.MyAccount;
 import com.example.r_edu_kt.User.UserDashboard;
 import com.google.android.material.floatingactionbutton.FloatingActionButton;
 import com.google.android.material.navigation.NavigationView;
 import com.google.firebase.auth.FirebaseAuth;
-import com.google.firebase.auth.FirebaseUser;
 import com.google.firebase.database.DataSnapshot;
 import com.google.firebase.database.DatabaseError;
 import com.google.firebase.database.DatabaseReference;
@@ -53,6 +46,9 @@
 import com.google.firebase.database.Query;
 import com.google.firebase.database.ValueEventListener;
 
+import org.apache.commons.lang3.StringUtils;
+import org.jetbrains.annotations.NotNull;
+
 import java.util.ArrayList;
 import java.util.List;
 
@@ -63,28 +59,29 @@
 public class discussion_home extends AppCompatActivity implements NavigationView.OnNavigationItemSelectedListener {
     private DrawerLayout drawer_layout;
     private FloatingActionButton fab;
-    Context mcontext;
 
     private RecyclerView recyclerView;
-    private ProgressBar progress_circular;
-    ImageView menuIcon,search,search2;
+    private ProgressBar progress_circular, progress;
+    ImageView menuIcon,search,search2,up;
     NavigationView navigationView;
     EditText et;
+    TextView load_more;
     NeumorphCardView cardView;
-    CircleImageView pro_img;
     String s="";
     static final float END_SCALE = 0.7f;
+    Boolean total_items_loaded = false;
+
+    private static int total_items_to_load = 7;
+    private int mcurrentpage = 1,count = 0;
 
     String fullName,email;
+    SwipeRefreshLayout splayout;
 
     private PostAdapter postAdapter;
     private List<Post> postList;
 
     LinearLayout contentView;
 
-    int [] animList = {R.anim.layout_animation};
-    int i = 0;
-
     @Override
     protected void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);
@@ -104,7 +101,10 @@
         et=findViewById(R.id.searchtext);
         cardView=findViewById(R.id.card);
         drawer_layout=findViewById(R.id.drawer_layout);
-
+        splayout = findViewById(R.id.splayout);
+        load_more = findViewById(R.id.load_more);
+        progress = findViewById(R.id.progress);
+        up=findViewById(R.id.up);
 
         progress_circular=findViewById(R.id.progress_circular);
         recyclerView=findViewById(R.id.recyclerview);
@@ -112,15 +112,14 @@
         linearLayoutManager.setReverseLayout(true);
         linearLayoutManager.setStackFromEnd(true);
         recyclerView.setHasFixedSize(true);
-        ((SimpleItemAnimator)recyclerView.getItemAnimator()).setSupportsChangeAnimations(false);
         recyclerView.setLayoutManager(linearLayoutManager);
 
-
         navigationView = findViewById(R.id.nav_view);
         final View header = navigationView.getHeaderView(0);
         navigationView.setNavigationItemSelectedListener(this);
         final TextView app_nameEt=header.findViewById(R.id.app_name);
         final TextView mail_id = header.findViewById(R.id.mail_id);
+        final CircleImageView pro_img = header.findViewById(R.id.pro_img);
 
         DatabaseReference reference = FirebaseDatabase.getInstance().getReference("Users").child(FirebaseAuth.getInstance().getCurrentUser().getUid());
         reference.addValueEventListener(new ValueEventListener() {
@@ -128,7 +127,7 @@
             public void onDataChange(@NonNull DataSnapshot snapshot) {
                 User user= snapshot.getValue(User.class);
                 fullName = user.getFullName();
-                //Glide.with(mcontext).load(user.getProfileimage()).into(pro_img);
+                Glide.with(header.getContext()).load(user.getProfileimage()).into(pro_img);
                 email=user.getEmail();
                 app_nameEt.setText("Hi !\n"+fullName);
                 mail_id.setText(email);
@@ -141,11 +140,28 @@
             }
         });
 
+        load_more.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                mcurrentpage++;
+                count = 0;
+                postList.clear();
+                load_more.setVisibility(View.GONE);
+                progress.setVisibility(View.VISIBLE);
+                readQuestionsPosts();
+            }
+        });
 
 
-        // ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(this,drawer_layout,toolbar,R.string.navigation_drawer_open,R.string.navigation_drawer_close);
-        // drawer_layout.addDrawerListener(toggle);
-        // toggle.syncState();
+        splayout.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {
+            @Override
+            public void onRefresh() {
+                postList.clear();
+                count = 0;
+                readQuestionsPosts();
+                recyclerView.scrollToPosition(postList.size() - ((mcurrentpage -1 ) * total_items_to_load));
+            }
+        });
 
         fab.setOnClickListener(new View.OnClickListener() {
             @Override
@@ -166,7 +182,8 @@
                 cardView.setVisibility(View.VISIBLE);
                 search2.setVisibility(View.VISIBLE);
                 et.requestFocus();
-                s=et.getText().toString().toLowerCase();
+                String val=et.getText().toString();
+                s = StringUtils.capitalize(val);
                 DatabaseReference reference= FirebaseDatabase.getInstance().getReference("questions posts");
                 Query query=reference.orderByChild("topic").startAt(s).endAt(s+"\uf8ff");
                 query.addValueEventListener(new ValueEventListener() {
@@ -187,22 +204,45 @@
             }
         });
 
+        recyclerView.addOnScrollListener(new RecyclerView.OnScrollListener() {
+            @Override
+            public void onScrollStateChanged(@NonNull @NotNull RecyclerView recyclerView, int newState) {
+                super.onScrollStateChanged(recyclerView, newState);
+                if(!recyclerView.canScrollVertically(1) && newState == RecyclerView.SCROLL_STATE_IDLE && !total_items_loaded){
+                    load_more.setVisibility(View.VISIBLE);
+                    up.setVisibility(View.VISIBLE);
+                }
+                else if(total_items_loaded){
+                    load_more.setVisibility(View.GONE);
+                    up.setVisibility(View.VISIBLE);
+                }
+                if(!recyclerView.canScrollVertically(-1)){
+                    up.setVisibility(View.GONE);
+                }
+            }
+        });
+
+        up.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                recyclerView.smoothScrollToPosition(postList.size()-1);
+            }
+        });
+
 
         search2.setOnClickListener(new View.OnClickListener() {
             @Override
             public void onClick(View v) {
-                s="";
                 cardView.setVisibility(View.GONE);
                 et.setText("");
                 search2.setVisibility(View.GONE);
                 DatabaseReference reference= FirebaseDatabase.getInstance().getReference("questions posts");
-                Query query=reference.orderByChild("topic").startAt(s).endAt(s+"\uf8ff");
-                query.addValueEventListener(new ValueEventListener() {
+                reference.addValueEventListener(new ValueEventListener() {
                     @Override
                     public void onDataChange(@NonNull DataSnapshot snapshot) {
                         postList.clear();
                         for(DataSnapshot dataSnapshot : snapshot.getChildren()){
-                            Post post=dataSnapshot.getValue(Post.class);
+                            Post post= dataSnapshot.getValue(Post.class);
                             postList.add(post);
                         }
                         postAdapter.notifyDataSetChanged();
@@ -210,6 +250,8 @@
 
                     @Override
                     public void onCancelled(@NonNull DatabaseError error) {
+                        Toast.makeText(discussion_home.this,error.getMessage(),Toast.LENGTH_SHORT).show();
+
                     }
                 });
             }
@@ -263,29 +305,44 @@
     }
 
     private void readQuestionsPosts() {
-        DatabaseReference reference= FirebaseDatabase.getInstance().getReference("questions posts");
-        reference.addValueEventListener(new ValueEventListener() {
+        DatabaseReference reference = FirebaseDatabase.getInstance().getReference("questions posts");
+
+        Query question_query = reference.limitToLast(mcurrentpage * total_items_to_load);
+        question_query.addValueEventListener(new ValueEventListener() {
             @Override
-            public void onDataChange(@NonNull DataSnapshot snapshot) {
-                postList.clear();
-                for(DataSnapshot dataSnapshot : snapshot.getChildren()){
-                    Post post= dataSnapshot.getValue(Post.class);
+            public void onDataChange(@NonNull @NotNull DataSnapshot snapshot) {
+                for(DataSnapshot dataSnapshot : snapshot.getChildren()) {
+                    count++;
+                    Post post = dataSnapshot.getValue(Post.class);
                     postList.add(post);
                 }
-                final LayoutAnimationController controller = AnimationUtils.loadLayoutAnimation(discussion_home.this,animList[i]);
-                recyclerView.setLayoutAnimation(controller);
                 postAdapter.notifyDataSetChanged();
-                recyclerView.scheduleLayoutAnimation();
+                recyclerView.scrollToPosition(postList.size() - ((mcurrentpage -1 ) * total_items_to_load));
+                splayout.setRefreshing(false);
+                progress.setVisibility(View.GONE);
+                load_more.setVisibility(View.GONE);
                 progress_circular.setVisibility(View.GONE);
             }
-
             @Override
-            public void onCancelled(@NonNull DatabaseError error) {
+            public void onCancelled(@NonNull @NotNull DatabaseError error) {
                 Toast.makeText(discussion_home.this,error.getMessage(),Toast.LENGTH_SHORT).show();
-
             }
         });
-    }
+
+        reference.addValueEventListener(new ValueEventListener() {
+            @Override
+            public void onDataChange(@NonNull @NotNull DataSnapshot snapshot) {
+                if(count >= snapshot.getChildrenCount()){
+                    total_items_loaded = true;
+                }
+            }
+            @Override
+            public void onCancelled(@NonNull @NotNull DatabaseError error) {
+
+            }
+        });
+    }
+
 
     @Override
     public boolean onNavigationItemSelected(@NonNull MenuItem item) {
@@ -306,6 +363,35 @@
                 startActivity(account_intent);
                 overridePendingTransition(R.anim.slide_in_right, R.anim.slide_out_left);
                 break;
+            case R.id.nav_logout:
+                View view = LayoutInflater.from(this).inflate(R.layout.logoutdialog,null);
+
+                Button submit=view.findViewById(R.id.postl);
+                Button canc=view.findViewById(R.id.cancell);
+
+                final AlertDialog dialog = new AlertDialog.Builder(this)
+                        .setView(view).setCancelable(false).create();
+                dialog.getWindow().setBackgroundDrawableResource(android.R.color.transparent);
+                dialog.show();
+
+                canc.setOnClickListener(new View.OnClickListener() {
+                    @Override
+                    public void onClick(View v) {
+                        dialog.dismiss();
+                    }
+                });
+
+                submit.setOnClickListener(new View.OnClickListener() {
+                    @Override
+                    public void onClick(View v) {
+                        FirebaseAuth.getInstance().signOut();
+                        Intent intent=new Intent(discussion_home.this, LoginActivity.class);
+                        dialog.dismiss();
+                        startActivity(intent);
+                        finish();
+                    }
+                });
+                break;
         }
         return true;
     }
Index: app/src/main/java/com/example/r_edu_kt/Model/User.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.r_edu_kt.Model;\r\n\r\npublic class User {\r\n    private String date,email,fullName,gender,profileimage,password,userName,phoneNo;\r\n    public User(){\r\n    }\r\n\r\n    public User(String date, String email, String fullName, String gender, String profileimage, String password, String userName, String phoneNo) {\r\n        this.date = date;\r\n        this.email = email;\r\n        this.fullName = fullName;\r\n        this.gender = gender;\r\n        this.profileimage = profileimage;\r\n        this.password = password;\r\n        this.userName = userName;\r\n        this.phoneNo = phoneNo;\r\n    }\r\n\r\n    public String getDate() {\r\n        return date;\r\n    }\r\n\r\n    public void setDate(String date) {\r\n        this.date = date;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public String getFullName() {\r\n        return fullName;\r\n    }\r\n\r\n    public void setFullName(String fullName) {\r\n        this.fullName = fullName;\r\n    }\r\n\r\n    public String getGender() {\r\n        return gender;\r\n    }\r\n\r\n    public void setGender(String gender) {\r\n        this.gender = gender;\r\n    }\r\n\r\n    public String getProfileimage() {\r\n        return profileimage;\r\n    }\r\n\r\n    public void setProfileimage(String profileimage) {\r\n        this.profileimage = profileimage;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    public String getUserName() {\r\n        return userName;\r\n    }\r\n\r\n    public void setUserName(String userName) {\r\n        this.userName = userName;\r\n    }\r\n\r\n    public String getPhoneNo() {\r\n        return phoneNo;\r\n    }\r\n\r\n    public void setPhoneNo(String phoneNo) {\r\n        this.phoneNo = phoneNo;\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/r_edu_kt/Model/User.java	(revision e2b83da69ae71efe9a8ea6a6d8b03bd08147db7e)
+++ app/src/main/java/com/example/r_edu_kt/Model/User.java	(date 1621595707901)
@@ -1,11 +1,11 @@
 package com.example.r_edu_kt.Model;
 
 public class User {
-    private String date,email,fullName,gender,profileimage,password,userName,phoneNo;
+    private String date,email,fullName,gender,profileimage,password,userName,phoneNo,userid;
     public User(){
     }
 
-    public User(String date, String email, String fullName, String gender, String profileimage, String password, String userName, String phoneNo) {
+    public User(String date, String email, String fullName, String gender, String profileimage, String password, String userName, String phoneNo, String userid) {
         this.date = date;
         this.email = email;
         this.fullName = fullName;
@@ -14,6 +14,7 @@
         this.password = password;
         this.userName = userName;
         this.phoneNo = phoneNo;
+        this.userid = userid;
     }
 
     public String getDate() {
@@ -79,4 +80,12 @@
     public void setPhoneNo(String phoneNo) {
         this.phoneNo = phoneNo;
     }
+
+    public String getUserid() {
+        return userid;
+    }
+
+    public void setUserid(String userid) {
+        this.userid = userid;
+    }
 }
Index: app/src/main/res/layout/activity_register.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:layout_gravity=\"center\"\r\n    android:background=\"@color/register_bk_color\"\r\n    android:focusableInTouchMode=\"true\"\r\n    android:gravity=\"center\"\r\n    android:transitionName=\"transition_signup\"\r\n    tools:context=\".User.Register.RegisterActivity\">\r\n\r\n    <ScrollView\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"match_parent\"\r\n        android:layout_alignParentTop=\"true\">\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"40dp\"\r\n            android:orientation=\"vertical\"\r\n            android:padding=\"20dp\">\r\n\r\n            <RelativeLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"130dp\">\r\n\r\n                <TextView\r\n                    android:id=\"@+id/sign_up_title_text\"\r\n                    style=\"@style/viewParent.headerText.NoMode\"\r\n                    android:layout_alignParentLeft=\"true\"\r\n                    android:layout_centerVertical=\"true\"\r\n                    android:text=\"Hey!\\nHere are the\\nsteps to join us!\"\r\n                    android:textColor=\"@color/whiteTextColor\"\r\n                    android:textSize=\"25dp\"\r\n                    android:transitionName=\"transition_title_text\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/sign_up_side_image\"\r\n                    android:layout_width=\"100dp\"\r\n                    android:layout_height=\"100dp\"\r\n                    android:layout_alignParentRight=\"true\"\r\n                    android:layout_centerVertical=\"true\"\r\n                    android:layout_marginTop=\"20dp\"\r\n                    android:background=\"@drawable/circle_border\"\r\n                    android:backgroundTint=\"@color/white\"\r\n                    android:fontFamily=\"@font/ds_digital_bold\"\r\n                    android:gravity=\"center\"\r\n                    android:padding=\"10dp\"\r\n                    android:text=\"1/3\"\r\n                    android:textAlignment=\"center\"\r\n                    android:textColor=\"@color/white\"\r\n                    android:textSize=\"35sp\"\r\n                    android:transitionName=\"transition_side_image\" />\r\n\r\n<!--                <ImageView-->\r\n<!--                    -->\r\n<!--                    android:layout_width=\"wrap_content\"-->\r\n<!--                    android:layout_height=\"wrap_content\"-->\r\n<!--                    android:layout_alignParentTop=\"true\"-->\r\n<!--                    android:layout_alignParentRight=\"true\"-->\r\n<!--                    android:src=\"@drawable/ic_login_hero\"-->\r\n<!--                    android:transitionName=\"transition_side_image\" />-->\r\n            </RelativeLayout>\r\n\r\n            <androidx.cardview.widget.CardView\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"30dp\"\r\n                app:cardBackgroundColor=\"@color/whiteTextColor\"\r\n                app:cardCornerRadius=\"10dp\">\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_margin=\"10dp\"\r\n                    android:orientation=\"vertical\">\r\n\r\n                    <com.google.android.material.textfield.TextInputLayout\r\n                        android:id=\"@+id/textInputName\"\r\n                        style=\"@style/parent\"\r\n                        android:layout_marginTop=\"@dimen/loginViewsMargin\">\r\n\r\n                        <EditText\r\n                            android:id=\"@+id/editTextName\"\r\n                            style=\"@style/modifiedEditText\"\r\n                            android:hint=\"Full Name\"\r\n                            android:inputType=\"textPersonName\"\r\n                            android:maxLines=\"1\" />\r\n\r\n                    </com.google.android.material.textfield.TextInputLayout>\r\n\r\n                    <com.google.android.material.textfield.TextInputLayout\r\n                        android:id=\"@+id/textInputUserName\"\r\n                        style=\"@style/parent\"\r\n                        android:layout_marginTop=\"@dimen/loginViewsMargin\">\r\n\r\n                        <EditText\r\n                            android:id=\"@+id/editTextUserName\"\r\n                            style=\"@style/modifiedEditText\"\r\n                            android:hint=\"Username\"\r\n                            android:inputType=\"textPersonName\"\r\n                            android:maxLines=\"1\" />\r\n\r\n                    </com.google.android.material.textfield.TextInputLayout>\r\n\r\n                    <com.google.android.material.textfield.TextInputLayout\r\n                        android:id=\"@+id/textInputEmail\"\r\n                        style=\"@style/parent\"\r\n                        android:layout_marginTop=\"@dimen/loginViewsMargin\">\r\n\r\n                        <EditText\r\n                            android:id=\"@+id/editTextEmail\"\r\n                            style=\"@style/modifiedEditText\"\r\n                            android:hint=\"@string/login_email_hint\"\r\n                            android:inputType=\"textEmailAddress\"\r\n                            android:maxLines=\"1\" />\r\n                    </com.google.android.material.textfield.TextInputLayout>\r\n\r\n\r\n                    <com.google.android.material.textfield.TextInputLayout\r\n                        android:id=\"@+id/textInputPassword\"\r\n                        style=\"@style/parent\"\r\n                        android:layout_marginTop=\"@dimen/loginViewsMargin\"\r\n                        app:endIconMode=\"password_toggle\">\r\n\r\n                        <EditText\r\n                            android:id=\"@+id/editTextPaswword\"\r\n                            style=\"@style/modifiedEditText\"\r\n                            android:hint=\"@string/login_password_hint\"\r\n                            android:inputType=\"textPassword\"\r\n                            android:maxLines=\"1\" />\r\n                    </com.google.android.material.textfield.TextInputLayout>\r\n\r\n                    <br.com.simplepass.loading_button_lib.customViews.CircularProgressButton\r\n                        android:id=\"@+id/cirRegisterButton\"\r\n                        style=\"@style/loginButton\"\r\n                        android:layout_gravity=\"center_horizontal\"\r\n                        android:layout_marginTop=\"@dimen/loginViewsMargin\"\r\n                        android:onClick=\"callNextSignupScreen\"\r\n                        android:text=\"Next\"\r\n                        android:transitionName=\"transition_next_btn\"\r\n                        app:initialCornerAngle=\"27dp\"\r\n                        app:spinning_bar_color=\"#fff\"\r\n                        app:spinning_bar_padding=\"6dp\"\r\n                        app:spinning_bar_width=\"4dp\" />\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/sign_up_login_button\"\r\n                        style=\"@style/parent\"\r\n                        android:layout_marginTop=\"@dimen/loginViewsMargin\"\r\n                        android:onClick=\"onLoginClick\"\r\n                        android:text=\"Already have an account?\"\r\n                        android:textAlignment=\"center\"\r\n                        android:textColor=\"@color/themeColor\"\r\n                        android:textSize=\"17sp\"\r\n                        android:textStyle=\"bold\"\r\n                        android:transitionName=\"transition_login_btn\" />\r\n                </LinearLayout>\r\n            </androidx.cardview.widget.CardView>\r\n\r\n            <!--            <LinearLayout-->\r\n            <!--                android:layout_width=\"match_parent\"-->\r\n            <!--                android:layout_height=\"wrap_content\"-->\r\n            <!--                android:layout_marginTop=\"30dp\"-->\r\n            <!--                android:gravity=\"center\"-->\r\n            <!--                android:weightSum=\"12\">-->\r\n\r\n            <!--                <View-->\r\n            <!--                    android:layout_width=\"0dp\"-->\r\n            <!--                    android:layout_height=\"1dp\"-->\r\n            <!--                    android:layout_weight=\"3\"-->\r\n            <!--                    android:background=\"@color/whiteTextColor\" />-->\r\n\r\n            <!--                <TextView-->\r\n            <!--                    style=\"@style/viewParent.headerText.NoMode\"-->\r\n            <!--                    android:layout_width=\"wrap_content\"-->\r\n            <!--                    android:layout_height=\"wrap_content\"-->\r\n            <!--                    android:layout_weight=\"6\"-->\r\n            <!--                    android:text=\"Use other methods\"-->\r\n            <!--                    android:textAlignment=\"center\"-->\r\n            <!--                    android:textColor=\"@color/whiteTextColor\"-->\r\n            <!--                    android:textSize=\"12sp\" />-->\r\n\r\n            <!--                <View-->\r\n            <!--                    android:layout_width=\"0dp\"-->\r\n            <!--                    android:layout_height=\"1dp\"-->\r\n            <!--                    android:layout_weight=\"3\"-->\r\n            <!--                    android:background=\"@color/whiteTextColor\" />-->\r\n            <!--            </LinearLayout>-->\r\n\r\n            <!--            <LinearLayout-->\r\n            <!--                android:layout_width=\"match_parent\"-->\r\n            <!--                android:layout_height=\"wrap_content\"-->\r\n            <!--                android:layout_marginTop=\"20dp\"-->\r\n            <!--                android:layout_marginBottom=\"10dp\"-->\r\n            <!--                android:gravity=\"center\">-->\r\n\r\n            <!--                <ImageView-->\r\n            <!--                    android:layout_width=\"wrap_content\"-->\r\n            <!--                    android:layout_height=\"wrap_content\"-->\r\n            <!--                    android:src=\"@drawable/ic_facebook\" />-->\r\n\r\n            <!--                <ImageView-->\r\n            <!--                    android:layout_width=\"wrap_content\"-->\r\n            <!--                    android:layout_height=\"wrap_content\"-->\r\n            <!--                    android:layout_marginLeft=\"10dp\"-->\r\n            <!--                    android:src=\"@drawable/ic_google_plus\" />-->\r\n            <!--            </LinearLayout>-->\r\n        </LinearLayout>\r\n\r\n    </ScrollView>\r\n\r\n    <View\r\n        android:layout_width=\"11dp\"\r\n        android:layout_height=\"match_parent\"\r\n        android:layout_alignParentTop=\"true\"\r\n        android:layout_alignParentRight=\"true\"\r\n        android:layout_marginTop=\"20dp\"\r\n        android:background=\"@drawable/ic_side_bg\" />\r\n\r\n    <ImageView\r\n        android:id=\"@+id/sign_up_back_button\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_alignParentLeft=\"true\"\r\n        android:layout_alignParentBottom=\"true\"\r\n        android:layout_marginRight=\"11dp\"\r\n        android:layout_marginBottom=\"30dp\"\r\n        android:adjustViewBounds=\"false\"\r\n        android:onClick=\"onLoginClick\"\r\n        android:src=\"@drawable/ic_back_img\"\r\n        android:transitionName=\"transition_back_btn\" />\r\n</RelativeLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_register.xml	(revision e2b83da69ae71efe9a8ea6a6d8b03bd08147db7e)
+++ app/src/main/res/layout/activity_register.xml	(date 1622120827367)
@@ -119,13 +119,19 @@
                             android:maxLines="1" />
                     </com.google.android.material.textfield.TextInputLayout>
 
-
                     <com.google.android.material.textfield.TextInputLayout
                         android:id="@+id/textInputPassword"
                         style="@style/parent"
                         android:layout_marginTop="@dimen/loginViewsMargin"
                         app:endIconMode="password_toggle">
 
+                        <ImageView
+                            android:layout_marginStart="15dp"
+                            android:id="@+id/password_gen"
+                            android:layout_width="wrap_content"
+                            android:layout_height="wrap_content"
+                            android:src="@drawable/pass_gen" />
+
                         <EditText
                             android:id="@+id/editTextPaswword"
                             style="@style/modifiedEditText"
Index: app/src/main/java/com/example/r_edu_kt/User/Register/RegisterActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.r_edu_kt.User.Register;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.app.ActivityOptions;\r\nimport android.app.ProgressDialog;\r\nimport android.content.Intent;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.text.TextUtils;\r\nimport android.util.Pair;\r\nimport android.util.Patterns;\r\nimport android.view.View;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.example.r_edu_kt.R;\r\nimport com.example.r_edu_kt.User.Login.LoginActivity;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.Query;\r\nimport com.google.firebase.database.ValueEventListener;\r\n//import com.google.firebase.database.DatabaseReference;\r\n//import com.google.firebase.database.FirebaseDatabase;\r\n\r\npublic class RegisterActivity extends AppCompatActivity {\r\n\r\n    //variables\r\n    ImageView backBtn;\r\n    Button next;\r\n    TextView titleText, login, sideImage;\r\n\r\n    EditText fullnameEt, usernameEt, emailEt, passwordEt;\r\n    Button registerButton;\r\n\r\n//    FirebaseDatabase rootNode;\r\n//\r\n//    DatabaseReference reference;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_register);\r\n\r\n        changeStatusBarColor();\r\n\r\n        //Hooks of sign-up page\r\n        backBtn = findViewById(R.id.sign_up_back_button);\r\n        next = findViewById(R.id.cirRegisterButton);\r\n        login = findViewById(R.id.sign_up_login_button);\r\n        titleText = findViewById(R.id.sign_up_title_text);\r\n        sideImage = findViewById(R.id.sign_up_side_image);\r\n        //Hooks end\r\n\r\n\r\n        fullnameEt = findViewById(R.id.editTextName);\r\n        usernameEt = findViewById(R.id.editTextUserName);\r\n        emailEt = findViewById(R.id.editTextEmail);\r\n        passwordEt = findViewById(R.id.editTextPaswword);\r\n        registerButton = findViewById(R.id.cirRegisterButton);\r\n\r\n        ProgressDialog progressDialog;\r\n\r\n//        registerButton.setOnClickListener(new View.OnClickListener() {\r\n//            @Override\r\n//            public void onClick(View view) {\r\n//                register();\r\n//            }\r\n//        });\r\n    }\r\n\r\n    public void changeStatusBarColor() {\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\r\n            Window window = getWindow();\r\n            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n            window.setStatusBarColor(getResources().getColor(R.color.register_bk_color));\r\n\r\n        }\r\n    }\r\n\r\n    public void onLoginClick(View view) {\r\n        startActivity(new Intent(this, LoginActivity.class));\r\n        overridePendingTransition(R.anim.slide_in_left, android.R.anim.slide_out_right);\r\n    }\r\n\r\n    public static boolean isValidEmail(CharSequence target) {\r\n        return (!TextUtils.isEmpty(target) && Patterns.EMAIL_ADDRESS.matcher(target).matches());\r\n    }\r\n\r\n    public void callNextSignupScreen(View view) {\r\n        if (!validateFullName() || !validateUsername() || !validateEmail() || !validatePassword())\r\n            return;\r\n\r\n        else {\r\n\r\n            String val = usernameEt.getText().toString().trim();\r\n            DatabaseReference reference = FirebaseDatabase.getInstance().getReference(\"Users\");\r\n            Query query = reference.orderByChild(\"userName\").equalTo(val);\r\n            query.addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                    if (snapshot.getValue() != null) {\r\n                        usernameEt.setError(\"Username already used! Try with another one\");\r\n                        usernameEt.requestFocus();\r\n                    } else {\r\n                        Intent intent = new Intent(getApplicationContext(), SignUp2ndClass.class);\r\n\r\n                        intent.putExtra(\"fullName\", fullnameEt.getText().toString());\r\n                        intent.putExtra(\"userName\", usernameEt.getText().toString());\r\n                        intent.putExtra(\"password\", passwordEt.getText().toString());\r\n                        intent.putExtra(\"email\", emailEt.getText().toString());\r\n                        //Add Transition\r\n                        Pair[] pairs = new Pair[5];\r\n\r\n                        pairs[0] = new Pair<View, String>(backBtn, \"transition_back_btn\");\r\n                        pairs[1] = new Pair<View, String>(next, \"transition_next_btn\");\r\n                        pairs[2] = new Pair<View, String>(login, \"transition_login_btn\");\r\n                        pairs[3] = new Pair<View, String>(titleText, \"transition_title_text\");\r\n                        pairs[4] = new Pair<View, String>(sideImage, \"transition_side_image\");\r\n\r\n                        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\r\n                            ActivityOptions options = ActivityOptions.makeSceneTransitionAnimation(RegisterActivity.this, pairs);\r\n                            startActivity(intent, options.toBundle());\r\n                        } else {\r\n                            startActivity(intent);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                }\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    public boolean validateFullName() {\r\n        String val = fullnameEt.getText().toString().trim();\r\n\r\n        if (val.isEmpty()) {\r\n            fullnameEt.setError(\"Field Cannot be empty\");\r\n            fullnameEt.requestFocus();\r\n            return false;\r\n        } else if (val.length() < 5) {\r\n            fullnameEt.setError(\"Full name should be greater than 5\");\r\n            fullnameEt.requestFocus();\r\n            return false;\r\n        } else {\r\n            fullnameEt.setError(null);\r\n        }\r\n        return true;\r\n    }\r\n\r\n    public boolean validateUsername() {\r\n        String val = usernameEt.getText().toString().trim();\r\n\r\n        if (val.isEmpty()) {\r\n            usernameEt.setError(\"Field Cannot be empty\");\r\n            usernameEt.requestFocus();\r\n            return false;\r\n        } else if (val.length() < 5) {\r\n            usernameEt.setError(\"Username should be greater than 5\");\r\n            usernameEt.requestFocus();\r\n            return false;\r\n        } else if (val.length() > 20) {\r\n            usernameEt.setError(\"Username is too large!\");\r\n            usernameEt.requestFocus();\r\n            return false;\r\n        } else {\r\n            usernameEt.setError(null);\r\n//            usernameEt.setErrorEnabled(false);\r\n        }\r\n        return true;\r\n    }\r\n\r\n    public boolean validateEmail() {\r\n        String val = emailEt.getText().toString().trim();\r\n        String checkEmail = \"[a-zA-Z0-9._-]+@[a-z]+.+[a-z]+\";\r\n\r\n        if (val.isEmpty()) {\r\n            emailEt.setError(\"Field Cannot be empty\");\r\n            emailEt.requestFocus();\r\n            return false;\r\n        } else if (!val.matches(checkEmail)) {\r\n            emailEt.setError(\"Invalid Email!\");\r\n            emailEt.requestFocus();\r\n            return false;\r\n        } else {\r\n            emailEt.setError(null);\r\n//            emailEt.setErrorEnabled(false);\r\n        }\r\n        return true;\r\n    }\r\n\r\n    public boolean validatePassword() {\r\n        String val = passwordEt.getText().toString();\r\n\r\n\r\n        if (val.isEmpty()) {\r\n            passwordEt.setError(\"Field Cannot be empty\");\r\n            passwordEt.requestFocus();\r\n            return false;\r\n        } else if (val.length() < 6) {\r\n            passwordEt.setError(\"Password should contain atleast 6 characters\");\r\n            passwordEt.requestFocus();\r\n            return false;\r\n        } else {\r\n            passwordEt.setError(null);\r\n//            password.setErrorEnabled(false);\r\n        }\r\n        return true;\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/r_edu_kt/User/Register/RegisterActivity.java	(revision e2b83da69ae71efe9a8ea6a6d8b03bd08147db7e)
+++ app/src/main/java/com/example/r_edu_kt/User/Register/RegisterActivity.java	(date 1622294779559)
@@ -22,28 +22,35 @@
 
 import com.example.r_edu_kt.R;
 import com.example.r_edu_kt.User.Login.LoginActivity;
+import com.google.android.gms.tasks.OnCompleteListener;
+import com.google.android.gms.tasks.Task;
+import com.google.firebase.auth.FirebaseAuth;
+import com.google.firebase.auth.SignInMethodQueryResult;
 import com.google.firebase.database.DataSnapshot;
 import com.google.firebase.database.DatabaseError;
 import com.google.firebase.database.DatabaseReference;
 import com.google.firebase.database.FirebaseDatabase;
 import com.google.firebase.database.Query;
 import com.google.firebase.database.ValueEventListener;
-//import com.google.firebase.database.DatabaseReference;
-//import com.google.firebase.database.FirebaseDatabase;
+
+import org.jetbrains.annotations.NotNull;
+
+import java.util.Random;
 
 public class RegisterActivity extends AppCompatActivity {
 
     //variables
-    ImageView backBtn;
+    ImageView backBtn,password_gen;
     Button next;
     TextView titleText, login, sideImage;
 
     EditText fullnameEt, usernameEt, emailEt, passwordEt;
     Button registerButton;
-
-//    FirebaseDatabase rootNode;
-//
-//    DatabaseReference reference;
+    private ProgressDialog loader;
+    String passcode,pas;
+    int num;
+    Random random;
+    FirebaseAuth mAuth;
 
     @Override
     protected void onCreate(Bundle savedInstanceState) {
@@ -58,6 +65,7 @@
         login = findViewById(R.id.sign_up_login_button);
         titleText = findViewById(R.id.sign_up_title_text);
         sideImage = findViewById(R.id.sign_up_side_image);
+        loader = new ProgressDialog(this);
         //Hooks end
 
 
@@ -66,15 +74,52 @@
         emailEt = findViewById(R.id.editTextEmail);
         passwordEt = findViewById(R.id.editTextPaswword);
         registerButton = findViewById(R.id.cirRegisterButton);
+        password_gen = findViewById(R.id.password_gen);
+
+        random = new Random();
+
+        password_gen.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                num = random.nextInt(5)+5;
+                passcode = generate(num);
+                check(passcode,passwordEt);
+            }
+        });
+    }
+
+    private void check(final String passcode, final EditText passwordEt) {
+        DatabaseReference reference = FirebaseDatabase.getInstance().getReference("Users");
+        Query query = reference.orderByChild("password").equalTo(passcode);
+        query.addValueEventListener(new ValueEventListener() {
+            @Override
+            public void onDataChange(@NonNull @NotNull DataSnapshot snapshot) {
+                if(snapshot.getValue() != null){
+                    num = random.nextInt(5)+5;
+                    pas = generate(num);
+                    check(pas,passwordEt);
+                }else {
+                    passwordEt.setTransformationMethod(null);
+                    passwordEt.setText(passcode);
+                }
+            }
 
-        ProgressDialog progressDialog;
+            @Override
+            public void onCancelled(@NonNull @NotNull DatabaseError error) {
 
-//        registerButton.setOnClickListener(new View.OnClickListener() {
-//            @Override
-//            public void onClick(View view) {
-//                register();
-//            }
-//        });
+            }
+        });
+    }
+
+    private String generate(int num) {
+        char[] chars = "QWERTYUIOPASDFGHJJKLZXCVBNMmnbvcxzlkjhgfdsapoiuytrewq1234567890:$#@&%!*".toCharArray();
+        StringBuilder stringBuilder = new StringBuilder();
+        Random random = new Random();
+        for(int i=0; i<num; i++){
+            char c =chars[random.nextInt(chars.length)];
+            stringBuilder.append(c);
+        }
+        return stringBuilder.toString();
     }
 
     public void changeStatusBarColor() {
@@ -100,38 +145,63 @@
             return;
 
         else {
+            loader.setMessage("Checking! the Database");
+            loader.setCanceledOnTouchOutside(false);
+            loader.show();
 
             String val = usernameEt.getText().toString().trim();
-            DatabaseReference reference = FirebaseDatabase.getInstance().getReference("Users");
-            Query query = reference.orderByChild("userName").equalTo(val);
+            final DatabaseReference reference = FirebaseDatabase.getInstance().getReference("Users");
+            final Query query = reference.orderByChild("userName").equalTo(val);
             query.addValueEventListener(new ValueEventListener() {
                 @Override
                 public void onDataChange(@NonNull DataSnapshot snapshot) {
                     if (snapshot.getValue() != null) {
                         usernameEt.setError("Username already used! Try with another one");
                         usernameEt.requestFocus();
+                        loader.dismiss();
                     } else {
-                        Intent intent = new Intent(getApplicationContext(), SignUp2ndClass.class);
+                        String mail = emailEt.getText().toString();
+                        Query query1 = reference.orderByChild("email").equalTo(mail);
+                        query1.addValueEventListener(new ValueEventListener() {
+                            @Override
+                            public void onDataChange(@NonNull @NotNull DataSnapshot snapshot) {
+                                if (snapshot.getValue() != null) {
+                                    emailEt.setError("Email already used! Try with another one");
+                                    emailEt.requestFocus();
+                                    loader.dismiss();
+                                } else {
+                                    Intent intent = new Intent(getApplicationContext(), SignUp2ndClass.class);
 
-                        intent.putExtra("fullName", fullnameEt.getText().toString());
-                        intent.putExtra("userName", usernameEt.getText().toString());
-                        intent.putExtra("password", passwordEt.getText().toString());
-                        intent.putExtra("email", emailEt.getText().toString());
-                        //Add Transition
-                        Pair[] pairs = new Pair[5];
+                                    intent.putExtra("fullName", fullnameEt.getText().toString());
+                                    intent.putExtra("userName", usernameEt.getText().toString());
+                                    intent.putExtra("password", passwordEt.getText().toString());
+                                    intent.putExtra("email", emailEt.getText().toString());
+                                    //Add Transition
+                                    Pair[] pairs = new Pair[5];
 
-                        pairs[0] = new Pair<View, String>(backBtn, "transition_back_btn");
-                        pairs[1] = new Pair<View, String>(next, "transition_next_btn");
-                        pairs[2] = new Pair<View, String>(login, "transition_login_btn");
-                        pairs[3] = new Pair<View, String>(titleText, "transition_title_text");
-                        pairs[4] = new Pair<View, String>(sideImage, "transition_side_image");
+                                    pairs[0] = new Pair<View, String>(backBtn, "transition_back_btn");
+                                    pairs[1] = new Pair<View, String>(next, "transition_next_btn");
+                                    pairs[2] = new Pair<View, String>(login, "transition_login_btn");
+                                    pairs[3] = new Pair<View, String>(titleText, "transition_title_text");
+                                    pairs[4] = new Pair<View, String>(sideImage, "transition_side_image");
 
-                        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {
-                            ActivityOptions options = ActivityOptions.makeSceneTransitionAnimation(RegisterActivity.this, pairs);
-                            startActivity(intent, options.toBundle());
-                        } else {
-                            startActivity(intent);
-                        }
+                                    if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {
+                                        ActivityOptions options = ActivityOptions.makeSceneTransitionAnimation(RegisterActivity.this, pairs);
+                                        loader.dismiss();
+                                        startActivity(intent, options.toBundle());
+                                    } else {
+                                        loader.dismiss();
+                                        startActivity(intent);
+                                    }
+                                }
+
+                            }
+
+                            @Override
+                            public void onCancelled(@NonNull @NotNull DatabaseError error) {
+
+                            }
+                        });
                     }
                 }
 
@@ -141,8 +211,8 @@
                 }
             });
         }
-
     }
+
 
     public boolean validateFullName() {
         String val = fullnameEt.getText().toString().trim();
Index: build.gradle
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n        \r\n    }\r\n    dependencies {\r\n        classpath 'com.android.tools.build:gradle:4.1.3'\r\n        classpath 'com.google.gms:google-services:4.3.5'\r\n        classpath 'com.google.gms:google-services:4.3.5'\r\n\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        maven{url \"https://jitpack.io\"}\r\n        google()\r\n        jcenter()\r\n        \r\n    }\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- build.gradle	(revision e2b83da69ae71efe9a8ea6a6d8b03bd08147db7e)
+++ build.gradle	(date 1622530136474)
@@ -7,7 +7,7 @@
         
     }
     dependencies {
-        classpath 'com.android.tools.build:gradle:4.1.3'
+        classpath 'com.android.tools.build:gradle:4.2.1'
         classpath 'com.google.gms:google-services:4.3.5'
         classpath 'com.google.gms:google-services:4.3.5'
 
Index: app/src/main/res/layout/questions_retrieved_layout.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.cardview.widget.CardView xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    android:id=\"@+id/cardView\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"wrap_content\"\r\n    android:layout_marginLeft=\"10dp\"\r\n    android:layout_marginTop=\"5dp\"\r\n    android:layout_marginRight=\"10dp\"\r\n    android:layout_marginBottom=\"5dp\"\r\n    app:cardCornerRadius=\"4dp\"\r\n    app:cardElevation=\"4dp\">\r\n\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_margin=\"10dp\"\r\n        android:background=\"#fff\"\r\n        android:orientation=\"vertical\">\r\n\r\n        <RelativeLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\">\r\n\r\n            <de.hdodenhof.circleimageview.CircleImageView\r\n                android:id=\"@+id/publisher_profile_image\"\r\n                android:layout_width=\"45dp\"\r\n                android:layout_height=\"45dp\"\r\n                android:layout_centerVertical=\"true\"\r\n                android:src=\"@drawable/profile_image\"\r\n                app:civ_border_color=\"@color/colorAccent\"\r\n                app:civ_border_width=\"2dp\" />\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"300dp\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_centerVertical=\"true\"\r\n                android:layout_gravity=\"center\"\r\n                android:layout_marginLeft=\"5dp\"\r\n                android:layout_toRightOf=\"@id/publisher_profile_image\"\r\n                android:orientation=\"vertical\"\r\n                android:paddingLeft=\"2dp\">\r\n\r\n                <TextView\r\n                    android:id=\"@+id/asked_by_Textview\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:gravity=\"center\"\r\n                    android:text=\"asked by\"\r\n                    android:textColor=\"#03254c\"\r\n                    android:textSize=\"16dp\"\r\n                    android:textStyle=\"bold\" />\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\">\r\n\r\n                    <TextView\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:text=\"Branch: \"\r\n                        android:textColor=\"#000\"\r\n                        android:textSize=\"12dp\" />\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/topicTextview\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:gravity=\"center\"\r\n                        android:text=\"branch name\"\r\n                        android:textColor=\"#000\"\r\n                        android:textSize=\"12dp\" />\r\n                </LinearLayout>\r\n\r\n\r\n                <TextView\r\n                    android:id=\"@+id/askedOnTextview\"\r\n                    android:layout_width=\"fill_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_weight=\"1\"\r\n                    android:text=\"Apr 04,2021\"\r\n                    android:textColor=\"#000\"\r\n                    android:textSize=\"8sp\" />\r\n\r\n            </LinearLayout>\r\n\r\n\r\n            <ImageView\r\n                android:id=\"@+id/more\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_alignParentRight=\"true\"\r\n                android:src=\"@drawable/ic_more\" />\r\n\r\n        </RelativeLayout>\r\n\r\n\r\n        <LinearLayout\r\n            android:id=\"@+id/linear\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"20dp\"\r\n            android:layout_marginBottom=\"10dp\"\r\n            android:orientation=\"vertical\">\r\n\r\n            <com.ms.square.android.expandabletextview.ExpandableTextView\r\n                android:id=\"@+id/expand_text_view\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                app:animDuration=\"200\"\r\n                app:maxCollapsedLines=\"3\">\r\n\r\n                <TextView\r\n                    android:id=\"@+id/expandable_text\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginLeft=\"5dp\"\r\n                    android:layout_marginRight=\"5dp\"\r\n                    android:text=\"what is c language?\"\r\n                    android:textColor=\"#000\"\r\n                    android:textSize=\"15dp\" />\r\n\r\n                <ImageButton\r\n                    android:id=\"@+id/expand_collapse\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_gravity=\"right|bottom\"\r\n                    android:background=\"@android:color/transparent\"\r\n                    android:padding=\"2dp\"\r\n                    android:layout_marginRight=\"10dp\"/>\r\n\r\n\r\n            </com.ms.square.android.expandabletextview.ExpandableTextView>\r\n\r\n            <ImageView\r\n                android:id=\"@+id/questionImage\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"150dp\"\r\n                android:layout_gravity=\"center\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:layout_marginLeft=\"5dp\"\r\n                android:layout_marginRight=\"5dp\"\r\n                android:scaleType=\"centerCrop\"\r\n                android:src=\"@drawable/ic_image\"\r\n                android:visibility=\"gone\" />\r\n\r\n        </LinearLayout>\r\n\r\n        <View\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"1dp\"\r\n            android:layout_margin=\"5dp\"\r\n            android:background=\"#CFCDCD\" />\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"fill_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_gravity=\"center\"\r\n            android:gravity=\"center\"\r\n            android:orientation=\"horizontal\"\r\n            android:weightSum=\"6\">\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_weight=\"2\"\r\n                android:gravity=\"center\"\r\n                android:orientation=\"vertical\">\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/like\"\r\n                    android:layout_width=\"25dp\"\r\n                    android:layout_height=\"25dp\"\r\n                    android:padding=\"2dp\"\r\n                    android:src=\"@drawable/ic_thumb_up\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/likes\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:text=\"Likes\"\r\n                    android:textColor=\"#000\"\r\n                    android:textSize=\"8sp\"\r\n                    android:textStyle=\"bold\" />\r\n\r\n            </LinearLayout>\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_weight=\"2\"\r\n                android:gravity=\"center\"\r\n                android:orientation=\"vertical\">\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/dislike\"\r\n                    android:layout_width=\"25dp\"\r\n                    android:layout_height=\"25dp\"\r\n                    android:padding=\"2dp\"\r\n                    android:src=\"@drawable/ic_dislike\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/dislikes\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:text=\"Dislikes\"\r\n                    android:textColor=\"#000\"\r\n                    android:textSize=\"8sp\"\r\n                    android:textStyle=\"bold\" />\r\n\r\n            </LinearLayout>\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_weight=\"2\"\r\n                android:gravity=\"center\"\r\n                android:orientation=\"vertical\">\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/comment\"\r\n                    android:layout_width=\"23dp\"\r\n                    android:layout_height=\"23dp\"\r\n                    android:src=\"@drawable/ic_comment\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/comments\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:text=\"Comments\"\r\n                    android:textColor=\"#000\"\r\n                    android:textSize=\"8sp\"\r\n                    android:textStyle=\"bold\" />\r\n            </LinearLayout>\r\n\r\n        </LinearLayout>\r\n\r\n    </LinearLayout>\r\n\r\n</androidx.cardview.widget.CardView>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/questions_retrieved_layout.xml	(revision e2b83da69ae71efe9a8ea6a6d8b03bd08147db7e)
+++ app/src/main/res/layout/questions_retrieved_layout.xml	(date 1622558130298)
@@ -1,5 +1,6 @@
 <?xml version="1.0" encoding="utf-8"?>
-<androidx.cardview.widget.CardView xmlns:android="http://schemas.android.com/apk/res/android"
+<androidx.cardview.widget.CardView
+    xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:app="http://schemas.android.com/apk/res-auto"
     android:id="@+id/cardView"
     android:layout_width="match_parent"
@@ -132,7 +133,7 @@
 
             </com.ms.square.android.expandabletextview.ExpandableTextView>
 
-            <ImageView
+            <ImageButton
                 android:id="@+id/questionImage"
                 android:layout_width="match_parent"
                 android:layout_height="150dp"
Index: app/src/main/java/com/example/r_edu_kt/User/MyAccount/MyAccountPassword.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.r_edu_kt.User.MyAccount;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport android.widget.Toast;\r\n\r\nimport com.example.r_edu_kt.Model.User;\r\nimport com.example.r_edu_kt.R;\r\nimport com.example.r_edu_kt.User.ForgetPassword.SetNewPassword;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\npublic class MyAccountPassword extends AppCompatActivity {\r\n\r\n    Button nextBtn;\r\n    ImageView back;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_my_account_password);\r\n\r\n        //STATUS BAR\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\r\n            Window window = getWindow();\r\n            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n            window.setStatusBarColor(getResources().getColor(R.color.colorAccent));\r\n        }\r\n\r\n        DatabaseReference reference = FirebaseDatabase.getInstance().getReference(\"Users\").child(FirebaseAuth.getInstance().getCurrentUser().getUid());\r\n        reference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                User user= snapshot.getValue(User.class);\r\n               String password = user.getPassword();\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                Toast.makeText(MyAccountPassword.this,error.getMessage(),Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n        });\r\n        nextBtn=findViewById(R.id.account_next_btn);\r\n        nextBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent newPasswordIntent=new Intent(getApplicationContext(), SetNewPassword.class);\r\n                startActivity(newPasswordIntent);\r\n                overridePendingTransition(R.anim.slide_in_right, R.anim.slide_out_left);\r\n            }\r\n        });\r\n\r\n        back=findViewById(R.id.account_password_back_btn);\r\n        back.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                onBackPressed();\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        super.onBackPressed();\r\n        overridePendingTransition(R.anim.slide_in_left, R.anim.slide_out_right);\r\n    }\r\n\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/r_edu_kt/User/MyAccount/MyAccountPassword.java	(revision e2b83da69ae71efe9a8ea6a6d8b03bd08147db7e)
+++ app/src/main/java/com/example/r_edu_kt/User/MyAccount/MyAccountPassword.java	(date 1622514910252)
@@ -6,10 +6,12 @@
 import android.content.Intent;
 import android.os.Build;
 import android.os.Bundle;
+import android.text.TextUtils;
 import android.view.View;
 import android.view.Window;
 import android.view.WindowManager;
 import android.widget.Button;
+import android.widget.EditText;
 import android.widget.ImageView;
 import android.widget.Toast;
 
@@ -25,8 +27,11 @@
 
 public class MyAccountPassword extends AppCompatActivity {
 
-    Button nextBtn;
+    Button nextBtn,cancel;
     ImageView back;
+    EditText current_passwordEt;
+    String current_password;
+
     @Override
     protected void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);
@@ -39,27 +44,46 @@
             window.setStatusBarColor(getResources().getColor(R.color.colorAccent));
         }
 
-        DatabaseReference reference = FirebaseDatabase.getInstance().getReference("Users").child(FirebaseAuth.getInstance().getCurrentUser().getUid());
-        reference.addValueEventListener(new ValueEventListener() {
-            @Override
-            public void onDataChange(@NonNull DataSnapshot snapshot) {
-                User user= snapshot.getValue(User.class);
-               String password = user.getPassword();
-            }
-
-            @Override
-            public void onCancelled(@NonNull DatabaseError error) {
-                Toast.makeText(MyAccountPassword.this,error.getMessage(),Toast.LENGTH_SHORT).show();
-
+        nextBtn = findViewById(R.id.account_next_btn);
+        cancel = findViewById(R.id.cancel_password_change);
+        current_passwordEt = findViewById(R.id.full_name);
+
+        nextBtn.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                current_password = current_passwordEt.getText().toString();
+                if (TextUtils.isEmpty(current_password)) {
+                    Toast.makeText(MyAccountPassword.this, "Required Password", Toast.LENGTH_SHORT).show();
+                } else {
+                    DatabaseReference reference = FirebaseDatabase.getInstance().getReference("Users").child(FirebaseAuth.getInstance().getCurrentUser().getUid());
+                    reference.addValueEventListener(new ValueEventListener() {
+                        @Override
+                        public void onDataChange(@NonNull DataSnapshot snapshot) {
+                            User user = snapshot.getValue(User.class);
+                            String password = user.getPassword();
+                            if(current_password.equals(password)){
+                                Intent newPasswordIntent = new Intent(getApplicationContext(), SetNewPassword.class);
+                                startActivity(newPasswordIntent);
+                                overridePendingTransition(R.anim.slide_in_right, R.anim.slide_out_left);
+                                finish();
+                            }
+                            else {
+                                Toast.makeText(MyAccountPassword.this,"Entered password is not matching with current password",Toast.LENGTH_SHORT).show();
+                            }
+                        }
+                        @Override
+                        public void onCancelled(@NonNull DatabaseError error) {
+                            Toast.makeText(MyAccountPassword.this, error.getMessage(), Toast.LENGTH_SHORT).show();
+                        }
+                    });
+                }
             }
         });
-        nextBtn=findViewById(R.id.account_next_btn);
-        nextBtn.setOnClickListener(new View.OnClickListener() {
+
+        cancel.setOnClickListener(new View.OnClickListener() {
             @Override
             public void onClick(View v) {
-                Intent newPasswordIntent=new Intent(getApplicationContext(), SetNewPassword.class);
-                startActivity(newPasswordIntent);
-                overridePendingTransition(R.anim.slide_in_right, R.anim.slide_out_left);
+                finish();
             }
         });
 
Index: app/src/main/java/com/example/r_edu_kt/User/Login/LoginActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.r_edu_kt.User.Login;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.media.MediaPlayer;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.text.TextUtils;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\nimport android.view.inputmethod.EditorInfo;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\n\r\nimport com.example.r_edu_kt.Common.ProgressButton;\r\nimport com.example.r_edu_kt.Model.User;\r\nimport com.example.r_edu_kt.User.ForgetPassword.ForgetPassword;\r\nimport com.example.r_edu_kt.R;\r\nimport com.example.r_edu_kt.User.Register.RegisterActivity;\r\nimport com.example.r_edu_kt.User.UserDashboard;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.AuthResult;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.Query;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\npublic class LoginActivity extends AppCompatActivity {\r\n\r\n    EditText nameEt, passwordEt;\r\n\r\n    View buttonView;\r\n    ProgressButton progressButton;\r\n\r\n    private FirebaseAuth mAuth;\r\n\r\n    MediaPlayer loginSound;\r\n    private FirebaseAuth.AuthStateListener authStateListener;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        // for changing status bar icon color\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\r\n            Window window = getWindow();\r\n            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n            window.setStatusBarColor(getResources().getColor(R.color.register_bk_color));\r\n\r\n        }\r\n        setContentView(R.layout.activity_login);\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n\r\n        authStateListener = new FirebaseAuth.AuthStateListener() {\r\n            @Override\r\n            public void onAuthStateChanged(@NonNull FirebaseAuth firebaseAuth) {\r\n                FirebaseUser user=mAuth.getCurrentUser();\r\n                if(user!=null){\r\n                    Intent intent = new Intent(LoginActivity.this, UserDashboard.class);\r\n                    startActivity(intent);\r\n                    finish();\r\n                }\r\n            }\r\n        };\r\n\r\n        //login sound\r\n        loginSound=MediaPlayer.create(this,R.raw.alert);\r\n\r\n\r\n        nameEt = findViewById(R.id.editTextName);\r\n        passwordEt = findViewById(R.id.editTextPaswword);\r\n\r\n\r\n        //loading\r\n        buttonView = findViewById(R.id.progressLoginButton);\r\n        buttonView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                progressButton = new ProgressButton(LoginActivity.this, buttonView);\r\n\r\n                progressButton.buttonActivated();\r\n                if (!login()) {\r\n                    progressButton.buttonFinished();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    public void onLoginClick(View view) {\r\n        startActivity(new Intent(this, RegisterActivity.class));\r\n        overridePendingTransition(R.anim.slide_in_right, R.anim.stay);\r\n    }\r\n\r\n    public boolean login() {\r\n        final String name, password;\r\n        password = passwordEt.getText().toString();\r\n        name = nameEt.getText().toString();\r\n\r\n\r\n        if (TextUtils.isEmpty(name)) {\r\n            nameEt.setError(\"Enter your Email\");\r\n            nameEt.requestFocus();\r\n            return false;\r\n        } else if (TextUtils.isEmpty(password)) {\r\n            passwordEt.setError(\"Enter your password\");\r\n            passwordEt.requestFocus();\r\n            return false;\r\n        }\r\n        passwordEt.onEditorAction(EditorInfo.IME_ACTION_DONE);\r\n\r\n        mAuth.signInWithEmailAndPassword(name,password).addOnCompleteListener(new OnCompleteListener<AuthResult>() {\r\n            @Override\r\n            public void onComplete(@NonNull Task<AuthResult> task) {\r\n                if(task.isSuccessful()){\r\n                    Intent intent = new Intent(LoginActivity.this,UserDashboard.class);\r\n                    startActivity(intent);\r\n                    finish();\r\n                    Toast.makeText(LoginActivity.this,\"Welcome\"+mAuth.getCurrentUser().getEmail(),Toast.LENGTH_SHORT).show();\r\n                    loginSound.start();\r\n                }\r\n                else {\r\n                    Toast.makeText(LoginActivity.this,\"login failed\"+task.getException().toString(),Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });\r\n        return true;\r\n    }\r\n\r\n\r\n    public void callForgetPassword(View view) {\r\n        Intent i = new Intent(getApplicationContext(), ForgetPassword.class);\r\n        startActivity(i);\r\n//        overridePendingTransition(R.anim.slide_in_right,R.anim.stay);\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        mAuth.addAuthStateListener(authStateListener);\r\n    }\r\n\r\n    @Override\r\n    protected void onStop() {\r\n        super.onStop();\r\n        mAuth.removeAuthStateListener(authStateListener);\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/r_edu_kt/User/Login/LoginActivity.java	(revision e2b83da69ae71efe9a8ea6a6d8b03bd08147db7e)
+++ app/src/main/java/com/example/r_edu_kt/User/Login/LoginActivity.java	(date 1622468378396)
@@ -15,6 +15,7 @@
 import android.view.WindowManager;
 import android.view.inputmethod.EditorInfo;
 import android.widget.EditText;
+import android.widget.TextView;
 import android.widget.Toast;
 
 import com.example.r_edu_kt.Common.ProgressButton;
@@ -35,9 +36,13 @@
 import com.google.firebase.database.Query;
 import com.google.firebase.database.ValueEventListener;
 
+import java.util.Map;
+
 public class LoginActivity extends AppCompatActivity {
 
     EditText nameEt, passwordEt;
+    TextView tv;
+    String Uname="",userid;
 
     View buttonView;
     ProgressButton progressButton;
@@ -66,9 +71,25 @@
             public void onAuthStateChanged(@NonNull FirebaseAuth firebaseAuth) {
                 FirebaseUser user=mAuth.getCurrentUser();
                 if(user!=null){
+                    userid = user.getUid();
+                    DatabaseReference reference = FirebaseDatabase.getInstance().getReference("Users").child(userid);
                     Intent intent = new Intent(LoginActivity.this, UserDashboard.class);
                     startActivity(intent);
                     finish();
+                    reference.addListenerForSingleValueEvent(new ValueEventListener() {
+                        @Override
+                        public void onDataChange(@NonNull DataSnapshot snapshot) {
+                            User user = snapshot.getValue(User.class);
+                            Uname = user.getUserName();
+                            Toast.makeText(LoginActivity.this,"Welcome "+Uname+"!",Toast.LENGTH_SHORT).show();
+                            loginSound.start();
+                        }
+
+                        @Override
+                        public void onCancelled(@NonNull DatabaseError error) {
+
+                        }
+                    });
                 }
             }
         };
@@ -79,6 +100,7 @@
 
         nameEt = findViewById(R.id.editTextName);
         passwordEt = findViewById(R.id.editTextPaswword);
+        tv = findViewById(R.id.textView);
 
 
         //loading
@@ -91,6 +113,7 @@
                 progressButton.buttonActivated();
                 if (!login()) {
                     progressButton.buttonFinished();
+                    tv.setText("Login");
                 }
             }
         });
@@ -120,16 +143,49 @@
 
         mAuth.signInWithEmailAndPassword(name,password).addOnCompleteListener(new OnCompleteListener<AuthResult>() {
             @Override
-            public void onComplete(@NonNull Task<AuthResult> task) {
+            public void onComplete(@NonNull final Task<AuthResult> task) {
                 if(task.isSuccessful()){
                     Intent intent = new Intent(LoginActivity.this,UserDashboard.class);
                     startActivity(intent);
                     finish();
-                    Toast.makeText(LoginActivity.this,"Welcome"+mAuth.getCurrentUser().getEmail(),Toast.LENGTH_SHORT).show();
-                    loginSound.start();
+                    userid = mAuth.getCurrentUser().getUid();
+                    DatabaseReference reference = FirebaseDatabase.getInstance().getReference("Users").child(userid);
+                    reference.addListenerForSingleValueEvent(new ValueEventListener() {
+                        @Override
+                        public void onDataChange(@NonNull DataSnapshot snapshot) {
+                            User user = snapshot.getValue(User.class);
+                            Uname = user.getUserName();
+                            Toast.makeText(LoginActivity.this,"Welcome "+Uname+"!",Toast.LENGTH_SHORT).show();
+                            loginSound.start();
+                        }
+
+                        @Override
+                        public void onCancelled(@NonNull DatabaseError error) {
+
+                        }
+                    });
                 }
-                else {
-                    Toast.makeText(LoginActivity.this,"login failed"+task.getException().toString(),Toast.LENGTH_SHORT).show();
+                else{
+                    final String email_error = "com.google.firebase.auth.FirebaseAuthInvalidUserException: There is no user record corresponding to this identifier. The user may have been deleted.";
+                    final String password_error = "com.google.firebase.auth.FirebaseAuthInvalidCredentialsException: The password is invalid or the user does not have a password.";
+                    String exception = task.getException().toString();
+                    if(email_error.equals(exception)){
+                        nameEt.setError("Entered email is wrong");
+                        nameEt.requestFocus();
+                        progressButton.buttonFinished();
+                        tv.setText("Login");
+                    }
+                    else if (password_error.equals(exception)){
+                        passwordEt.setError("Entered password is wrong");
+                        passwordEt.requestFocus();
+                        progressButton.buttonFinished();
+                        tv.setText("Login");
+                    }
+                    else {
+                        Toast.makeText(LoginActivity.this,exception,Toast.LENGTH_SHORT).show();
+                        progressButton.buttonFinished();
+                        tv.setText("Login");
+                    }
                 }
             }
         });
Index: app/src/main/java/com/example/r_edu_kt/User/MyAccount/MyAccountGender.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.r_edu_kt.User.MyAccount;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\nimport android.widget.ImageView;\r\nimport android.widget.RadioButton;\r\nimport android.widget.RadioGroup;\r\nimport android.widget.Toast;\r\n\r\nimport com.example.r_edu_kt.Model.User;\r\nimport com.example.r_edu_kt.R;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\npublic class MyAccountGender extends AppCompatActivity {\r\n\r\n    RadioGroup radioGroup;\r\n    RadioButton selectedGender;\r\n    String gender;\r\n    ImageView back;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_my_account_gender);\r\n\r\n        //STATUS BAR\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\r\n            Window window = getWindow();\r\n            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n            window.setStatusBarColor(getResources().getColor(R.color.colorAccent));\r\n        }\r\n\r\n        DatabaseReference reference = FirebaseDatabase.getInstance().getReference(\"Users\").child(FirebaseAuth.getInstance().getCurrentUser().getUid());\r\n        reference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                User user= snapshot.getValue(User.class);\r\n                gender=user.getGender();\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                Toast.makeText(MyAccountGender.this,error.getMessage(),Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n        });\r\n        //hooks\r\n//        radioGroup=findViewById(R.id.account_radio_group);\r\n//        selectedGender=findViewById(radioGroup.getCheckedRadioButtonId());\r\n//        gender=getIntent().getStringExtra(\"gender\");\r\n//        selectedGender.setText(gender);\r\n\r\n        back=findViewById(R.id.account_gender_back_btn);\r\n        back.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                onBackPressed();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        super.onBackPressed();\r\n        overridePendingTransition(R.anim.slide_in_left, R.anim.slide_out_right);\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/r_edu_kt/User/MyAccount/MyAccountGender.java	(revision e2b83da69ae71efe9a8ea6a6d8b03bd08147db7e)
+++ app/src/main/java/com/example/r_edu_kt/User/MyAccount/MyAccountGender.java	(date 1622701359862)
@@ -3,11 +3,14 @@
 import androidx.annotation.NonNull;
 import androidx.appcompat.app.AppCompatActivity;
 
+import android.app.ProgressDialog;
 import android.os.Build;
 import android.os.Bundle;
+import android.text.TextUtils;
 import android.view.View;
 import android.view.Window;
 import android.view.WindowManager;
+import android.widget.Button;
 import android.widget.ImageView;
 import android.widget.RadioButton;
 import android.widget.RadioGroup;
@@ -15,6 +18,9 @@
 
 import com.example.r_edu_kt.Model.User;
 import com.example.r_edu_kt.R;
+import com.example.r_edu_kt.User.ForgetPassword.SetNewPassword;
+import com.google.android.gms.tasks.OnFailureListener;
+import com.google.android.gms.tasks.OnSuccessListener;
 import com.google.firebase.auth.FirebaseAuth;
 import com.google.firebase.database.DataSnapshot;
 import com.google.firebase.database.DatabaseError;
@@ -22,12 +28,18 @@
 import com.google.firebase.database.FirebaseDatabase;
 import com.google.firebase.database.ValueEventListener;
 
+import org.jetbrains.annotations.NotNull;
+
+import java.util.HashMap;
+
 public class MyAccountGender extends AppCompatActivity {
 
     RadioGroup radioGroup;
     RadioButton selectedGender;
     String gender;
     ImageView back;
+    Button update,cancel;
+
     @Override
     protected void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);
@@ -40,6 +52,10 @@
             window.setStatusBarColor(getResources().getColor(R.color.colorAccent));
         }
 
+        update = findViewById(R.id.set_new_full_name);
+        cancel = findViewById(R.id.cancel_new_full_name);
+        radioGroup=findViewById(R.id.account_radio_group);
+
         DatabaseReference reference = FirebaseDatabase.getInstance().getReference("Users").child(FirebaseAuth.getInstance().getCurrentUser().getUid());
         reference.addValueEventListener(new ValueEventListener() {
             @Override
@@ -52,6 +68,47 @@
             public void onCancelled(@NonNull DatabaseError error) {
                 Toast.makeText(MyAccountGender.this,error.getMessage(),Toast.LENGTH_SHORT).show();
 
+            }
+        });
+
+        update.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                selectedGender=findViewById(radioGroup.getCheckedRadioButtonId());
+                String getgender = selectedGender.getText().toString();
+                    final ProgressDialog pd = new ProgressDialog(MyAccountGender.this);
+                    pd.setMessage("Updating your Gender");
+                    pd.setCanceledOnTouchOutside(false);
+                    pd.show();
+                    FirebaseDatabase database = FirebaseDatabase.getInstance();
+                    final DatabaseReference reference = database.getReference("Users");
+
+                    HashMap<String, Object> hashMap = new HashMap<>();
+                    hashMap.put("gender", getgender);
+
+                    reference.child(FirebaseAuth.getInstance().getCurrentUser().getUid()).updateChildren(hashMap)
+                            .addOnSuccessListener(new OnSuccessListener<Void>() {
+                                @Override
+                                public void onSuccess(Void aVoid) {
+                                    Toast.makeText(MyAccountGender.this, "Gender updated successfully", Toast.LENGTH_SHORT).show();
+                                    pd.dismiss();
+                                    finish();
+                                }
+                            }).addOnFailureListener(new OnFailureListener() {
+                        @Override
+                        public void onFailure(@NonNull Exception e) {
+                            Toast.makeText(MyAccountGender.this, "could not update Gender", Toast.LENGTH_SHORT).show();
+                            pd.dismiss();
+                        }
+                    });
+                }
+        });
+
+
+        cancel.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                finish();
             }
         });
         //hooks
Index: app/src/main/java/com/example/r_edu_kt/User/UserDashboard.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.r_edu_kt.User;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.app.AlertDialog;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.graphics.drawable.GradientDrawable;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\nimport android.widget.ImageView;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.core.view.GravityCompat;\r\nimport androidx.drawerlayout.widget.DrawerLayout;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.example.r_edu_kt.HelperClasses.HomeAdapter.CategoriesAdapter;\r\nimport com.example.r_edu_kt.HelperClasses.HomeAdapter.CategoriesHelperClass;\r\nimport com.example.r_edu_kt.HelperClasses.HomeAdapter.FeaturedAdapter;\r\nimport com.example.r_edu_kt.HelperClasses.HomeAdapter.FeaturedHelperClass;\r\nimport com.example.r_edu_kt.HelperClasses.HomeAdapter.MostViewedAdapter;\r\nimport com.example.r_edu_kt.HelperClasses.HomeAdapter.MostViewedHelperClass;\r\nimport com.example.r_edu_kt.Model.User;\r\nimport com.example.r_edu_kt.R;\r\nimport com.example.r_edu_kt.User.CourseLayout.CourseOverview;\r\nimport com.example.r_edu_kt.User.MyAccount.MyAccount;\r\nimport com.example.r_edu_kt.User.Quiz.QuizIntro;\r\nimport com.example.r_edu_kt.discussion_home;\r\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\r\nimport com.google.android.material.navigation.NavigationView;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\nimport com.squareup.picasso.Picasso;\r\n\r\nimport java.util.ArrayList;\r\n\r\nimport de.hdodenhof.circleimageview.CircleImageView;\r\n\r\npublic class UserDashboard extends AppCompatActivity implements NavigationView.OnNavigationItemSelectedListener {\r\n\r\n    Context mcontext;\r\n\r\n    static final float END_SCALE = 0.7f;\r\n    RecyclerView featuredRecycler, mostViewedRecycler, categoriesRecycler;\r\n    RecyclerView.Adapter adapter;\r\n    private GradientDrawable gradient1, gradient2, gradient3, gradient4;\r\n    ImageView menuIcon, cseIcon,mechIcon;\r\n    LinearLayout contentView;\r\n    DrawerLayout drawerLayout;\r\n    NavigationView navigationView;\r\n    String fullName,email;\r\n    Context context;\r\n\r\n    FloatingActionButton toDiso;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n//        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n        setContentView(R.layout.activity_user_dashboard);\r\n\r\n        //STATUS BAR\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\r\n            Window window = getWindow();\r\n            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n            window.setStatusBarColor(getResources().getColor(R.color.colorAccent));\r\n        }\r\n\r\n        //to discussion forum\r\n        toDiso=findViewById(R.id.user_dashboard_to_discussion);\r\n        toDiso.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent todisco=new Intent(getApplicationContext(),discussion_home.class);\r\n                startActivity(todisco);\r\n                overridePendingTransition(R.anim.slide_in_left, R.anim.slide_out_right);\r\n            }\r\n        });\r\n\r\n\r\n        //Hooks\r\n        featuredRecycler = findViewById(R.id.featured_recycler);\r\n        mostViewedRecycler = findViewById(R.id.most_viewed_recycler);\r\n        categoriesRecycler = findViewById(R.id.categories_recycler);\r\n        menuIcon = findViewById(R.id.menu_icon);\r\n        contentView = findViewById(R.id.content);\r\n        //menu hooks\r\n        drawerLayout = findViewById(R.id.drawer_layout);\r\n\r\n        //codefor hi + userName\r\n        navigationView = findViewById(R.id.navigation_view);\r\n        View header = navigationView.getHeaderView(0);\r\n        final TextView app_nameEt = header.findViewById(R.id.app_name);\r\n        final TextView mail_id = header.findViewById(R.id.mail_id);\r\n        final CircleImageView pro_img = findViewById(R.id.pro_img);\r\n\r\n        DatabaseReference reference = FirebaseDatabase.getInstance().getReference(\"Users\").child(FirebaseAuth.getInstance().getCurrentUser().getUid());\r\n        reference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                User user= snapshot.getValue(User.class);\r\n                //Picasso.get().load(user.getProfileimage()).into(pro_img);\r\n                fullName = user.getFullName();\r\n                email=user.getEmail();\r\n                app_nameEt.setText(\"Hi !\\n\"+fullName);\r\n                mail_id.setText(email);\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                Toast.makeText(UserDashboard.this,error.getMessage(),Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n        });\r\n\r\n        //course hooks\r\n        cseIcon = findViewById(R.id.cse);\r\n        cseIcon.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                startActivity(new Intent(getApplicationContext(), CourseOverview.class));\r\n            }\r\n        });\r\n\r\n        //quiz hooks\r\n        mechIcon=findViewById(R.id.mech);\r\n        mechIcon.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                startActivity(new Intent(getApplicationContext(), QuizIntro.class));\r\n            }\r\n        });\r\n\r\n        naviagationDrawer();\r\n\r\n        featuredRecycler();\r\n        mostViewedRecycler();\r\n        categoriesRecycler();\r\n\r\n\r\n    }\r\n\r\n    private void naviagationDrawer() {\r\n        navigationView.bringToFront();\r\n        navigationView.setNavigationItemSelectedListener(this);\r\n        navigationView.setCheckedItem(R.id.nav_home);\r\n        menuIcon.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if (drawerLayout.isDrawerVisible(GravityCompat.START))\r\n                    drawerLayout.closeDrawer(GravityCompat.START);\r\n                else drawerLayout.openDrawer(GravityCompat.START);\r\n            }\r\n        });\r\n\r\n        animateNavigateDrawer();\r\n    }\r\n\r\n    private void animateNavigateDrawer() {\r\n        drawerLayout.setScrimColor(getResources().getColor(R.color.colorAccent));\r\n        drawerLayout.addDrawerListener(new DrawerLayout.SimpleDrawerListener() {\r\n            @Override\r\n            public void onDrawerSlide(View drawerView, float slideOffset) {\r\n\r\n                final float diffScaledOffset = slideOffset * (1 - END_SCALE);\r\n                final float offsetScale = 1 - diffScaledOffset;\r\n                contentView.setScaleX(offsetScale);\r\n                contentView.setScaleY(offsetScale);\r\n\r\n                final float xOffset = drawerView.getWidth() * slideOffset;\r\n                final float xOffsetDiff = contentView.getWidth() * diffScaledOffset / 2;\r\n                final float xTranslation = xOffset - xOffsetDiff;\r\n                contentView.setTranslationX(xTranslation);\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        if (drawerLayout.isDrawerVisible(GravityCompat.START)) {\r\n            drawerLayout.closeDrawer(GravityCompat.START);\r\n        } else\r\n            super.onBackPressed();\r\n    }\r\n\r\n    @Override\r\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n        switch (item.getItemId()) {\r\n            case R.id.nav_profile:\r\n                Intent account_intent=new Intent(getApplicationContext(), MyAccount.class);\r\n               startActivity(account_intent);\r\n                overridePendingTransition(R.anim.slide_in_right, R.anim.slide_out_left);\r\n                break;\r\n            case R.id.nav_discussion:\r\n                Intent intent = new Intent(UserDashboard.this, discussion_home.class);\r\n                startActivity(intent);\r\n                overridePendingTransition(R.anim.slide_in_right, R.anim.slide_out_left);\r\n                break;\r\n\r\n            case R.id.nav_home:\r\n                Intent intent1 = new Intent(UserDashboard.this,UserDashboard.class);\r\n                startActivity(intent1);\r\n                overridePendingTransition(R.anim.slide_in_right, R.anim.slide_out_left);\r\n                break;\r\n\r\n\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n\r\n    private void categoriesRecycler() {\r\n\r\n        //All Gradients\r\n        gradient2 = new GradientDrawable(GradientDrawable.Orientation.LEFT_RIGHT, new int[]{0xffd4cbe5, 0xffd4cbe5});\r\n        gradient1 = new GradientDrawable(GradientDrawable.Orientation.LEFT_RIGHT, new int[]{0xff7adccf, 0xff7adccf});\r\n        gradient3 = new GradientDrawable(GradientDrawable.Orientation.LEFT_RIGHT, new int[]{0xfff7c59f, 0xFFf7c59f});\r\n        gradient4 = new GradientDrawable(GradientDrawable.Orientation.LEFT_RIGHT, new int[]{0xffb8d7f5, 0xffb8d7f5});\r\n\r\n\r\n        ArrayList<CategoriesHelperClass> categoriesHelperClasses = new ArrayList<>();\r\n        categoriesHelperClasses.add(new CategoriesHelperClass(gradient4, R.drawable.dbms, \"Dbms\"));\r\n        categoriesHelperClasses.add(new CategoriesHelperClass(gradient1, R.drawable.os, \"Operating systems\"));\r\n        categoriesHelperClasses.add(new CategoriesHelperClass(gradient2, R.drawable.web_design, \"Web Design\"));\r\n        categoriesHelperClasses.add(new CategoriesHelperClass(gradient3, R.drawable.shell, \"Shell script\"));\r\n        categoriesHelperClasses.add(new CategoriesHelperClass(gradient1, R.drawable.programm, \"Programming\"));\r\n\r\n\r\n        categoriesRecycler.setHasFixedSize(true);\r\n        adapter = new CategoriesAdapter(categoriesHelperClasses);\r\n        categoriesRecycler.setLayoutManager(new LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL, false));\r\n        categoriesRecycler.setAdapter(adapter);\r\n\r\n    }\r\n\r\n    private void mostViewedRecycler() {\r\n\r\n        mostViewedRecycler.setHasFixedSize(true);\r\n        mostViewedRecycler.setLayoutManager(new LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL, false));\r\n\r\n        ArrayList<MostViewedHelperClass> mostViewedLocations = new ArrayList<>();\r\n        mostViewedLocations.add(new MostViewedHelperClass(R.drawable.machinelearning, \"Machine Learning\"));\r\n        mostViewedLocations.add(new MostViewedHelperClass(R.drawable.artificial_intelligence, \"Artificial Intelligence\"));\r\n        mostViewedLocations.add(new MostViewedHelperClass(R.drawable.cloudcomputing, \"Cloud Computing\"));\r\n        mostViewedLocations.add(new MostViewedHelperClass(R.drawable.iot, \"IOT\"));\r\n\r\n        adapter = new MostViewedAdapter(mostViewedLocations);\r\n        mostViewedRecycler.setAdapter(adapter);\r\n\r\n    }\r\n\r\n    private void featuredRecycler() {\r\n        featuredRecycler.setHasFixedSize(true);\r\n        featuredRecycler.setLayoutManager(new LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL, false));\r\n\r\n        ArrayList<FeaturedHelperClass> featuredCourses = new ArrayList<>();\r\n\r\n        featuredCourses.add(new FeaturedHelperClass(R.drawable.mad, \"App development\", \"asbkd asudhlasn saudnas jasdjasl hisajdl asjdlnas\"));\r\n        featuredCourses.add(new FeaturedHelperClass(R.drawable.data_analysis, \"Data analysis\", \"asbkd asudhlasn saudnas jasdjasl hisajdl asjdlnas\"));\r\n        featuredCourses.add(new FeaturedHelperClass(R.drawable.artificial_intelligence, \"Artificial Intelligence\", \"asbkd asudhlasn saudnas jasdjasl hisajdl asjdlnas\"));\r\n        featuredCourses.add(new FeaturedHelperClass(R.drawable.iot, \"IOT\", \"asbkd asudhlasn saudnas jasdjasl hisajdl asjdlnas\"));\r\n\r\n\r\n        adapter = new FeaturedAdapter(featuredCourses);\r\n        featuredRecycler.setAdapter(adapter);\r\n\r\n\r\n    }\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/r_edu_kt/User/UserDashboard.java	(revision e2b83da69ae71efe9a8ea6a6d8b03bd08147db7e)
+++ app/src/main/java/com/example/r_edu_kt/User/UserDashboard.java	(date 1622701793634)
@@ -4,6 +4,7 @@
 import androidx.appcompat.app.AppCompatActivity;
 
 import android.app.AlertDialog;
+import android.app.ProgressDialog;
 import android.content.Context;
 import android.content.Intent;
 import android.graphics.drawable.GradientDrawable;
@@ -14,6 +15,7 @@
 import android.view.View;
 import android.view.Window;
 import android.view.WindowManager;
+import android.widget.Button;
 import android.widget.ImageView;
 import android.widget.LinearLayout;
 import android.widget.TextView;
@@ -34,9 +36,12 @@
 import com.example.r_edu_kt.Model.User;
 import com.example.r_edu_kt.R;
 import com.example.r_edu_kt.User.CourseLayout.CourseOverview;
+import com.example.r_edu_kt.User.Login.LoginActivity;
 import com.example.r_edu_kt.User.MyAccount.MyAccount;
+import com.example.r_edu_kt.User.MyAccount.MyAccountEmail;
 import com.example.r_edu_kt.User.Quiz.QuizIntro;
 import com.example.r_edu_kt.discussion_home;
+import com.google.android.gms.tasks.OnSuccessListener;
 import com.google.android.material.floatingactionbutton.FloatingActionButton;
 import com.google.android.material.navigation.NavigationView;
 import com.google.firebase.auth.FirebaseAuth;
@@ -45,9 +50,12 @@
 import com.google.firebase.database.DatabaseReference;
 import com.google.firebase.database.FirebaseDatabase;
 import com.google.firebase.database.ValueEventListener;
+import com.google.firebase.messaging.FirebaseMessaging;
 import com.squareup.picasso.Picasso;
 
 import java.util.ArrayList;
+import java.util.HashMap;
+import java.util.Locale;
 
 import de.hdodenhof.circleimageview.CircleImageView;
 
@@ -102,22 +110,30 @@
         //menu hooks
         drawerLayout = findViewById(R.id.drawer_layout);
 
+        FirebaseMessaging.getInstance().subscribeToTopic(FirebaseAuth.getInstance().getCurrentUser().getUid());
+
         //codefor hi + userName
         navigationView = findViewById(R.id.navigation_view);
-        View header = navigationView.getHeaderView(0);
+        final View header = navigationView.getHeaderView(0);
         final TextView app_nameEt = header.findViewById(R.id.app_name);
         final TextView mail_id = header.findViewById(R.id.mail_id);
-        final CircleImageView pro_img = findViewById(R.id.pro_img);
+        final CircleImageView pro_img = header.findViewById(R.id.pro_img);
 
         DatabaseReference reference = FirebaseDatabase.getInstance().getReference("Users").child(FirebaseAuth.getInstance().getCurrentUser().getUid());
         reference.addValueEventListener(new ValueEventListener() {
             @Override
             public void onDataChange(@NonNull DataSnapshot snapshot) {
                 User user= snapshot.getValue(User.class);
-                //Picasso.get().load(user.getProfileimage()).into(pro_img);
+                Glide.with(header.getContext()).load(user.getProfileimage()).into(pro_img);
                 fullName = user.getFullName();
                 email=user.getEmail();
                 app_nameEt.setText("Hi !\n"+fullName);
+                if(!email.equals(FirebaseAuth.getInstance().getCurrentUser().getEmail())) {
+                    HashMap<String, Object> hashMap = new HashMap<>();
+                    hashMap.put("email", FirebaseAuth.getInstance().getCurrentUser().getEmail());
+                    reference.updateChildren(hashMap);
+                }
+                email=user.getEmail();
                 mail_id.setText(email);
             }
 
@@ -219,7 +235,35 @@
                 startActivity(intent1);
                 overridePendingTransition(R.anim.slide_in_right, R.anim.slide_out_left);
                 break;
-
+            case R.id.nav_logout:
+                View view = LayoutInflater.from(this).inflate(R.layout.logoutdialog,null);
+
+                Button submit=view.findViewById(R.id.postl);
+                Button canc=view.findViewById(R.id.cancell);
+
+                final AlertDialog dialog = new AlertDialog.Builder(this)
+                        .setView(view).setCancelable(false).create();
+                dialog.getWindow().setBackgroundDrawableResource(android.R.color.transparent);
+                dialog.show();
+
+                canc.setOnClickListener(new View.OnClickListener() {
+                    @Override
+                    public void onClick(View v) {
+                        dialog.dismiss();
+                    }
+                });
+
+                submit.setOnClickListener(new View.OnClickListener() {
+                    @Override
+                    public void onClick(View v) {
+                        FirebaseAuth.getInstance().signOut();
+                        Intent intent=new Intent(UserDashboard.this, LoginActivity.class);
+                        dialog.dismiss();
+                        startActivity(intent);
+                        finish();
+                    }
+                });
+                break;
 
         }
 
Index: app/src/main/java/com/example/r_edu_kt/User/MyAccount/MyAccountBirthday.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.r_edu_kt.User.MyAccount;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\nimport android.widget.DatePicker;\r\nimport android.widget.ImageView;\r\nimport android.widget.Toast;\r\n\r\nimport com.example.r_edu_kt.Model.User;\r\nimport com.example.r_edu_kt.R;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\npublic class MyAccountBirthday extends AppCompatActivity {\r\n\r\n    DatePicker datePicker;\r\n    String date;\r\n    ImageView back;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_my_account_birthday);\r\n\r\n        //STATUS BAR\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\r\n            Window window = getWindow();\r\n            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n            window.setStatusBarColor(getResources().getColor(R.color.colorAccent));\r\n        }\r\n\r\n        //hooks\r\n        datePicker=findViewById(R.id.birthday_age_picker);\r\n        DatabaseReference reference = FirebaseDatabase.getInstance().getReference(\"Users\").child(FirebaseAuth.getInstance().getCurrentUser().getUid());\r\n        reference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                User user= snapshot.getValue(User.class);\r\n                date=user.getDate();\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                Toast.makeText(MyAccountBirthday.this,error.getMessage(),Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n        });\r\n        back=findViewById(R.id.account_birthday_back_btn);\r\n        back.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                onBackPressed();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        super.onBackPressed();\r\n        overridePendingTransition(R.anim.slide_in_left, R.anim.slide_out_right);\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/r_edu_kt/User/MyAccount/MyAccountBirthday.java	(revision e2b83da69ae71efe9a8ea6a6d8b03bd08147db7e)
+++ app/src/main/java/com/example/r_edu_kt/User/MyAccount/MyAccountBirthday.java	(date 1622354041452)
@@ -3,17 +3,22 @@
 import androidx.annotation.NonNull;
 import androidx.appcompat.app.AppCompatActivity;
 
+import android.app.ProgressDialog;
 import android.os.Build;
 import android.os.Bundle;
+import android.text.TextUtils;
 import android.view.View;
 import android.view.Window;
 import android.view.WindowManager;
+import android.widget.Button;
 import android.widget.DatePicker;
 import android.widget.ImageView;
 import android.widget.Toast;
 
 import com.example.r_edu_kt.Model.User;
 import com.example.r_edu_kt.R;
+import com.google.android.gms.tasks.OnFailureListener;
+import com.google.android.gms.tasks.OnSuccessListener;
 import com.google.firebase.auth.FirebaseAuth;
 import com.google.firebase.database.DataSnapshot;
 import com.google.firebase.database.DatabaseError;
@@ -21,11 +26,15 @@
 import com.google.firebase.database.FirebaseDatabase;
 import com.google.firebase.database.ValueEventListener;
 
+import java.util.Calendar;
+import java.util.HashMap;
+
 public class MyAccountBirthday extends AppCompatActivity {
 
     DatePicker datePicker;
     String date;
     ImageView back;
+    Button update,cancel;
     @Override
     protected void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);
@@ -40,6 +49,8 @@
 
         //hooks
         datePicker=findViewById(R.id.birthday_age_picker);
+        update = findViewById(R.id.set_new_full_name);
+        cancel = findViewById(R.id.cancel_new_full_name);
         DatabaseReference reference = FirebaseDatabase.getInstance().getReference("Users").child(FirebaseAuth.getInstance().getCurrentUser().getUid());
         reference.addValueEventListener(new ValueEventListener() {
             @Override
@@ -54,6 +65,56 @@
 
             }
         });
+
+        update.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                int day=datePicker.getDayOfMonth();
+                int month=datePicker.getMonth()+1;
+                int year=datePicker.getYear();
+                int currentYear= Calendar.getInstance().get(Calendar.YEAR);
+                int isAgeValid=currentYear-year;
+                if(isAgeValid<14){
+                    Toast.makeText(MyAccountBirthday.this,"Age must be atleast 14 ",Toast.LENGTH_SHORT).show();
+                }else{
+                    String date=day+"/"+month+"/"+year;
+                    final ProgressDialog pd = new ProgressDialog(MyAccountBirthday.this);
+                    pd.setMessage("Updating your BirthDay");
+                    pd.setCanceledOnTouchOutside(false);
+                    pd.show();
+
+                    FirebaseDatabase database= FirebaseDatabase.getInstance();
+                    final DatabaseReference reference= database.getReference("Users");
+
+                    HashMap<String, Object> hashMap = new HashMap<>();
+                    hashMap.put("date",date);
+
+                    reference.child(FirebaseAuth.getInstance().getCurrentUser().getUid()).updateChildren(hashMap)
+                            .addOnSuccessListener(new OnSuccessListener<Void>() {
+                                @Override
+                                public void onSuccess(Void aVoid) {
+                                    Toast.makeText(MyAccountBirthday.this,"BirthDay updated successfully",Toast.LENGTH_SHORT).show();
+                                    pd.dismiss();
+                                    finish();
+                                }
+                            }).addOnFailureListener(new OnFailureListener() {
+                        @Override
+                        public void onFailure(@NonNull Exception e) {
+                            Toast.makeText(MyAccountBirthday.this,"could not update BirthDay",Toast.LENGTH_SHORT).show();
+                            pd.dismiss();
+                        }
+                    });
+                }
+                }
+            });
+
+        cancel.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                finish();
+            }
+        });
+
         back=findViewById(R.id.account_birthday_back_btn);
         back.setOnClickListener(new View.OnClickListener() {
             @Override
Index: app/src/main/java/com/example/r_edu_kt/User/MyAccount/MyAccountName.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.r_edu_kt.User.MyAccount;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageView;\r\nimport android.widget.Toast;\r\n\r\nimport com.example.r_edu_kt.Model.User;\r\nimport com.example.r_edu_kt.R;\r\nimport com.example.r_edu_kt.discussion_home;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\npublic class MyAccountName extends AppCompatActivity {\r\n\r\n    EditText fullName;\r\n    String full_name;\r\n    ImageView back;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_my_account_name);\r\n\r\n        //STATUS BAR\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\r\n            Window window = getWindow();\r\n            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n            window.setStatusBarColor(getResources().getColor(R.color.colorAccent));\r\n        }\r\n\r\n        //hooks\r\n        fullName=findViewById(R.id.full_name);\r\n\r\n        DatabaseReference reference = FirebaseDatabase.getInstance().getReference(\"Users\").child(FirebaseAuth.getInstance().getCurrentUser().getUid());\r\n        reference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                User user= snapshot.getValue(User.class);\r\n                full_name = user.getFullName();\r\n                fullName.setText(full_name);\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                Toast.makeText(MyAccountName.this,error.getMessage(),Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n        });\r\n        back=findViewById(R.id.account_name_back_btn);\r\n        back.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                onBackPressed();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        super.onBackPressed();\r\n        overridePendingTransition(R.anim.slide_in_left, R.anim.slide_out_right);\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/r_edu_kt/User/MyAccount/MyAccountName.java	(revision e2b83da69ae71efe9a8ea6a6d8b03bd08147db7e)
+++ app/src/main/java/com/example/r_edu_kt/User/MyAccount/MyAccountName.java	(date 1622470687806)
@@ -3,8 +3,10 @@
 import androidx.annotation.NonNull;
 import androidx.appcompat.app.AppCompatActivity;
 
+import android.app.ProgressDialog;
 import android.os.Build;
 import android.os.Bundle;
+import android.text.TextUtils;
 import android.view.View;
 import android.view.Window;
 import android.view.WindowManager;
@@ -16,6 +18,8 @@
 import com.example.r_edu_kt.Model.User;
 import com.example.r_edu_kt.R;
 import com.example.r_edu_kt.discussion_home;
+import com.google.android.gms.tasks.OnFailureListener;
+import com.google.android.gms.tasks.OnSuccessListener;
 import com.google.firebase.auth.FirebaseAuth;
 import com.google.firebase.database.DataSnapshot;
 import com.google.firebase.database.DatabaseError;
@@ -23,11 +27,15 @@
 import com.google.firebase.database.FirebaseDatabase;
 import com.google.firebase.database.ValueEventListener;
 
+import java.util.HashMap;
+
 public class MyAccountName extends AppCompatActivity {
 
     EditText fullName;
     String full_name;
     ImageView back;
+    Button update,cancel;
+
     @Override
     protected void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);
@@ -42,6 +50,8 @@
 
         //hooks
         fullName=findViewById(R.id.full_name);
+        update = findViewById(R.id.set_new_full_name);
+        cancel = findViewById(R.id.cancel_new_full_name);
 
         DatabaseReference reference = FirebaseDatabase.getInstance().getReference("Users").child(FirebaseAuth.getInstance().getCurrentUser().getUid());
         reference.addValueEventListener(new ValueEventListener() {
@@ -58,6 +68,54 @@
 
             }
         });
+
+        update.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                full_name = fullName.getText().toString();
+                if(TextUtils.isEmpty(full_name)){
+                    fullName.setError("Required Name");
+                    fullName.requestFocus();
+                }
+                else {
+                    final ProgressDialog pd = new ProgressDialog(MyAccountName.this);
+                    pd.setMessage("Updating your Name");
+                    pd.setCanceledOnTouchOutside(false);
+                    pd.show();
+
+                    FirebaseDatabase database= FirebaseDatabase.getInstance();
+                    final DatabaseReference reference= database.getReference("Users");
+
+                    HashMap<String, Object> hashMap = new HashMap<>();
+                    hashMap.put("fullName",full_name);
+
+                    reference.child(FirebaseAuth.getInstance().getCurrentUser().getUid()).updateChildren(hashMap)
+                            .addOnSuccessListener(new OnSuccessListener<Void>() {
+                                @Override
+                                public void onSuccess(Void aVoid) {
+                                    Toast.makeText(MyAccountName.this,"Name updated successfully",Toast.LENGTH_SHORT).show();
+                                    pd.dismiss();
+                                    finish();
+                                }
+                            }).addOnFailureListener(new OnFailureListener() {
+                        @Override
+                        public void onFailure(@NonNull Exception e) {
+                            Toast.makeText(MyAccountName.this,"could not update Name",Toast.LENGTH_SHORT).show();
+                            pd.dismiss();
+                        }
+                    });
+                }
+            }
+        });
+
+        cancel.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                finish();
+            }
+        });
+
+
         back=findViewById(R.id.account_name_back_btn);
         back.setOnClickListener(new View.OnClickListener() {
             @Override
Index: app/src/main/java/com/example/r_edu_kt/User/MyAccount/MyAccountEmail.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.r_edu_kt.User.MyAccount;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageView;\r\nimport android.widget.Toast;\r\n\r\nimport com.example.r_edu_kt.Model.User;\r\nimport com.example.r_edu_kt.R;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\npublic class MyAccountEmail extends AppCompatActivity {\r\n\r\n    EditText emailId;\r\n    String email_id;\r\n    ImageView back;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_my_account_email);\r\n\r\n        //STATUS BAR\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\r\n            Window window = getWindow();\r\n            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n            window.setStatusBarColor(getResources().getColor(R.color.colorAccent));\r\n        }\r\n\r\n        //hooks\r\n        emailId=findViewById(R.id.account_email_et);\r\n        DatabaseReference reference = FirebaseDatabase.getInstance().getReference(\"Users\").child(FirebaseAuth.getInstance().getCurrentUser().getUid());\r\n        reference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                User user= snapshot.getValue(User.class);\r\n                email_id= user.getEmail();\r\n                emailId.setText(email_id);\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                Toast.makeText(MyAccountEmail.this,error.getMessage(),Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n        });\r\n        back=findViewById(R.id.account_email_back_btn);\r\n        back.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                onBackPressed();\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        super.onBackPressed();\r\n        overridePendingTransition(R.anim.slide_in_left, R.anim.slide_out_right);\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/r_edu_kt/User/MyAccount/MyAccountEmail.java	(revision e2b83da69ae71efe9a8ea6a6d8b03bd08147db7e)
+++ app/src/main/java/com/example/r_edu_kt/User/MyAccount/MyAccountEmail.java	(date 1622701359871)
@@ -3,29 +3,52 @@
 import androidx.annotation.NonNull;
 import androidx.appcompat.app.AppCompatActivity;
 
+import android.app.ProgressDialog;
+import android.content.Intent;
 import android.os.Build;
 import android.os.Bundle;
+import android.os.Handler;
+import android.text.TextUtils;
 import android.view.View;
 import android.view.Window;
 import android.view.WindowManager;
+import android.widget.Button;
 import android.widget.EditText;
 import android.widget.ImageView;
 import android.widget.Toast;
 
 import com.example.r_edu_kt.Model.User;
 import com.example.r_edu_kt.R;
+import com.example.r_edu_kt.User.ForgetPassword.SetNewPassword;
+import com.example.r_edu_kt.User.Login.LoginActivity;
+import com.google.android.gms.tasks.OnCompleteListener;
+import com.google.android.gms.tasks.OnFailureListener;
+import com.google.android.gms.tasks.OnSuccessListener;
+import com.google.android.gms.tasks.Task;
 import com.google.firebase.auth.FirebaseAuth;
+import com.google.firebase.auth.FirebaseUser;
 import com.google.firebase.database.DataSnapshot;
 import com.google.firebase.database.DatabaseError;
 import com.google.firebase.database.DatabaseReference;
 import com.google.firebase.database.FirebaseDatabase;
+import com.google.firebase.database.Query;
 import com.google.firebase.database.ValueEventListener;
 
+import org.jetbrains.annotations.NotNull;
+
+import java.util.Calendar;
+import java.util.HashMap;
+
 public class MyAccountEmail extends AppCompatActivity {
 
     EditText emailId;
-    String email_id;
+    String email_id,email;
     ImageView back;
+    Button update,cancel;
+    FirebaseAuth mAuth;
+    FirebaseUser mUser;
+    private Handler mhandler = new Handler();
+
     @Override
     protected void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);
@@ -40,6 +63,8 @@
 
         //hooks
         emailId=findViewById(R.id.account_email_et);
+        update = findViewById(R.id.set_new_full_name);
+        cancel = findViewById(R.id.cancel_new_full_name);
         DatabaseReference reference = FirebaseDatabase.getInstance().getReference("Users").child(FirebaseAuth.getInstance().getCurrentUser().getUid());
         reference.addValueEventListener(new ValueEventListener() {
             @Override
@@ -55,6 +80,65 @@
 
             }
         });
+
+       update.setOnClickListener(new View.OnClickListener() {
+           @Override
+           public void onClick(View v) {
+               email = emailId.getText().toString();
+               if (TextUtils.isEmpty(email)) {
+                   emailId.setError("Required email");
+                   emailId.requestFocus();
+               } else {
+                   mAuth = FirebaseAuth.getInstance();
+                   mUser = mAuth.getCurrentUser();
+                   final DatabaseReference reference = FirebaseDatabase.getInstance().getReference("Users");
+                   HashMap<String, Object> hashMap = new HashMap<>();
+                   hashMap.put("email",email);
+
+                   final ProgressDialog pd = new ProgressDialog(MyAccountEmail.this);
+                   pd.setMessage("Updating your Email");
+                   pd.setCanceledOnTouchOutside(false);
+                   pd.show();
+
+                   mUser.updateEmail(email).addOnSuccessListener(new OnSuccessListener<Void>() {
+                       @Override
+                       public void onSuccess(Void unused) {
+                           reference.child(FirebaseAuth.getInstance().getCurrentUser().getUid()).updateChildren(hashMap)
+                                   .addOnSuccessListener(new OnSuccessListener<Void>() {
+                                       @Override
+                                       public void onSuccess(Void unused) {
+                                           Toast.makeText(MyAccountEmail.this, "Email updated successfully", Toast.LENGTH_SHORT).show();
+                                           pd.dismiss();
+                                       }
+                                   }).addOnFailureListener(new OnFailureListener() {
+                               @Override
+                               public void onFailure(@NonNull @NotNull Exception e) {
+                                   Toast.makeText(MyAccountEmail.this, "could not update Email", Toast.LENGTH_SHORT).show();
+                                   pd.dismiss();
+                               }
+                           });
+                           finish();
+                       }
+                   }).addOnFailureListener(new OnFailureListener() {
+                       @Override
+                       public void onFailure(@NonNull @NotNull Exception e) {
+                           Toast.makeText(MyAccountEmail.this, e.getMessage(), Toast.LENGTH_SHORT).show();
+                           pd.dismiss();
+                           finish();
+                       }
+                   });
+               }
+           }
+       });
+
+
+        cancel.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                finish();
+            }
+        });
+
         back=findViewById(R.id.account_email_back_btn);
         back.setOnClickListener(new View.OnClickListener() {
             @Override
Index: app/src/main/res/values/styles.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+> <resources>\r\n\r\n    <style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.NoActionBar\">\r\n        <item name=\"colorPrimary\">@color/colorPrimary</item>\r\n        <item name=\"colorPrimaryDark\">@color/colorPrimaryDark</item>\r\n        <item name=\"colorAccent\">@color/colorAccent</item>\r\n    </style>\r\n\r\n    <style name=\"viewParent\">\r\n        <item name=\"android:layout_width\">wrap_content</item>\r\n        <item name=\"android:layout_height\">wrap_content</item>\r\n    </style>\r\n\r\n    <style name=\"viewParent.headerText\">\r\n        <item name=\"android:textColor\">@color/contentTextColor</item>\r\n        <item name=\"android:textSize\">@dimen/headerTextSize</item>\r\n        <item name=\"android:textStyle\">bold</item>\r\n    </style>\r\n\r\n    <style name=\"viewParent.headerText.NoMode\">\r\n        <item name=\"android:textColor\">@color/darkTextColor</item>\r\n    </style>\r\n\r\n    <style name=\"parent\">\r\n        <item name=\"android:layout_width\">match_parent</item>\r\n        <item name=\"android:layout_height\">wrap_content</item>\r\n    </style>\r\n\r\n    <style name=\"modifiedEditText\" parent=\"parent\">\r\n        <item name=\"android:textSize\">@dimen/newsMoreTextSize</item>\r\n        <item name=\"android:backgroundTint\">@color/primaryTextColor</item>\r\n    </style>\r\n\r\n    <style name=\"loginButton\" parent=\"viewParent\">\r\n        <item name=\"android:background\">@drawable/button_background_blue</item>\r\n        <item name=\"android:textColor\">@color/whiteTextColor</item>\r\n        <item name=\"android:textStyle\">bold</item>\r\n    </style>\r\n\r\n    <style name=\"spinnerHintText\" parent=\"parent\">\r\n        <item name=\"android:textSize\">@dimen/newsMoreTextSize</item>\r\n        <item name=\"android:textColor\">@color/colorAccent</item>\r\n        <item name=\"android:paddingLeft\">5dp</item>\r\n    </style>\r\n\r\n\r\n     <style name=\"navigationTheme\">\r\n         <item name=\"colorPrimary\">@color/colorPrimary</item>\r\n         <item name=\"colorControlHighlight\">@color/colorAccent</item>\r\n     </style>\r\n\r\n\r\n</resources>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/values/styles.xml	(revision e2b83da69ae71efe9a8ea6a6d8b03bd08147db7e)
+++ app/src/main/res/values/styles.xml	(date 1621825986795)
@@ -49,5 +49,14 @@
          <item name="colorControlHighlight">@color/colorAccent</item>
      </style>
 
+     <style name="BottomSheetTheme" parent="Theme.Design.Light.BottomSheetDialog">
+         <item name="android:windowIsFloating">false</item>
+         <item name="android:statusBarColor">@android:color/transparent</item>
+         <item name="android:windowSoftInputMode">adjustResize</item>
+         <item name="bottomSheetStyle">@style/BottomSheetStyle</item>
+     </style>
 
+     <style name="BottomSheetStyle" parent="Widget.Design.BottomSheet.Modal">
+         <item name="android:background">@android:color/transparent</item>
+     </style>
 </resources>
\ No newline at end of file
Index: .idea/compiler.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"CompilerConfiguration\">\r\n    <bytecodeTargetLevel target=\"1.8\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/compiler.xml	(revision e2b83da69ae71efe9a8ea6a6d8b03bd08147db7e)
+++ .idea/compiler.xml	(date 1622087830533)
@@ -1,6 +1,6 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <project version="4">
   <component name="CompilerConfiguration">
-    <bytecodeTargetLevel target="1.8" />
+    <bytecodeTargetLevel target="11" />
   </component>
 </project>
\ No newline at end of file
Index: app/src/main/java/com/example/r_edu_kt/User/MyAccount/MyAccountPhone.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.r_edu_kt.User.MyAccount;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageView;\r\nimport android.widget.Toast;\r\n\r\nimport com.example.r_edu_kt.Model.User;\r\nimport com.example.r_edu_kt.R;\r\nimport com.example.r_edu_kt.discussion_home;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\npublic class MyAccountPhone extends AppCompatActivity {\r\n\r\n    EditText accountPhone;\r\n    String account_phone;\r\n    ImageView back;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_my_account_phone);\r\n\r\n        //STATUS BAR\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\r\n            Window window = getWindow();\r\n            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n            window.setStatusBarColor(getResources().getColor(R.color.colorAccent));\r\n        }\r\n\r\n        //hooks\r\n        accountPhone=findViewById(R.id.account_phone_number_et);\r\n        account_phone=getIntent().getStringExtra(\"phoneNumber\");\r\n        DatabaseReference reference = FirebaseDatabase.getInstance().getReference(\"Users\").child(FirebaseAuth.getInstance().getCurrentUser().getUid());\r\n        reference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                User user= snapshot.getValue(User.class);\r\n                account_phone=user.getPhoneNo();\r\n                accountPhone.setText(account_phone);\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                Toast.makeText(MyAccountPhone.this,error.getMessage(),Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n        });\r\n\r\n        back=findViewById(R.id.account_phone_back_btn);\r\n        back.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                onBackPressed();\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        super.onBackPressed();\r\n        overridePendingTransition(R.anim.slide_in_left, R.anim.slide_out_right);\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/r_edu_kt/User/MyAccount/MyAccountPhone.java	(revision e2b83da69ae71efe9a8ea6a6d8b03bd08147db7e)
+++ app/src/main/java/com/example/r_edu_kt/User/MyAccount/MyAccountPhone.java	(date 1622470687770)
@@ -3,11 +3,14 @@
 import androidx.annotation.NonNull;
 import androidx.appcompat.app.AppCompatActivity;
 
+import android.app.ProgressDialog;
 import android.os.Build;
 import android.os.Bundle;
+import android.text.TextUtils;
 import android.view.View;
 import android.view.Window;
 import android.view.WindowManager;
+import android.widget.Button;
 import android.widget.EditText;
 import android.widget.ImageView;
 import android.widget.Toast;
@@ -15,6 +18,8 @@
 import com.example.r_edu_kt.Model.User;
 import com.example.r_edu_kt.R;
 import com.example.r_edu_kt.discussion_home;
+import com.google.android.gms.tasks.OnFailureListener;
+import com.google.android.gms.tasks.OnSuccessListener;
 import com.google.firebase.auth.FirebaseAuth;
 import com.google.firebase.database.DataSnapshot;
 import com.google.firebase.database.DatabaseError;
@@ -22,11 +27,15 @@
 import com.google.firebase.database.FirebaseDatabase;
 import com.google.firebase.database.ValueEventListener;
 
+import java.util.HashMap;
+
 public class MyAccountPhone extends AppCompatActivity {
 
     EditText accountPhone;
     String account_phone;
     ImageView back;
+    Button update,cancel;
+
     @Override
     protected void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);
@@ -41,7 +50,9 @@
 
         //hooks
         accountPhone=findViewById(R.id.account_phone_number_et);
-        account_phone=getIntent().getStringExtra("phoneNumber");
+        update = findViewById(R.id.set_new_phone_number);
+        cancel = findViewById(R.id.cancel_new_full_name);
+
         DatabaseReference reference = FirebaseDatabase.getInstance().getReference("Users").child(FirebaseAuth.getInstance().getCurrentUser().getUid());
         reference.addValueEventListener(new ValueEventListener() {
             @Override
@@ -58,6 +69,55 @@
             }
         });
 
+        update.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                account_phone = accountPhone.getText().toString();
+                if(TextUtils.isEmpty(account_phone)){
+                   accountPhone.setError("Required PhoneNumber");
+                   accountPhone.requestFocus();
+                }else if(account_phone.length() != 10){
+                    accountPhone.setError("Phone number must be 10 digits");
+                    accountPhone.requestFocus();
+                }
+                else {
+                    final ProgressDialog pd = new ProgressDialog(MyAccountPhone.this);
+                    pd.setMessage("Updating your PhoneNumber");
+                    pd.setCanceledOnTouchOutside(false);
+                    pd.show();
+
+                    FirebaseDatabase database= FirebaseDatabase.getInstance();
+                    final DatabaseReference reference= database.getReference("Users");
+
+                    HashMap<String, Object> hashMap = new HashMap<>();
+                    hashMap.put("phoneNo",account_phone);
+
+                    reference.child(FirebaseAuth.getInstance().getCurrentUser().getUid()).updateChildren(hashMap)
+                            .addOnSuccessListener(new OnSuccessListener<Void>() {
+                                @Override
+                                public void onSuccess(Void aVoid) {
+                                    Toast.makeText(MyAccountPhone.this,"PhoneNumber updated successfully",Toast.LENGTH_SHORT).show();
+                                    pd.dismiss();
+                                    finish();
+                                }
+                            }).addOnFailureListener(new OnFailureListener() {
+                        @Override
+                        public void onFailure(@NonNull Exception e) {
+                            Toast.makeText(MyAccountPhone.this,"could not update PhoneNumber",Toast.LENGTH_SHORT).show();
+                            pd.dismiss();
+                        }
+                    });
+                }
+            }
+        });
+
+        cancel.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                finish();
+            }
+        });
+
         back=findViewById(R.id.account_phone_back_btn);
         back.setOnClickListener(new View.OnClickListener() {
             @Override
Index: app/src/main/java/com/example/r_edu_kt/User/Register/SignUp3rdClass.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.r_edu_kt.User.Register;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.app.ActivityOptions;\r\nimport android.app.ProgressDialog;\r\nimport android.content.Intent;\r\nimport android.graphics.Bitmap;\r\nimport android.net.Uri;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.provider.MediaStore;\r\nimport android.util.Pair;\r\nimport android.view.View;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageView;\r\nimport android.widget.RelativeLayout;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.example.r_edu_kt.User.UserDashboard;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.AuthResult;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\n\r\nimport com.example.r_edu_kt.R;\r\nimport com.google.firebase.database.ValueEventListener;\r\nimport com.google.firebase.storage.FirebaseStorage;\r\nimport com.google.firebase.storage.StorageReference;\r\nimport com.google.firebase.storage.UploadTask;\r\nimport com.hbb20.CountryCodePicker;\r\n\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.IOException;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\nimport de.hdodenhof.circleimageview.CircleImageView;\r\n\r\npublic class SignUp3rdClass extends AppCompatActivity {\r\n    private CircleImageView profileImage;\r\n    private Uri resultUri;\r\n\r\n    private FirebaseAuth mAuth;\r\n    private DatabaseReference reference;\r\n    private ProgressDialog loader;\r\n    private String onlineuserID=\"\",phoneNumber,userName,fullName,date,gender,password,email;\r\n\r\n\r\n    //variables\r\n    ImageView backBtn;\r\n    Button next;\r\n    TextView titleText, login, sideImage;\r\n\r\n    EditText phoneNumberEt;\r\n    CountryCodePicker countryCodePicker;\r\n\r\n    RelativeLayout relativeLayout;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_sign_up3rd_class);\r\n\r\n        changeStatusBarColor();\r\n\r\n        phoneNumberEt = findViewById(R.id.editTextMobile);\r\n        countryCodePicker=findViewById(R.id.country_code_picker);\r\n        profileImage=findViewById(R.id.profile_img);\r\n        relativeLayout = findViewById(R.id.signup_3rd_screen_scroll_view);\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n        loader = new ProgressDialog(this);\r\n\r\n        profileImage.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(Intent.ACTION_PICK);\r\n                intent.setType(\"image/*\");\r\n                startActivityForResult(intent,1);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if(requestCode == 1 && resultCode == RESULT_OK && data != null){\r\n            resultUri = data.getData();\r\n            profileImage.setImageURI(resultUri);\r\n        }\r\n        else {\r\n            Toast.makeText(SignUp3rdClass.this,\"something went wrong\",Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n    public void changeStatusBarColor() {\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\r\n            Window window = getWindow();\r\n            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n            window.setStatusBarColor(getResources().getColor(R.color.register_bk_color));\r\n        }\r\n    }\r\n\r\n    public void callVerifyOTPScreen(View view) {\r\n\r\n        Intent prevIntent = getIntent();\r\n\r\n        phoneNumber = phoneNumberEt.getText().toString();\r\n        fullName= prevIntent.getStringExtra(\"fullName\");\r\n        userName = prevIntent.getStringExtra(\"userName\");\r\n        password = prevIntent.getStringExtra(\"password\");\r\n        email = prevIntent.getStringExtra(\"email\");\r\n        gender = prevIntent.getStringExtra(\"gender\");\r\n        date = prevIntent.getStringExtra(\"date\");\r\n\r\n        String val = phoneNumberEt.getText().toString();\r\n\r\n        if (val.isEmpty()) {\r\n            phoneNumberEt.setError(\"Field Cannot be empty\");\r\n            phoneNumberEt.requestFocus();\r\n\r\n        } else if (val.length() != 10) {\r\n            phoneNumberEt.setError(\"Phone number must be 10 digits\");\r\n            phoneNumberEt.requestFocus();\r\n\r\n        } else if(resultUri == null){\r\n            Toast.makeText(SignUp3rdClass.this,\"profile image is required\",Toast.LENGTH_SHORT).show();\r\n        }\r\n        else {\r\n            loader.setMessage(\"Registeration in progress\");\r\n            loader.setCanceledOnTouchOutside(false);\r\n            loader.show();\r\n\r\n            mAuth.createUserWithEmailAndPassword(email,password).addOnCompleteListener(new OnCompleteListener<AuthResult>() {\r\n                @Override\r\n                public void onComplete(@NonNull Task<AuthResult> task) {\r\n                    if(!task.isSuccessful()){\r\n                        loader.dismiss();\r\n                        Toast.makeText(SignUp3rdClass.this,\"this email is already used in another account\",Toast.LENGTH_SHORT).show();\r\n                        Intent intent = new Intent(SignUp3rdClass.this,RegisterActivity.class);\r\n                        startActivity(intent);\r\n                        finish();\r\n                    }else {\r\n                        onlineuserID = mAuth.getCurrentUser().getUid();\r\n                        reference = FirebaseDatabase.getInstance().getReference().child(\"Users\").child(onlineuserID);\r\n                        Map hashMap =new HashMap();\r\n                        hashMap.put(\"userName\",userName);\r\n                        hashMap.put(\"fullName\",fullName);\r\n                        hashMap.put(\"date\",date);\r\n                        hashMap.put(\"email\",email);\r\n                        hashMap.put(\"password\",password);\r\n                        hashMap.put(\"gender\",gender);\r\n                        hashMap.put(\"phoneNo\",phoneNumber);\r\n                        reference.updateChildren(hashMap).addOnCompleteListener(new OnCompleteListener() {\r\n                            @Override\r\n                            public void onComplete(@NonNull Task task) {\r\n                                if(task.isSuccessful()){\r\n                                    Toast.makeText(SignUp3rdClass.this,\"Details set successfully\",Toast.LENGTH_SHORT).show();\r\n                                }else {\r\n                                    Toast.makeText(SignUp3rdClass.this,\"failed to upload details\"+task.getException().toString(),Toast.LENGTH_SHORT).show();\r\n                                }\r\n                                finish();\r\n                                loader.dismiss();\r\n                            }\r\n                        });\r\n\r\n                        final StorageReference filepath = FirebaseStorage.getInstance().getReference().child(\"profile images\").child(onlineuserID);\r\n                        Bitmap bitmap = null;\r\n                        try {\r\n                            bitmap = MediaStore.Images.Media.getBitmap(getApplicationContext().getContentResolver(),resultUri);\r\n                        }catch (IOException e){\r\n                            e.printStackTrace();\r\n                        }\r\n                        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n                        bitmap.compress(Bitmap.CompressFormat.JPEG,20,byteArrayOutputStream);\r\n                        byte[] data = byteArrayOutputStream.toByteArray();\r\n                        UploadTask uploadTask =filepath.putBytes(data);\r\n\r\n                        uploadTask.addOnSuccessListener(new OnSuccessListener<UploadTask.TaskSnapshot>() {\r\n                            @Override\r\n                            public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                                if(taskSnapshot.getMetadata().getReference() != null){\r\n                                    final Task<Uri> result = taskSnapshot.getStorage().getDownloadUrl();\r\n                                    result.addOnSuccessListener(new OnSuccessListener<Uri>() {\r\n                                        @Override\r\n                                        public void onSuccess(Uri uri) {\r\n                                            String imageuri = uri.toString();\r\n                                            Map hashMap = new HashMap();\r\n                                            hashMap.put(\"profileimage\",imageuri);\r\n                                            reference.updateChildren(hashMap).addOnCompleteListener(new OnCompleteListener() {\r\n                                                @Override\r\n                                                public void onComplete(@NonNull Task task) {\r\n                                                    if(task.isSuccessful()){\r\n                                                        Toast.makeText(SignUp3rdClass.this,\"profile image added successfully\",Toast.LENGTH_SHORT).show();\r\n                                                    }else {\r\n                                                        Toast.makeText(SignUp3rdClass.this,\"process failed\"+task.getException().toString(),Toast.LENGTH_SHORT).show();\r\n                                                    }\r\n                                                }\r\n                                            });\r\n                                            finish();\r\n                                        }\r\n                                    });\r\n                                }\r\n                            }\r\n                        });\r\n\r\n                        Intent intent = new Intent(SignUp3rdClass.this, UserDashboard.class);\r\n                        startActivity(intent);\r\n                        finish();\r\n                        loader.dismiss();\r\n                    }\r\n                }\r\n            });\r\n\r\n        }\r\n    }\r\n\r\n\r\n    public void onLoginClick(View view) {\r\n        Intent intent = new Intent(getApplicationContext(), SignUp2ndClass.class);\r\n\r\n        //Add Transition\r\n        Pair[] pairs = new Pair[5];\r\n\r\n        pairs[0] = new Pair<View, String>(backBtn, \"transition_back_btn\");\r\n        pairs[1] = new Pair<View, String>(next, \"transition_next_btn\");\r\n        pairs[2] = new Pair<View, String>(login, \"transition_login_btn\");\r\n        pairs[3] = new Pair<View, String>(titleText, \"transition_title_text\");\r\n        pairs[4] = new Pair<View, String>(sideImage, \"transition_side_image\");\r\n\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\r\n            ActivityOptions options = ActivityOptions.makeSceneTransitionAnimation(SignUp3rdClass.this, pairs);\r\n            startActivity(intent, options.toBundle());\r\n        } else {\r\n            startActivity(intent);\r\n        }\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/r_edu_kt/User/Register/SignUp3rdClass.java	(revision e2b83da69ae71efe9a8ea6a6d8b03bd08147db7e)
+++ app/src/main/java/com/example/r_edu_kt/User/Register/SignUp3rdClass.java	(date 1622692326109)
@@ -5,14 +5,19 @@
 import androidx.appcompat.app.AppCompatActivity;
 
 import android.app.ActivityOptions;
+import android.app.AlertDialog;
 import android.app.ProgressDialog;
 import android.content.Intent;
 import android.graphics.Bitmap;
+import android.media.MediaPlayer;
 import android.net.Uri;
 import android.os.Build;
 import android.os.Bundle;
+import android.os.CountDownTimer;
+import android.os.Handler;
 import android.provider.MediaStore;
 import android.util.Pair;
+import android.view.LayoutInflater;
 import android.view.View;
 import android.view.Window;
 import android.view.WindowManager;
@@ -23,12 +28,14 @@
 import android.widget.TextView;
 import android.widget.Toast;
 
+import com.example.r_edu_kt.Model.User;
 import com.example.r_edu_kt.User.UserDashboard;
 import com.google.android.gms.tasks.OnCompleteListener;
 import com.google.android.gms.tasks.OnSuccessListener;
 import com.google.android.gms.tasks.Task;
 import com.google.firebase.auth.AuthResult;
 import com.google.firebase.auth.FirebaseAuth;
+import com.google.firebase.auth.FirebaseUser;
 import com.google.firebase.database.DataSnapshot;
 import com.google.firebase.database.DatabaseError;
 import com.google.firebase.database.DatabaseReference;
@@ -41,26 +48,34 @@
 import com.google.firebase.storage.UploadTask;
 import com.hbb20.CountryCodePicker;
 
+import org.jetbrains.annotations.NotNull;
+
 import java.io.ByteArrayOutputStream;
 import java.io.IOException;
 import java.util.HashMap;
+import java.util.Locale;
 import java.util.Map;
+import java.util.concurrent.TimeUnit;
 
 import de.hdodenhof.circleimageview.CircleImageView;
 
 public class SignUp3rdClass extends AppCompatActivity {
     private CircleImageView profileImage;
     private Uri resultUri;
+    AlertDialog dialog;
+    private Task<Void> usertask;
 
     private FirebaseAuth mAuth;
     private DatabaseReference reference;
     private ProgressDialog loader;
-    private String onlineuserID="",phoneNumber,userName,fullName,date,gender,password,email;
+    private String onlineuserID="",phoneNumber,userName,fullName,date,gender,password,email,Uname;
+    MediaPlayer loginSound;
+    private Handler mhandler = new Handler();
 
 
     //variables
     ImageView backBtn;
-    Button next;
+    Button next,register;
     TextView titleText, login, sideImage;
 
     EditText phoneNumberEt;
@@ -68,6 +83,7 @@
 
     RelativeLayout relativeLayout;
 
+
     @Override
     protected void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);
@@ -79,6 +95,9 @@
         countryCodePicker=findViewById(R.id.country_code_picker);
         profileImage=findViewById(R.id.profile_img);
         relativeLayout = findViewById(R.id.signup_3rd_screen_scroll_view);
+        register = findViewById(R.id.cirRegisterButton);
+
+        loginSound=MediaPlayer.create(this,R.raw.alert);
 
         mAuth = FirebaseAuth.getInstance();
         loader = new ProgressDialog(this);
@@ -101,6 +120,8 @@
         if(requestCode == 1 && resultCode == RESULT_OK && data != null){
             resultUri = data.getData();
             profileImage.setImageURI(resultUri);
+
+
         }
         else {
             Toast.makeText(SignUp3rdClass.this,"something went wrong",Toast.LENGTH_SHORT).show();
@@ -115,6 +136,7 @@
         }
     }
 
+
     public void callVerifyOTPScreen(View view) {
 
         Intent prevIntent = getIntent();
@@ -150,64 +172,134 @@
                 public void onComplete(@NonNull Task<AuthResult> task) {
                     if(!task.isSuccessful()){
                         loader.dismiss();
-                        Toast.makeText(SignUp3rdClass.this,"this email is already used in another account",Toast.LENGTH_SHORT).show();
+                        Toast.makeText(SignUp3rdClass.this,"failed to create account "+task.getException().toString(),Toast.LENGTH_SHORT).show();
                         Intent intent = new Intent(SignUp3rdClass.this,RegisterActivity.class);
                         startActivity(intent);
                         finish();
                     }else {
+                        mAuth.getCurrentUser().sendEmailVerification().addOnCompleteListener(new OnCompleteListener<Void>() {
+                            @Override
+                            public void onComplete(@NonNull @NotNull Task<Void> task) {
+                                if(task.isSuccessful()){
+                                    loader.dismiss();
+                                    register.setEnabled(false);
+                                    Toast.makeText(SignUp3rdClass.this,"Verification mail sent to "+mAuth.getCurrentUser().getEmail()+"! please verify it to create your account",Toast.LENGTH_SHORT).show();
+
+                                    runnable.run();
+                                    View view = LayoutInflater.from(SignUp3rdClass.this).inflate(R.layout.timerdialog,null);
+                                    TextView textView = view.findViewById(R.id.text_view);
+
+                                    dialog = new AlertDialog.Builder(SignUp3rdClass.this)
+                                            .setView(view).setCancelable(false).create();
+
+                                    dialog.getWindow().setBackgroundDrawableResource(android.R.color.transparent);
+                                    dialog.show();
+
+                                    long duration = TimeUnit.MINUTES.toMillis(5);
+
+                                    new CountDownTimer(duration, 1000) {
+                                        @Override
+                                        public void onTick(long millisUntilFinished) {
+                                            String sDuration = String.format(Locale.ENGLISH,"%02d : %02d"
+                                                    ,TimeUnit.MILLISECONDS.toMinutes(millisUntilFinished)
+                                                    ,TimeUnit.MILLISECONDS.toSeconds(millisUntilFinished) -
+                                                            TimeUnit.MINUTES.toSeconds(TimeUnit.MILLISECONDS.toMinutes(millisUntilFinished)));
+
+                                            textView.setText(sDuration);
+                                        }
+
+                                        @Override
+                                        public void onFinish() {
+                                            mhandler.removeCallbacks(runnable);
+                                            mAuth.getCurrentUser().delete().addOnCompleteListener(new OnCompleteListener<Void>() {
+                                                @Override
+                                                public void onComplete(@NonNull @NotNull Task<Void> task) {
+                                                    if(task.isSuccessful()){
+                                                        Toast.makeText(SignUp3rdClass.this,"Time out! please try again",Toast.LENGTH_SHORT).show();
+                                                        startActivity(new Intent(getApplicationContext(),RegisterActivity.class));
+                                                        finish();
+                                                    }
+                                                }
+                                            });
+                                            dialog.dismiss();
+                                        }
+                                    }.start();
+                                }
+                                else {
+                                    loader.dismiss();
+                                    Toast.makeText(SignUp3rdClass.this,"Could not process your request! please try again",Toast.LENGTH_SHORT).show();
+                                    startActivity(new Intent(getApplicationContext(),RegisterActivity.class));
+                                    finish();
+                                }
+                            }
+                        });
+                    }
+                }
+            });
+        }
+    }
+
+    private Runnable runnable = new Runnable() {
+        @Override
+        public void run() {
+            usertask = mAuth.getCurrentUser().reload();
+            usertask.addOnSuccessListener(new OnSuccessListener<Void>() {
+                @Override
+                public void onSuccess(Void unused) {
+                    if(mAuth.getCurrentUser().isEmailVerified()) {
                         onlineuserID = mAuth.getCurrentUser().getUid();
                         reference = FirebaseDatabase.getInstance().getReference().child("Users").child(onlineuserID);
-                        Map hashMap =new HashMap();
-                        hashMap.put("userName",userName);
-                        hashMap.put("fullName",fullName);
-                        hashMap.put("date",date);
-                        hashMap.put("email",email);
-                        hashMap.put("password",password);
-                        hashMap.put("gender",gender);
-                        hashMap.put("phoneNo",phoneNumber);
+                        Map hashMap = new HashMap();
+                        hashMap.put("userName", userName);
+                        hashMap.put("fullName", fullName);
+                        hashMap.put("date", date);
+                        hashMap.put("email", email);
+                        hashMap.put("password", password);
+                        hashMap.put("gender", gender);
+                        hashMap.put("phoneNo", phoneNumber);
+                        hashMap.put("userid", onlineuserID);
                         reference.updateChildren(hashMap).addOnCompleteListener(new OnCompleteListener() {
                             @Override
                             public void onComplete(@NonNull Task task) {
-                                if(task.isSuccessful()){
-                                    Toast.makeText(SignUp3rdClass.this,"Details set successfully",Toast.LENGTH_SHORT).show();
-                                }else {
-                                    Toast.makeText(SignUp3rdClass.this,"failed to upload details"+task.getException().toString(),Toast.LENGTH_SHORT).show();
+                                if (task.isSuccessful()) {
+                                    Toast.makeText(SignUp3rdClass.this, "Details Uploaded successfully", Toast.LENGTH_SHORT).show();
+                                } else {
+                                    Toast.makeText(SignUp3rdClass.this, "failed to upload details" + task.getException().toString(), Toast.LENGTH_SHORT).show();
                                 }
                                 finish();
-                                loader.dismiss();
                             }
                         });
 
                         final StorageReference filepath = FirebaseStorage.getInstance().getReference().child("profile images").child(onlineuserID);
                         Bitmap bitmap = null;
                         try {
-                            bitmap = MediaStore.Images.Media.getBitmap(getApplicationContext().getContentResolver(),resultUri);
-                        }catch (IOException e){
+                            bitmap = MediaStore.Images.Media.getBitmap(getApplicationContext().getContentResolver(), resultUri);
+                        } catch (IOException e) {
                             e.printStackTrace();
                         }
                         ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();
-                        bitmap.compress(Bitmap.CompressFormat.JPEG,20,byteArrayOutputStream);
+                        bitmap.compress(Bitmap.CompressFormat.JPEG, 20, byteArrayOutputStream);
                         byte[] data = byteArrayOutputStream.toByteArray();
-                        UploadTask uploadTask =filepath.putBytes(data);
+                        UploadTask uploadTask = filepath.putBytes(data);
 
                         uploadTask.addOnSuccessListener(new OnSuccessListener<UploadTask.TaskSnapshot>() {
                             @Override
                             public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {
-                                if(taskSnapshot.getMetadata().getReference() != null){
+                                if (taskSnapshot.getMetadata().getReference() != null) {
                                     final Task<Uri> result = taskSnapshot.getStorage().getDownloadUrl();
                                     result.addOnSuccessListener(new OnSuccessListener<Uri>() {
                                         @Override
                                         public void onSuccess(Uri uri) {
                                             String imageuri = uri.toString();
                                             Map hashMap = new HashMap();
-                                            hashMap.put("profileimage",imageuri);
+                                            hashMap.put("profileimage", imageuri);
                                             reference.updateChildren(hashMap).addOnCompleteListener(new OnCompleteListener() {
                                                 @Override
                                                 public void onComplete(@NonNull Task task) {
-                                                    if(task.isSuccessful()){
-                                                        Toast.makeText(SignUp3rdClass.this,"profile image added successfully",Toast.LENGTH_SHORT).show();
-                                                    }else {
-                                                        Toast.makeText(SignUp3rdClass.this,"process failed"+task.getException().toString(),Toast.LENGTH_SHORT).show();
+                                                    if (task.isSuccessful()) {
+                                                        Toast.makeText(SignUp3rdClass.this, "profile image added successfully", Toast.LENGTH_SHORT).show();
+                                                    } else {
+                                                        Toast.makeText(SignUp3rdClass.this, "process failed" + task.getException().toString(), Toast.LENGTH_SHORT).show();
                                                     }
                                                 }
                                             });
@@ -221,13 +313,34 @@
                         Intent intent = new Intent(SignUp3rdClass.this, UserDashboard.class);
                         startActivity(intent);
                         finish();
-                        loader.dismiss();
-                    }
-                }
-            });
+                        String userid = mAuth.getCurrentUser().getUid();
+                        DatabaseReference reference = FirebaseDatabase.getInstance().getReference("Users").child(userid);
+                        reference.addListenerForSingleValueEvent(new ValueEventListener() {
+                            @Override
+                            public void onDataChange(@NonNull DataSnapshot snapshot) {
+                                User user = snapshot.getValue(User.class);
+                                Uname = user.getUserName();
+                                Toast.makeText(SignUp3rdClass.this, "Welcome " + Uname + "!", Toast.LENGTH_SHORT).show();
+                                loginSound.start();
+                            }
+
+                            @Override
+                            public void onCancelled(@NonNull DatabaseError error) {
+
+                            }
+                        });
+                        mhandler.removeCallbacks(runnable);
+                        register.setEnabled(true);
+                        finish();
+                    }
+                    else {
+                        mhandler.postDelayed(runnable, 5000);
+                    }
 
-        }
-    }
+                }
+            });
+        }
+    };
 
 
     public void onLoginClick(View view) {
Index: app/src/main/res/layout/activity_my_account.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.drawerlayout.widget.DrawerLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/my_account_drawer_layout\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:background=\"@color/colorAccent\"\r\n    tools:context=\".User.MyAccount.MyAccount\">\r\n\r\n    <com.google.android.material.navigation.NavigationView\r\n        android:id=\"@+id/my_account_navigation_view\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:layout_gravity=\"start\"\r\n        android:background=\"@color/lightWhite\"\r\n        android:paddingTop=\"@dimen/design_navigation_padding_top_default\"\r\n        android:theme=\"@style/navigationTheme\"\r\n        app:headerLayout=\"@layout/menu_header\"\r\n        app:menu=\"@menu/main_menu\" />\r\n\r\n    <LinearLayout\r\n        android:id=\"@+id/my_account_content\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:orientation=\"vertical\">\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:background=\"@color/colorAccent\"\r\n            android:paddingLeft=\"20dp\"\r\n            android:paddingTop=\"6dp\"\r\n            android:paddingRight=\"20dp\"\r\n            android:paddingBottom=\"6dp\">\r\n\r\n            <RelativeLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\">\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/my_account_menu_icon\"\r\n                    android:layout_width=\"40dp\"\r\n                    android:layout_height=\"40dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:src=\"@drawable/baseline_menu_black_48\"\r\n                    app:tint=\"@color/white\" />\r\n\r\n                <TextView\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:text=\"@string/my_account\"\r\n                    android:gravity=\"center\"\r\n                    android:layout_centerVertical=\"true\"\r\n                    android:textSize=\"16sp\"\r\n                    android:textColor=\"@color/white\"\r\n                    android:fontFamily=\"@font/roboto_medium\"\r\n                    />\r\n            </RelativeLayout>\r\n        </LinearLayout>\r\n\r\n        <ScrollView\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\">\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:background=\"@color/home_background\"\r\n                android:orientation=\"vertical\">\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:background=\"@color/colorAccent\"\r\n                    android:orientation=\"vertical\"\r\n                    android:paddingLeft=\"20dp\"\r\n                    android:paddingTop=\"20dp\"\r\n                    android:paddingRight=\"20dp\"\r\n                    android:paddingBottom=\"10dp\">\r\n\r\n                    <de.hdodenhof.circleimageview.CircleImageView\r\n                        android:layout_width=\"100dp\"\r\n                        android:layout_height=\"100dp\"\r\n                        android:layout_gravity=\"center\"\r\n                        android:layout_marginTop=\"20dp\"\r\n                        android:layout_marginBottom=\"10dp\"\r\n                        android:elevation=\"8dp\"\r\n                        android:src=\"@drawable/boy_dp\"\r\n                        android:id=\"@+id/promy_img\"\r\n                        app:civ_border_color=\"@color/transparent\" />\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/user_full_name\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_gravity=\"center\"\r\n                        android:layout_marginBottom=\"2dp\"\r\n                        android:fontFamily=\"@font/roboto_medium\"\r\n                        android:text=\"User full name\"\r\n                        android:textColor=\"@color/white\"\r\n                        android:textSize=\"25sp\" />\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/user_email\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_gravity=\"center\"\r\n                        android:fontFamily=\"@font/roboto_medium\"\r\n                        android:paddingBottom=\"4dp\"\r\n                        android:text=\"useremailid@gmail.com\"\r\n                        android:textColor=\"@color/white\"\r\n                        android:textSize=\"12sp\" />\r\n\r\n                </LinearLayout>\r\n\r\n                <RelativeLayout\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\">\r\n\r\n                    <View\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"30dp\"\r\n                        android:background=\"@color/colorAccent\" />\r\n\r\n\r\n                    <androidx.cardview.widget.CardView\r\n                        android:id=\"@+id/progress_card\"\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_marginLeft=\"20dp\"\r\n                        android:layout_marginRight=\"20dp\"\r\n                        android:elevation=\"10dp\"\r\n                        app:cardCornerRadius=\"5dp\">\r\n\r\n                        <LinearLayout\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"match_parent\">\r\n\r\n                            <LinearLayout\r\n                                android:layout_width=\"0dp\"\r\n                                android:layout_height=\"wrap_content\"\r\n                                android:layout_gravity=\"center\"\r\n                                android:layout_weight=\"0.50\"\r\n                                android:gravity=\"center\"\r\n                                android:padding=\"10dp\">\r\n\r\n                                <LinearLayout\r\n                                    android:layout_width=\"wrap_content\"\r\n                                    android:layout_height=\"wrap_content\"\r\n                                    android:layout_gravity=\"center\"\r\n                                    android:gravity=\"center\"\r\n                                    android:orientation=\"vertical\">\r\n\r\n                                    <LinearLayout\r\n                                        android:layout_width=\"wrap_content\"\r\n                                        android:layout_height=\"wrap_content\"\r\n                                        android:gravity=\"center\"\r\n                                        android:orientation=\"horizontal\">\r\n\r\n                                        <ImageView\r\n                                            android:layout_width=\"wrap_content\"\r\n                                            android:layout_height=\"wrap_content\"\r\n                                            android:layout_gravity=\"center\"\r\n                                            android:src=\"@drawable/baseline_school_black_18\"\r\n                                            app:tint=\"@color/button_blue\" />\r\n\r\n                                        <TextView\r\n                                            android:layout_width=\"wrap_content\"\r\n                                            android:layout_height=\"wrap_content\"\r\n                                            android:layout_gravity=\"center\"\r\n                                            android:layout_marginLeft=\"5dp\"\r\n                                            android:fontFamily=\"@font/roboto_medium\"\r\n                                            android:gravity=\"center\"\r\n                                            android:text=\"14\"\r\n                                            android:textColor=\"@color/button_blue\" />\r\n\r\n                                    </LinearLayout>\r\n\r\n                                    <TextView\r\n                                        android:layout_width=\"wrap_content\"\r\n                                        android:layout_height=\"wrap_content\"\r\n                                        android:layout_marginTop=\"5dp\"\r\n                                        android:fontFamily=\"@font/roboto_medium\"\r\n                                        android:text=\"Courses Enrolled\"\r\n                                        android:textColor=\"@color/button_blue\" />\r\n                                </LinearLayout>\r\n                            </LinearLayout>\r\n\r\n                            <View\r\n                                android:layout_width=\"2dp\"\r\n                                android:layout_height=\"40dp\"\r\n                                android:layout_gravity=\"center\"\r\n                                android:layout_marginTop=\"5dp\"\r\n                                android:layout_marginBottom=\"5dp\"\r\n                                android:background=\"@color/colorAccent\" />\r\n\r\n                            <LinearLayout\r\n                                android:layout_width=\"0dp\"\r\n                                android:layout_height=\"wrap_content\"\r\n                                android:layout_gravity=\"center\"\r\n                                android:layout_weight=\"0.50\"\r\n                                android:gravity=\"center\"\r\n                                android:padding=\"10dp\">\r\n\r\n                                <LinearLayout\r\n                                    android:layout_width=\"wrap_content\"\r\n                                    android:layout_height=\"wrap_content\"\r\n                                    android:layout_gravity=\"center\"\r\n                                    android:gravity=\"center\"\r\n                                    android:orientation=\"vertical\">\r\n\r\n                                    <LinearLayout\r\n                                        android:layout_width=\"wrap_content\"\r\n                                        android:layout_height=\"wrap_content\"\r\n                                        android:gravity=\"center\"\r\n                                        android:orientation=\"horizontal\">\r\n\r\n                                        <ImageView\r\n                                            android:layout_width=\"wrap_content\"\r\n                                            android:layout_height=\"wrap_content\"\r\n                                            android:layout_gravity=\"center\"\r\n                                            android:src=\"@drawable/baseline_verified_black_18\"\r\n                                            app:tint=\"@color/button_blue\" />\r\n\r\n                                        <TextView\r\n                                            android:layout_width=\"wrap_content\"\r\n                                            android:layout_height=\"wrap_content\"\r\n                                            android:layout_gravity=\"center\"\r\n                                            android:layout_marginLeft=\"5dp\"\r\n                                            android:fontFamily=\"@font/roboto_medium\"\r\n                                            android:gravity=\"center\"\r\n                                            android:text=\"10\"\r\n                                            android:textColor=\"@color/button_blue\" />\r\n\r\n                                    </LinearLayout>\r\n\r\n                                    <TextView\r\n                                        android:layout_width=\"wrap_content\"\r\n                                        android:layout_height=\"wrap_content\"\r\n                                        android:layout_marginTop=\"5dp\"\r\n                                        android:fontFamily=\"@font/roboto_medium\"\r\n                                        android:text=\"Courses Completed\"\r\n                                        android:textColor=\"@color/button_blue\" />\r\n                                </LinearLayout>\r\n                            </LinearLayout>\r\n\r\n                        </LinearLayout>\r\n\r\n\r\n                    </androidx.cardview.widget.CardView>\r\n\r\n                    <androidx.cardview.widget.CardView\r\n                        android:id=\"@+id/info_card\"\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_below=\"@id/progress_card\"\r\n                        android:layout_margin=\"20dp\"\r\n                        android:elevation=\"10dp\"\r\n                        app:cardCornerRadius=\"5dp\">\r\n\r\n                        <LinearLayout\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:orientation=\"vertical\"\r\n                            android:padding=\"14dp\">\r\n\r\n                            <TextView\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"wrap_content\"\r\n                                android:layout_marginBottom=\"10dp\"\r\n                                android:fontFamily=\"@font/roboto_medium\"\r\n                                android:text=\"@string/basic_info\"\r\n                                android:textColor=\"@color/button_blue\"\r\n                                android:textSize=\"20sp\" />\r\n\r\n                            <TextView\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"wrap_content\"\r\n                                android:layout_marginBottom=\"5dp\"\r\n                                android:text=\"@string/basic_info_desc\"\r\n                                android:textColor=\"@color/colorPrimaryDark\"\r\n                                android:textSize=\"10sp\" />\r\n\r\n                            <RelativeLayout\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"wrap_content\"\r\n                                android:layout_marginTop=\"10dp\"\r\n                                android:layout_marginBottom=\"10dp\">\r\n\r\n                                <Button\r\n                                    android:id=\"@+id/photo_button\"\r\n                                    android:layout_width=\"match_parent\"\r\n                                    android:layout_height=\"60dp\"\r\n                                    android:background=\"@color/transparent\" />\r\n\r\n                                <LinearLayout\r\n                                    android:layout_width=\"match_parent\"\r\n                                    android:layout_height=\"wrap_content\"\r\n                                    android:gravity=\"center\">\r\n\r\n                                    <LinearLayout\r\n                                        android:layout_width=\"0dp\"\r\n                                        android:layout_height=\"wrap_content\"\r\n                                        android:layout_weight=\"0.60\"\r\n                                        android:orientation=\"vertical\">\r\n\r\n                                        <TextView\r\n                                            android:id=\"@+id/photo\"\r\n                                            android:layout_width=\"match_parent\"\r\n                                            android:layout_height=\"wrap_content\"\r\n                                            android:layout_marginTop=\"5dp\"\r\n                                            android:layout_marginBottom=\"2dp\"\r\n                                            android:fontFamily=\"@font/poppins_medium\"\r\n                                            android:text=\"@string/photo\"\r\n                                            android:textColor=\"@color/colorPrimaryDark\"\r\n                                            android:textSize=\"10sp\" />\r\n\r\n                                        <TextView\r\n                                            android:id=\"@+id/photo_desc\"\r\n                                            android:layout_width=\"match_parent\"\r\n                                            android:layout_height=\"wrap_content\"\r\n                                            android:layout_below=\"@id/photo\"\r\n                                            android:layout_marginTop=\"5dp\"\r\n                                            android:layout_marginBottom=\"5dp\"\r\n                                            android:text=\"@string/photo_desc\"\r\n                                            android:textColor=\"@color/colorPrimaryDark\"\r\n                                            android:textSize=\"12sp\" />\r\n\r\n                                    </LinearLayout>\r\n\r\n                                    <LinearLayout\r\n                                        android:layout_width=\"0dp\"\r\n                                        android:layout_height=\"wrap_content\"\r\n                                        android:layout_gravity=\"center\"\r\n                                        android:layout_weight=\"0.30\"\r\n                                        android:gravity=\"center\"\r\n                                        android:orientation=\"vertical\">\r\n\r\n                                        <de.hdodenhof.circleimageview.CircleImageView\r\n                                            android:layout_width=\"60dp\"\r\n                                            android:layout_height=\"60dp\"\r\n                                            android:layout_gravity=\"end\"\r\n                                            android:id=\"@+id/proimg\"\r\n                                            android:src=\"@drawable/boy_dp\"\r\n                                            app:civ_border_color=\"@color/button_blue\"\r\n                                            app:civ_border_width=\"1dp\" />\r\n\r\n                                    </LinearLayout>\r\n\r\n                                </LinearLayout>\r\n                            </RelativeLayout>\r\n\r\n                            <View\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"1dp\"\r\n                                android:layout_marginTop=\"2dp\"\r\n                                android:layout_marginBottom=\"4dp\"\r\n                                android:layout_weight=\"2\"\r\n                                android:background=\"#CBCECF\" />\r\n\r\n                            <RelativeLayout\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"wrap_content\"\r\n                                android:layout_marginTop=\"5dp\"\r\n                                android:layout_marginBottom=\"5dp\">\r\n\r\n                                <Button\r\n                                    android:id=\"@+id/name_button\"\r\n                                    android:layout_width=\"match_parent\"\r\n                                    android:layout_height=\"wrap_content\"\r\n                                    android:background=\"@color/transparent\" />\r\n\r\n                                <LinearLayout\r\n                                    android:layout_width=\"match_parent\"\r\n                                    android:layout_height=\"wrap_content\">\r\n\r\n                                    <LinearLayout\r\n                                        android:layout_width=\"0dp\"\r\n                                        android:layout_height=\"wrap_content\"\r\n                                        android:layout_weight=\"0.60\"\r\n                                        android:orientation=\"vertical\">\r\n\r\n                                        <TextView\r\n                                            android:id=\"@+id/name\"\r\n                                            android:layout_width=\"match_parent\"\r\n                                            android:layout_height=\"wrap_content\"\r\n                                            android:layout_marginTop=\"5dp\"\r\n                                            android:layout_marginBottom=\"2dp\"\r\n                                            android:fontFamily=\"@font/poppins_medium\"\r\n                                            android:text=\"@string/name\"\r\n                                            android:textColor=\"@color/colorPrimaryDark\"\r\n                                            android:textSize=\"10sp\" />\r\n\r\n                                        <TextView\r\n                                            android:id=\"@+id/name_text\"\r\n                                            android:layout_width=\"match_parent\"\r\n                                            android:layout_height=\"wrap_content\"\r\n                                            android:layout_below=\"@id/photo\"\r\n                                            android:layout_marginTop=\"5dp\"\r\n                                            android:layout_marginBottom=\"5dp\"\r\n                                            android:text=\"User's Full Name\"\r\n                                            android:textColor=\"@color/colorPrimaryDark\"\r\n                                            android:textSize=\"12sp\" />\r\n\r\n                                    </LinearLayout>\r\n\r\n                                    <LinearLayout\r\n                                        android:layout_width=\"0dp\"\r\n                                        android:layout_height=\"wrap_content\"\r\n                                        android:layout_gravity=\"center\"\r\n                                        android:layout_weight=\"0.30\"\r\n                                        android:gravity=\"center\"\r\n                                        android:orientation=\"vertical\">\r\n\r\n                                        <ImageView\r\n                                            android:layout_width=\"wrap_content\"\r\n                                            android:layout_height=\"wrap_content\"\r\n                                            android:layout_gravity=\"end\"\r\n                                            android:padding=\"2dp\"\r\n                                            android:src=\"@drawable/baseline_chevron_right_24\"\r\n                                            app:tint=\"@color/button_blue\" />\r\n\r\n                                    </LinearLayout>\r\n\r\n                                </LinearLayout>\r\n                            </RelativeLayout>\r\n\r\n                            <View\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"1dp\"\r\n                                android:layout_marginTop=\"2dp\"\r\n                                android:layout_marginBottom=\"4dp\"\r\n                                android:layout_weight=\"2\"\r\n                                android:background=\"#CBCECF\" />\r\n\r\n                            <RelativeLayout\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"wrap_content\"\r\n                                android:layout_marginTop=\"5dp\"\r\n                                android:layout_marginBottom=\"5dp\">\r\n\r\n                                <Button\r\n                                    android:id=\"@+id/birthday_button\"\r\n                                    android:layout_width=\"match_parent\"\r\n                                    android:layout_height=\"wrap_content\"\r\n                                    android:background=\"@color/transparent\" />\r\n\r\n                                <LinearLayout\r\n                                    android:layout_width=\"match_parent\"\r\n                                    android:layout_height=\"wrap_content\">\r\n\r\n                                    <LinearLayout\r\n                                        android:layout_width=\"0dp\"\r\n                                        android:layout_height=\"wrap_content\"\r\n                                        android:layout_weight=\"0.60\"\r\n                                        android:orientation=\"vertical\">\r\n\r\n                                        <TextView\r\n                                            android:id=\"@+id/birthday\"\r\n                                            android:layout_width=\"match_parent\"\r\n                                            android:layout_height=\"wrap_content\"\r\n                                            android:layout_marginTop=\"5dp\"\r\n                                            android:layout_marginBottom=\"2dp\"\r\n                                            android:fontFamily=\"@font/poppins_medium\"\r\n                                            android:text=\"@string/birthday\"\r\n                                            android:textColor=\"@color/colorPrimaryDark\"\r\n                                            android:textSize=\"10sp\" />\r\n\r\n                                        <TextView\r\n                                            android:id=\"@+id/birthday_text\"\r\n                                            android:layout_width=\"match_parent\"\r\n                                            android:layout_height=\"wrap_content\"\r\n                                            android:layout_below=\"@id/photo\"\r\n                                            android:layout_marginTop=\"5dp\"\r\n                                            android:layout_marginBottom=\"5dp\"\r\n                                            android:text=\"April 28, 2001\"\r\n                                            android:textColor=\"@color/colorPrimaryDark\"\r\n                                            android:textSize=\"12sp\" />\r\n\r\n                                    </LinearLayout>\r\n\r\n                                    <LinearLayout\r\n                                        android:layout_width=\"0dp\"\r\n                                        android:layout_height=\"wrap_content\"\r\n                                        android:layout_gravity=\"center\"\r\n                                        android:layout_weight=\"0.30\"\r\n                                        android:gravity=\"center\"\r\n                                        android:orientation=\"vertical\">\r\n\r\n                                        <ImageView\r\n                                            android:layout_width=\"wrap_content\"\r\n                                            android:layout_height=\"wrap_content\"\r\n                                            android:layout_gravity=\"end\"\r\n                                            android:padding=\"2dp\"\r\n                                            android:src=\"@drawable/baseline_chevron_right_24\"\r\n                                            app:tint=\"@color/button_blue\" />\r\n\r\n                                    </LinearLayout>\r\n\r\n                                </LinearLayout>\r\n                            </RelativeLayout>\r\n\r\n                            <View\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"1dp\"\r\n                                android:layout_marginTop=\"2dp\"\r\n                                android:layout_marginBottom=\"4dp\"\r\n                                android:layout_weight=\"2\"\r\n                                android:background=\"#CBCECF\" />\r\n\r\n                            <RelativeLayout\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"wrap_content\"\r\n                                android:layout_marginTop=\"5dp\"\r\n                                android:layout_marginBottom=\"5dp\">\r\n\r\n                                <Button\r\n                                    android:id=\"@+id/gender_button\"\r\n                                    android:layout_width=\"match_parent\"\r\n                                    android:layout_height=\"wrap_content\"\r\n                                    android:background=\"@color/transparent\" />\r\n\r\n                                <LinearLayout\r\n                                    android:layout_width=\"match_parent\"\r\n                                    android:layout_height=\"wrap_content\">\r\n\r\n                                    <LinearLayout\r\n                                        android:layout_width=\"0dp\"\r\n                                        android:layout_height=\"wrap_content\"\r\n                                        android:layout_weight=\"0.60\"\r\n                                        android:orientation=\"vertical\">\r\n\r\n                                        <TextView\r\n                                            android:id=\"@+id/gender\"\r\n                                            android:layout_width=\"match_parent\"\r\n                                            android:layout_height=\"wrap_content\"\r\n                                            android:layout_marginTop=\"5dp\"\r\n                                            android:layout_marginBottom=\"2dp\"\r\n                                            android:fontFamily=\"@font/poppins_medium\"\r\n                                            android:text=\"@string/gender\"\r\n                                            android:textColor=\"@color/colorPrimaryDark\"\r\n                                            android:textSize=\"10sp\" />\r\n\r\n                                        <TextView\r\n                                            android:id=\"@+id/gender_text\"\r\n                                            android:layout_width=\"match_parent\"\r\n                                            android:layout_height=\"wrap_content\"\r\n                                            android:layout_below=\"@id/photo\"\r\n                                            android:layout_marginTop=\"5dp\"\r\n                                            android:layout_marginBottom=\"5dp\"\r\n                                            android:text=\"Male\"\r\n                                            android:textColor=\"@color/colorPrimaryDark\"\r\n                                            android:textSize=\"12sp\" />\r\n\r\n                                    </LinearLayout>\r\n\r\n                                    <LinearLayout\r\n                                        android:layout_width=\"0dp\"\r\n                                        android:layout_height=\"wrap_content\"\r\n                                        android:layout_gravity=\"center\"\r\n                                        android:layout_weight=\"0.30\"\r\n                                        android:gravity=\"center\"\r\n                                        android:orientation=\"vertical\">\r\n\r\n                                        <ImageView\r\n                                            android:layout_width=\"wrap_content\"\r\n                                            android:layout_height=\"wrap_content\"\r\n                                            android:layout_gravity=\"end\"\r\n                                            android:padding=\"2dp\"\r\n                                            android:src=\"@drawable/baseline_chevron_right_24\"\r\n                                            app:tint=\"@color/button_blue\" />\r\n\r\n                                    </LinearLayout>\r\n\r\n                                </LinearLayout>\r\n                            </RelativeLayout>\r\n\r\n                            <View\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"1dp\"\r\n                                android:layout_marginTop=\"2dp\"\r\n                                android:layout_marginBottom=\"4dp\"\r\n                                android:layout_weight=\"2\"\r\n                                android:background=\"#CBCECF\" />\r\n\r\n                            <RelativeLayout\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"wrap_content\"\r\n                                android:layout_marginTop=\"5dp\">\r\n\r\n                                <Button\r\n                                    android:id=\"@+id/password_button\"\r\n                                    android:layout_width=\"match_parent\"\r\n                                    android:layout_height=\"wrap_content\"\r\n                                    android:background=\"@color/transparent\" />\r\n\r\n                                <LinearLayout\r\n                                    android:layout_width=\"match_parent\"\r\n                                    android:layout_height=\"wrap_content\">\r\n\r\n                                    <LinearLayout\r\n                                        android:layout_width=\"0dp\"\r\n                                        android:layout_height=\"wrap_content\"\r\n                                        android:layout_weight=\"0.60\"\r\n                                        android:orientation=\"vertical\">\r\n\r\n                                        <TextView\r\n                                            android:id=\"@+id/password\"\r\n                                            android:layout_width=\"match_parent\"\r\n                                            android:layout_height=\"wrap_content\"\r\n                                            android:layout_marginTop=\"5dp\"\r\n                                            android:layout_marginBottom=\"2dp\"\r\n                                            android:fontFamily=\"@font/poppins_medium\"\r\n                                            android:text=\"@string/password\"\r\n                                            android:textColor=\"@color/colorPrimaryDark\"\r\n                                            android:textSize=\"10sp\" />\r\n\r\n                                        <TextView\r\n                                            android:id=\"@+id/password_text\"\r\n                                            android:layout_width=\"match_parent\"\r\n                                            android:layout_height=\"wrap_content\"\r\n                                            android:layout_below=\"@id/photo\"\r\n                                            android:layout_marginTop=\"5dp\"\r\n                                            android:layout_marginBottom=\"5dp\"\r\n                                            android:inputType=\"textPassword\"\r\n                                            android:text=\"8317566250\"\r\n                                            android:textColor=\"@color/colorPrimaryDark\"\r\n                                            android:textSize=\"12sp\" />\r\n\r\n                                    </LinearLayout>\r\n\r\n                                    <LinearLayout\r\n                                        android:layout_width=\"0dp\"\r\n                                        android:layout_height=\"wrap_content\"\r\n                                        android:layout_gravity=\"center\"\r\n                                        android:layout_weight=\"0.30\"\r\n                                        android:gravity=\"center\"\r\n                                        android:orientation=\"vertical\">\r\n\r\n                                        <ImageView\r\n                                            android:layout_width=\"wrap_content\"\r\n                                            android:layout_height=\"wrap_content\"\r\n                                            android:layout_gravity=\"end\"\r\n                                            android:padding=\"2dp\"\r\n                                            android:src=\"@drawable/baseline_chevron_right_24\"\r\n                                            app:tint=\"@color/button_blue\" />\r\n\r\n                                    </LinearLayout>\r\n\r\n                                </LinearLayout>\r\n                            </RelativeLayout>\r\n\r\n                        </LinearLayout>\r\n                    </androidx.cardview.widget.CardView>\r\n\r\n                    <androidx.cardview.widget.CardView\r\n                        android:id=\"@+id/contact_card\"\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_below=\"@id/info_card\"\r\n                        android:layout_margin=\"20dp\"\r\n                        android:elevation=\"10dp\"\r\n                        app:cardCornerRadius=\"5dp\">\r\n\r\n                        <LinearLayout\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:orientation=\"vertical\"\r\n                            android:padding=\"14dp\">\r\n\r\n                            <TextView\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"wrap_content\"\r\n                                android:layout_marginBottom=\"10dp\"\r\n                                android:fontFamily=\"@font/roboto_medium\"\r\n                                android:text=\"@string/contact_info\"\r\n                                android:textColor=\"@color/button_blue\"\r\n                                android:textSize=\"20sp\" />\r\n\r\n                            <RelativeLayout\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"wrap_content\"\r\n                                android:layout_marginTop=\"5dp\"\r\n                                android:layout_marginBottom=\"5dp\">\r\n\r\n                                <Button\r\n                                    android:id=\"@+id/email_button\"\r\n                                    android:layout_width=\"match_parent\"\r\n                                    android:layout_height=\"wrap_content\"\r\n                                    android:background=\"@color/transparent\" />\r\n\r\n                                <LinearLayout\r\n                                    android:layout_width=\"match_parent\"\r\n                                    android:layout_height=\"wrap_content\">\r\n\r\n                                    <LinearLayout\r\n                                        android:layout_width=\"0dp\"\r\n                                        android:layout_height=\"wrap_content\"\r\n                                        android:layout_weight=\"0.60\"\r\n                                        android:orientation=\"vertical\">\r\n\r\n                                        <TextView\r\n                                            android:id=\"@+id/email\"\r\n                                            android:layout_width=\"match_parent\"\r\n                                            android:layout_height=\"wrap_content\"\r\n                                            android:layout_marginTop=\"5dp\"\r\n                                            android:layout_marginBottom=\"2dp\"\r\n                                            android:fontFamily=\"@font/poppins_medium\"\r\n                                            android:text=\"@string/email\"\r\n                                            android:textColor=\"@color/colorPrimaryDark\"\r\n                                            android:textSize=\"10sp\" />\r\n\r\n                                        <TextView\r\n                                            android:id=\"@+id/email_text\"\r\n                                            android:layout_width=\"match_parent\"\r\n                                            android:layout_height=\"wrap_content\"\r\n                                            android:layout_below=\"@id/photo\"\r\n                                            android:layout_marginTop=\"5dp\"\r\n                                            android:layout_marginBottom=\"5dp\"\r\n                                            android:text=\"useremailid@gmail.com\"\r\n                                            android:textColor=\"@color/colorPrimaryDark\"\r\n                                            android:textSize=\"12sp\" />\r\n\r\n                                    </LinearLayout>\r\n\r\n                                    <LinearLayout\r\n                                        android:layout_width=\"0dp\"\r\n                                        android:layout_height=\"wrap_content\"\r\n                                        android:layout_gravity=\"center\"\r\n                                        android:layout_weight=\"0.30\"\r\n                                        android:gravity=\"center\"\r\n                                        android:orientation=\"vertical\">\r\n\r\n                                        <ImageView\r\n                                            android:layout_width=\"wrap_content\"\r\n                                            android:layout_height=\"wrap_content\"\r\n                                            android:layout_gravity=\"end\"\r\n                                            android:padding=\"2dp\"\r\n                                            android:src=\"@drawable/baseline_chevron_right_24\"\r\n                                            app:tint=\"@color/button_blue\" />\r\n\r\n                                    </LinearLayout>\r\n\r\n                                </LinearLayout>\r\n                            </RelativeLayout>\r\n\r\n                            <View\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"1dp\"\r\n                                android:layout_marginTop=\"2dp\"\r\n                                android:layout_marginBottom=\"4dp\"\r\n                                android:layout_weight=\"2\"\r\n                                android:background=\"#CBCECF\" />\r\n\r\n                            <RelativeLayout\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"wrap_content\"\r\n                                android:layout_marginTop=\"5dp\"\r\n                                android:layout_marginBottom=\"5dp\">\r\n\r\n                                <Button\r\n                                    android:id=\"@+id/phone_button\"\r\n                                    android:layout_width=\"match_parent\"\r\n                                    android:layout_height=\"wrap_content\"\r\n                                    android:background=\"@color/transparent\" />\r\n\r\n                                <LinearLayout\r\n                                    android:layout_width=\"match_parent\"\r\n                                    android:layout_height=\"wrap_content\">\r\n\r\n                                    <LinearLayout\r\n                                        android:layout_width=\"0dp\"\r\n                                        android:layout_height=\"wrap_content\"\r\n                                        android:layout_weight=\"0.60\"\r\n                                        android:orientation=\"vertical\">\r\n\r\n                                        <TextView\r\n                                            android:id=\"@+id/phone\"\r\n                                            android:layout_width=\"match_parent\"\r\n                                            android:layout_height=\"wrap_content\"\r\n                                            android:layout_marginTop=\"5dp\"\r\n                                            android:layout_marginBottom=\"2dp\"\r\n                                            android:fontFamily=\"@font/poppins_medium\"\r\n                                            android:text=\"@string/phone\"\r\n                                            android:textColor=\"@color/colorPrimaryDark\"\r\n                                            android:textSize=\"10sp\" />\r\n\r\n                                        <TextView\r\n                                            android:id=\"@+id/phone_text\"\r\n                                            android:layout_width=\"match_parent\"\r\n                                            android:layout_height=\"wrap_content\"\r\n                                            android:layout_below=\"@id/photo\"\r\n                                            android:layout_marginTop=\"5dp\"\r\n                                            android:layout_marginBottom=\"5dp\"\r\n                                            android:text=\"8464953414\"\r\n                                            android:textColor=\"@color/colorPrimaryDark\"\r\n                                            android:textSize=\"12sp\" />\r\n\r\n                                    </LinearLayout>\r\n\r\n                                    <LinearLayout\r\n                                        android:layout_width=\"0dp\"\r\n                                        android:layout_height=\"wrap_content\"\r\n                                        android:layout_gravity=\"center\"\r\n                                        android:layout_weight=\"0.30\"\r\n                                        android:gravity=\"center\"\r\n                                        android:orientation=\"vertical\">\r\n\r\n                                        <ImageView\r\n                                            android:layout_width=\"wrap_content\"\r\n                                            android:layout_height=\"wrap_content\"\r\n                                            android:layout_gravity=\"end\"\r\n                                            android:padding=\"2dp\"\r\n                                            android:src=\"@drawable/baseline_chevron_right_24\"\r\n                                            app:tint=\"@color/button_blue\" />\r\n\r\n                                    </LinearLayout>\r\n\r\n                                </LinearLayout>\r\n                            </RelativeLayout>\r\n\r\n                        </LinearLayout>\r\n                    </androidx.cardview.widget.CardView>\r\n                </RelativeLayout>\r\n            </LinearLayout>\r\n\r\n        </ScrollView>\r\n\r\n\r\n    </LinearLayout>\r\n\r\n</androidx.drawerlayout.widget.DrawerLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_my_account.xml	(revision e2b83da69ae71efe9a8ea6a6d8b03bd08147db7e)
+++ app/src/main/res/layout/activity_my_account.xml	(date 1622473053297)
@@ -89,6 +89,17 @@
                         android:src="@drawable/boy_dp"
                         android:id="@+id/promy_img"
                         app:civ_border_color="@color/transparent" />
+                    <Button
+                        android:layout_width="wrap_content"
+                        android:layout_height="wrap_content"
+                        android:text="update"
+                        android:textColor="@color/white"
+                        android:textSize="18sp"
+                        android:padding="7dp"
+                        android:id="@+id/update_photo"
+                        android:background="@color/button_blue"
+                        android:layout_gravity="center"
+                        android:visibility="gone"/>
 
                     <TextView
                         android:id="@+id/user_full_name"
@@ -335,7 +346,7 @@
                                         android:layout_gravity="center"
                                         android:layout_weight="0.30"
                                         android:gravity="center"
-                                        android:orientation="vertical">
+                                        android:orientation="horizontal">
 
                                         <de.hdodenhof.circleimageview.CircleImageView
                                             android:layout_width="60dp"
Index: .idea/misc.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"ProjectRootManager\" version=\"2\" languageLevel=\"JDK_1_8\" default=\"true\" project-jdk-name=\"1.8\" project-jdk-type=\"JavaSDK\">\r\n    <output url=\"file://$PROJECT_DIR$/build/classes\" />\r\n  </component>\r\n  <component name=\"ProjectType\">\r\n    <option name=\"id\" value=\"Android\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/misc.xml	(revision e2b83da69ae71efe9a8ea6a6d8b03bd08147db7e)
+++ .idea/misc.xml	(date 1622087830466)
@@ -1,6 +1,6 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <project version="4">
-  <component name="ProjectRootManager" version="2" languageLevel="JDK_1_8" default="true" project-jdk-name="1.8" project-jdk-type="JavaSDK">
+  <component name="ProjectRootManager" version="2" languageLevel="JDK_11" default="true" project-jdk-name="1.8" project-jdk-type="JavaSDK">
     <output url="file://$PROJECT_DIR$/build/classes" />
   </component>
   <component name="ProjectType">
Index: app/src/main/res/layout/activity_discussion_home.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.drawerlayout.widget.DrawerLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/drawer_layout\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".discussion_home\">\r\n\r\n    <LinearLayout\r\n        android:id=\"@+id/content\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:orientation=\"vertical\">\r\n\r\n        <RelativeLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:padding=\"15dp\">\r\n\r\n            <ImageView\r\n                android:id=\"@+id/menu_icon\"\r\n                android:layout_width=\"40dp\"\r\n                android:layout_height=\"40dp\"\r\n                android:layout_centerVertical=\"true\"\r\n                android:src=\"@drawable/baseline_menu_black_48\" />\r\n\r\n            <soup.neumorphism.NeumorphCardView\r\n                android:id=\"@+id/card\"\r\n                style=\"@style/Widget.Neumorph.CardView\"\r\n                android:layout_width=\"200dp\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_toRightOf=\"@+id/menu_icon\"\r\n                android:visibility=\"gone\"\r\n                app:neumorph_shapeType=\"pressed\">\r\n\r\n                <EditText\r\n                    android:id=\"@+id/searchtext\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:layout_marginStart=\"10dp\"\r\n                    android:layout_marginEnd=\"10dp\"\r\n                    android:background=\"@color/transparent\"\r\n                    android:hint=\"Search Posts\"\r\n                    android:padding=\"7dp\"\r\n                    android:textCursorDrawable=\"@drawable/cursor\" />\r\n\r\n            </soup.neumorphism.NeumorphCardView>\r\n\r\n\r\n            <ImageView\r\n                android:id=\"@+id/search\"\r\n                android:layout_width=\"40dp\"\r\n                android:layout_height=\"40dp\"\r\n                android:layout_alignParentEnd=\"true\"\r\n                android:layout_centerVertical=\"true\"\r\n                android:background=\"@color/transparent\"\r\n                android:padding=\"5dp\"\r\n                android:src=\"@drawable/baseline_search_black_48\" />\r\n\r\n            <ImageView\r\n                android:id=\"@+id/search2\"\r\n                android:layout_width=\"40dp\"\r\n                android:layout_height=\"40dp\"\r\n                android:layout_centerVertical=\"true\"\r\n                android:layout_toLeftOf=\"@+id/search\"\r\n                android:background=\"@color/transparent\"\r\n                android:padding=\"5dp\"\r\n                android:src=\"@drawable/ic_close\"\r\n                android:visibility=\"gone\" />\r\n        </RelativeLayout>\r\n\r\n        <androidx.coordinatorlayout.widget.CoordinatorLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\">\r\n\r\n            <ProgressBar\r\n                android:id=\"@+id/progress_circular\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_gravity=\"center_vertical|center_horizontal\" />\r\n\r\n            <com.google.android.material.floatingactionbutton.FloatingActionButton\r\n                android:id=\"@+id/fab\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_gravity=\"bottom|end\"\r\n                android:layout_marginRight=\"16dp\"\r\n                android:layout_marginBottom=\"50dp\"\r\n                android:src=\"@drawable/ic_add\"\r\n                app:backgroundTint=\"@color/button_blue\"\r\n                app:fabSize=\"normal\" />\r\n\r\n            <androidx.recyclerview.widget.RecyclerView\r\n                android:id=\"@+id/recyclerview\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\" />\r\n\r\n        </androidx.coordinatorlayout.widget.CoordinatorLayout>\r\n\r\n    </LinearLayout>\r\n\r\n    <com.google.android.material.navigation.NavigationView\r\n        android:id=\"@+id/nav_view\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:layout_gravity=\"start\"\r\n        android:background=\"@color/lightWhite\"\r\n        android:theme=\"@style/navigationTheme\"\r\n        app:headerLayout=\"@layout/menu_header\"\r\n        app:menu=\"@menu/main_menu\" />\r\n\r\n</androidx.drawerlayout.widget.DrawerLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_discussion_home.xml	(revision e2b83da69ae71efe9a8ea6a6d8b03bd08147db7e)
+++ app/src/main/res/layout/activity_discussion_home.xml	(date 1622648081255)
@@ -41,6 +41,7 @@
                     android:layout_marginStart="10dp"
                     android:layout_marginEnd="10dp"
                     android:background="@color/transparent"
+                    android:inputType="textCapSentences"
                     android:hint="Search Posts"
                     android:padding="7dp"
                     android:textCursorDrawable="@drawable/cursor" />
@@ -86,15 +87,65 @@
                 android:layout_height="wrap_content"
                 android:layout_gravity="bottom|end"
                 android:layout_marginRight="16dp"
-                android:layout_marginBottom="50dp"
+                android:layout_marginBottom="63dp"
                 android:src="@drawable/ic_add"
                 app:backgroundTint="@color/button_blue"
                 app:fabSize="normal" />
 
-            <androidx.recyclerview.widget.RecyclerView
-                android:id="@+id/recyclerview"
-                android:layout_width="match_parent"
-                android:layout_height="match_parent" />
+            <androidx.swiperefreshlayout.widget.SwipeRefreshLayout
+                android:id="@+id/splayout"
+                android:layout_width="match_parent"
+                android:layout_height="match_parent"
+                android:layout_marginBottom="20dp"
+                app:layout_anchor="@+id/progress_circular"
+                app:layout_anchorGravity="center">
+
+                <androidx.recyclerview.widget.RecyclerView
+                    android:id="@+id/recyclerview"
+                    android:layout_width="match_parent"
+                    android:layout_height="match_parent" />
+            </androidx.swiperefreshlayout.widget.SwipeRefreshLayout>
+
+            <LinearLayout
+                android:layout_width="match_parent"
+                android:layout_height="wrap_content"
+                android:orientation="vertical"
+                android:layout_gravity="bottom">
+
+                <ProgressBar
+                    android:layout_width="wrap_content"
+                    android:layout_height="wrap_content"
+                    android:layout_gravity="center"
+                    android:id="@+id/progress"
+                    android:visibility="gone"/>
+
+                <RelativeLayout
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:orientation="horizontal">
+
+                    <TextView
+                        android:layout_width="wrap_content"
+                        android:layout_height="wrap_content"
+                        android:text="Load More"
+                        android:textColor="@color/button_blue"
+                        android:textStyle="italic"
+                        android:textSize="18sp"
+                        android:id="@+id/load_more"
+                        android:visibility="gone"
+                        android:layout_centerInParent="true"/>
+
+                    <ImageView
+                        android:layout_width="wrap_content"
+                        android:layout_height="wrap_content"
+                        android:src="@drawable/up"
+                        android:layout_alignParentEnd="true"
+                        android:id="@+id/up"
+                        android:visibility="gone"
+                        android:layout_marginRight="10dp"/>
+
+                </RelativeLayout>
+            </LinearLayout>
 
         </androidx.coordinatorlayout.widget.CoordinatorLayout>
 
Index: app/src/main/res/layout/activity_set_new_password.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:layout_gravity=\"center\"\r\n    android:focusableInTouchMode=\"true\"\r\n    tools:context=\".User.ForgetPassword.SetNewPassword\">\r\n\r\n    <ScrollView\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_alignParentLeft=\"true\"\r\n        android:layout_alignParentTop=\"true\"\r\n        android:layout_centerInParent=\"true\"\r\n        android:paddingTop=\"20dp\">\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:orientation=\"vertical\">\r\n\r\n            <ImageView\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:onClick=\"goToHomeFromSetNewPassword\"\r\n                android:padding=\"5dp\"\r\n                android:src=\"@drawable/outline_arrow_back_black_36\"\r\n                android:tint=\"@color/black\" />\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:orientation=\"vertical\"\r\n                android:padding=\"30dp\">\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/set_new_password_icon\"\r\n                    android:layout_width=\"120dp\"\r\n                    android:layout_height=\"120dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:layout_marginTop=\"30dp\"\r\n                    android:src=\"@drawable/update_new_password_icon\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/set_new_password_title\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:layout_marginTop=\"30dp\"\r\n                    android:fontFamily=\"@font/muli_black\"\r\n                    android:gravity=\"center\"\r\n                    android:text=\"@string/new_credentials\"\r\n                    android:textAlignment=\"center\"\r\n                    android:textAllCaps=\"true\"\r\n                    android:textColor=\"@color/black\"\r\n                    android:textSize=\"40sp\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/set_new_password_description\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:fontFamily=\"@font/muli\"\r\n                    android:gravity=\"center\"\r\n                    android:text=\"@string/new_credentials_detail\"\r\n                    android:textAlignment=\"center\"\r\n                    android:textColor=\"@color/black\"\r\n                    android:textSize=\"16sp\" />\r\n\r\n                <com.google.android.material.textfield.TextInputLayout\r\n                    android:id=\"@+id/textInputPassword\"\r\n                    style=\"@style/parent\"\r\n                    android:layout_marginTop=\"@dimen/loginViewsMargin\"\r\n                    app:endIconMode=\"password_toggle\">\r\n\r\n                    <EditText\r\n                        android:id=\"@+id/editTextPaswword\"\r\n                        style=\"@style/modifiedEditText\"\r\n                        android:hint=\"@string/new_password\"\r\n                        android:inputType=\"textPassword\"\r\n                        android:maxLines=\"1\" />\r\n                </com.google.android.material.textfield.TextInputLayout>\r\n\r\n                <com.google.android.material.textfield.TextInputLayout\r\n                    android:id=\"@+id/textInputConfirmPassword\"\r\n                    style=\"@style/parent\"\r\n                    android:layout_marginTop=\"@dimen/loginViewsMargin\"\r\n                    app:endIconMode=\"password_toggle\">\r\n\r\n                    <EditText\r\n                        android:id=\"@+id/editTextConfirmPaswword\"\r\n                        style=\"@style/modifiedEditText\"\r\n                        android:hint=\"@string/confirm_password\"\r\n                        android:inputType=\"textPassword\"\r\n                        android:maxLines=\"1\" />\r\n                </com.google.android.material.textfield.TextInputLayout>\r\n\r\n                <Button\r\n                    android:id=\"@+id/set_new_password_btn\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginTop=\"20dp\"\r\n                    android:background=\"@color/button_blue\"\r\n                    android:onClick=\"setNewPasswordBtn\"\r\n                    android:text=\"Update\"\r\n                    android:textColor=\"@color/white\" />\r\n\r\n            </LinearLayout>\r\n        </LinearLayout>\r\n\r\n\r\n    </ScrollView>\r\n\r\n</RelativeLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_set_new_password.xml	(revision e2b83da69ae71efe9a8ea6a6d8b03bd08147db7e)
+++ app/src/main/res/layout/activity_set_new_password.xml	(date 1622358766921)
@@ -27,7 +27,7 @@
                 android:onClick="goToHomeFromSetNewPassword"
                 android:padding="5dp"
                 android:src="@drawable/outline_arrow_back_black_36"
-                android:tint="@color/black" />
+                app:tint="@color/black" />
 
             <LinearLayout
                 android:layout_width="match_parent"
Index: app/src/main/res/layout/activity_my_account_gender.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".User.MyAccount.MyAccountGender\">\r\n\r\n    <ImageView\r\n        android:id=\"@+id/account_gender_back_btn\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:paddingLeft=\"10dp\"\r\n        android:paddingTop=\"25dp\"\r\n        android:paddingRight=\"10dp\"\r\n        android:paddingBottom=\"25dp\"\r\n        android:src=\"@drawable/outline_arrow_back_black_36\" />\r\n\r\n    <ScrollView\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_below=\"@id/account_gender_back_btn\">\r\n\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:orientation=\"vertical\"\r\n            android:padding=\"25dp\">\r\n\r\n\r\n            <TextView\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"50dp\"\r\n                android:fontFamily=\"@font/roboto_medium\"\r\n                android:text=\"@string/your_gender\"\r\n                android:textColor=\"@color/button_blue\"\r\n                android:textSize=\"30sp\" />\r\n\r\n            <TextView\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"20dp\"\r\n                android:layout_marginBottom=\"15dp\"\r\n                android:fontFamily=\"@font/roboto_medium\"\r\n                android:text=\"@string/gender_desc\"\r\n                android:textColor=\"@color/colorPrimaryDark\" />\r\n\r\n\r\n            <RadioGroup\r\n                android:id=\"@+id/account_radio_group\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\"\r\n                android:layout_gravity=\"center\"\r\n                android:layout_margin=\"10dp\"\r\n                android:orientation=\"vertical\">\r\n\r\n                <RadioButton\r\n                    android:id=\"@+id/male\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:fontFamily=\"@font/roboto_medium\"\r\n                    android:padding=\"8dp\"\r\n                    android:text=\"Male\"\r\n                    android:textSize=\"18sp\" />\r\n\r\n                <RadioButton\r\n                    android:id=\"@+id/female\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:fontFamily=\"@font/roboto_medium\"\r\n                    android:padding=\"8dp\"\r\n                    android:text=\"Female\"\r\n                    android:textSize=\"18sp\" />\r\n\r\n                <RadioButton\r\n                    android:id=\"@+id/other\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:fontFamily=\"@font/roboto_medium\"\r\n                    android:padding=\"8dp\"\r\n                    android:text=\"Other\"\r\n                    android:textSize=\"18sp\" />\r\n            </RadioGroup>\r\n\r\n            <Button\r\n                android:id=\"@+id/set_new_full_name\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"20dp\"\r\n                android:background=\"@color/button_blue\"\r\n                android:text=\"Update\"\r\n                android:textColor=\"@color/white\" />\r\n\r\n            <Button\r\n                android:id=\"@+id/cancel_new_full_name\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"20dp\"\r\n                android:background=\"@color/transparent\"\r\n                android:text=\"Cancel\"\r\n                android:textColor=\"@color/button_blue\" />\r\n\r\n        </LinearLayout>\r\n\r\n    </ScrollView>\r\n\r\n</RelativeLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_my_account_gender.xml	(revision e2b83da69ae71efe9a8ea6a6d8b03bd08147db7e)
+++ app/src/main/res/layout/activity_my_account_gender.xml	(date 1622356644468)
@@ -54,6 +54,7 @@
                 android:layout_height="match_parent"
                 android:layout_gravity="center"
                 android:layout_margin="10dp"
+                android:checkedButton="@id/male"
                 android:orientation="vertical">
 
                 <RadioButton
Index: app/src/main/java/com/example/r_edu_kt/User/ForgetPassword/SetNewPassword.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.r_edu_kt.User.ForgetPassword;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\n\r\nimport com.example.r_edu_kt.R;\r\nimport com.example.r_edu_kt.User.ForgetPassword.ForgetSuccessMessage;\r\n\r\npublic class SetNewPassword extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_set_new_password);\r\n\r\n        if(Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP){\r\n            Window window=getWindow();\r\n            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n            window.setStatusBarColor(getResources().getColor(R.color.colorAccent));\r\n        }\r\n    }\r\n\r\n    public void goToHomeFromSetNewPassword(View view) {\r\n        onBackPressed();\r\n    }\r\n\r\n    public void setNewPasswordBtn(View view) {\r\n        startActivity(new Intent(getApplicationContext(), ForgetSuccessMessage.class));\r\n        overridePendingTransition(R.anim.slide_in_right, R.anim.slide_out_left);\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        super.onBackPressed();\r\n        overridePendingTransition(R.anim.slide_in_left, R.anim.slide_out_right);\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/r_edu_kt/User/ForgetPassword/SetNewPassword.java	(revision e2b83da69ae71efe9a8ea6a6d8b03bd08147db7e)
+++ app/src/main/java/com/example/r_edu_kt/User/ForgetPassword/SetNewPassword.java	(date 1622516359360)
@@ -1,19 +1,45 @@
 package com.example.r_edu_kt.User.ForgetPassword;
 
+import androidx.annotation.NonNull;
 import androidx.appcompat.app.AppCompatActivity;
 
+import android.app.ProgressDialog;
 import android.content.Intent;
 import android.os.Build;
 import android.os.Bundle;
+import android.text.TextUtils;
 import android.view.View;
 import android.view.Window;
 import android.view.WindowManager;
+import android.widget.Button;
+import android.widget.EditText;
+import android.widget.Toast;
 
 import com.example.r_edu_kt.R;
 import com.example.r_edu_kt.User.ForgetPassword.ForgetSuccessMessage;
+import com.example.r_edu_kt.User.Login.LoginActivity;
+import com.example.r_edu_kt.User.MyAccount.MyAccount;
+import com.example.r_edu_kt.User.MyAccount.MyAccountEmail;
+import com.example.r_edu_kt.User.MyAccount.MyAccountPassword;
+import com.example.r_edu_kt.discussion_home;
+import com.google.android.gms.tasks.OnFailureListener;
+import com.google.android.gms.tasks.OnSuccessListener;
+import com.google.firebase.auth.FirebaseAuth;
+import com.google.firebase.auth.FirebaseUser;
+import com.google.firebase.database.DatabaseReference;
+import com.google.firebase.database.FirebaseDatabase;
+
+import org.jetbrains.annotations.NotNull;
+
+import java.util.HashMap;
+import java.util.Set;
 
 public class SetNewPassword extends AppCompatActivity {
 
+    Button update;
+    EditText new_pass,confirm_pass;
+    FirebaseUser user;
+
     @Override
     protected void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);
@@ -24,6 +50,82 @@
             window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);
             window.setStatusBarColor(getResources().getColor(R.color.colorAccent));
         }
+
+        update = findViewById(R.id.set_new_password_btn);
+        new_pass = findViewById(R.id.editTextPaswword);
+        confirm_pass = findViewById(R.id.editTextConfirmPaswword);
+        user = FirebaseAuth.getInstance().getCurrentUser();
+
+        update.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                final String ori_pas = new_pass.getText().toString();
+                String con_pas = confirm_pass.getText().toString();
+                if(TextUtils.isEmpty(ori_pas)){
+                    new_pass.setError("password required");
+                    new_pass.requestFocus();
+                    return;
+                }
+                else if(TextUtils.isEmpty(con_pas)){
+                    confirm_pass.setError("confirm password required");
+                    confirm_pass.requestFocus();
+                    return;
+                }
+
+                else if(!ori_pas.equals(con_pas)){
+                    confirm_pass.setError("passwords not matching");
+                    confirm_pass.requestFocus();
+                    return;
+                }
+                else {
+                    final DatabaseReference reference = FirebaseDatabase.getInstance().getReference("Users");
+                    final HashMap<String, Object> hashMap = new HashMap<>();
+                    hashMap.put("password",ori_pas);
+
+                    final ProgressDialog pd = new ProgressDialog(SetNewPassword.this);
+                    pd.setMessage("Updating your Password");
+                    pd.setCanceledOnTouchOutside(false);
+                    pd.show();
+
+                    user.updatePassword(ori_pas).addOnSuccessListener(new OnSuccessListener<Void>() {
+                        @Override
+                        public void onSuccess(Void unused) {
+                            reference.child(FirebaseAuth.getInstance().getCurrentUser().getUid()).updateChildren(hashMap)
+                                    .addOnSuccessListener(new OnSuccessListener<Void>() {
+                                        @Override
+                                        public void onSuccess(Void aVoid) {
+                                            Toast.makeText(SetNewPassword.this, "Password updated successfully", Toast.LENGTH_SHORT).show();
+                                            pd.dismiss();
+                                        }
+                                    }).addOnFailureListener(new OnFailureListener() {
+                                @Override
+                                public void onFailure(@NonNull Exception e) {
+                                    Toast.makeText(SetNewPassword.this, "could not update Password", Toast.LENGTH_SHORT).show();
+                                    pd.dismiss();
+                                }
+                            });
+                            callbacktomy_act();
+                            finish();
+                        }
+                    }).addOnFailureListener(new OnFailureListener() {
+                        @Override
+                        public void onFailure(@NonNull @NotNull Exception e) {
+                            Toast.makeText(SetNewPassword.this,e.getMessage(),Toast.LENGTH_SHORT).show();
+                            callbacktomy_act();
+                            pd.dismiss();
+                            finish();
+                        }
+                    });
+                }
+            }
+        });
+
+    }
+
+    private void callbacktomy_act() {
+        Intent intent = new Intent(this,MyAccount.class);
+        startActivity(intent);
+        overridePendingTransition(R.anim.slide_in_right, R.anim.slide_out_left);
     }
 
     public void goToHomeFromSetNewPassword(View view) {
Index: app/src/main/AndroidManifest.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    package=\"com.example.r_edu_kt\">\r\n\r\n    <uses-permission android:name=\"android.permission.INTERNET\" />\r\n    <uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" />\r\n    <uses-permission android:name=\"android.permission.VIBRATE\" />\r\n    <uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" />\r\n    <uses-permission android:name=\"android.permission.READ_PHONE_STATE\" />\r\n    <uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" />\r\n\r\n    <application\r\n        android:allowBackup=\"true\"\r\n        android:icon=\"@mipmap/ic_launcher\"\r\n        android:label=\"@string/app_name\"\r\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\r\n        android:supportsRtl=\"true\"\r\n        android:theme=\"@style/AppTheme\">\r\n        <activity android:name=\".discussion_home\"></activity>\r\n        <activity android:name=\".CommentsActivity\" />\r\n        <activity android:name=\".AskQuestionActivity\" />\r\n        <activity android:name=\".User.Quiz.WonActivity\" />\r\n        <activity android:name=\".User.Quiz.QuizDashboard\" />\r\n        <activity android:name=\".User.Quiz.QuizIntro\" />\r\n        <activity android:name=\".User.MyAccount.MyAccountPhone\" />\r\n        <activity android:name=\".User.MyAccount.MyAccountEmail\" />\r\n        <activity android:name=\".User.MyAccount.MyAccountPassword\" />\r\n        <activity android:name=\".User.MyAccount.MyAccountGender\" />\r\n        <activity android:name=\".User.MyAccount.MyAccountBirthday\" />\r\n        <activity android:name=\".User.MyAccount.MyAccountName\" />\r\n        <activity android:name=\".User.MyAccount.MyAccount\" />\r\n        <activity android:name=\".User.CourseLayout.CourseOverview\" />\r\n        <activity android:name=\".User.ForgetPassword.ForgetSuccessMessage\" />\r\n        <activity android:name=\".User.ForgetPassword.PasswordOTP\" />\r\n        <activity android:name=\".User.ForgetPassword.SetNewPassword\" />\r\n        <activity android:name=\".User.ForgetPassword.MakeSelection\" />\r\n        <activity android:name=\".User.ForgetPassword.ForgetPassword\" />\r\n        <activity android:name=\".User.Register.SignUp3rdClass\" />\r\n        <activity android:name=\".User.Register.SignUp2ndClass\" />\r\n        <activity android:name=\".User.UserDashboard\" />\r\n        <activity android:name=\".Common.SplashScreen\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.MAIN\" />\r\n\r\n                <category android:name=\"android.intent.category.LAUNCHER\" />\r\n            </intent-filter>\r\n        </activity>\r\n        <activity\r\n            android:name=\".User.Register.RegisterActivity\"\r\n            android:theme=\"@style/AppTheme.NoActionBar\" />\r\n        <activity\r\n            android:name=\".User.Login.LoginActivity\"\r\n            android:theme=\"@style/AppTheme.NoActionBar\" />\r\n\r\n        <meta-data\r\n            android:name=\"preloaded_fonts\"\r\n            android:resource=\"@array/preloaded_fonts\" />\r\n    </application>\r\n\r\n</manifest>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/AndroidManifest.xml	(revision e2b83da69ae71efe9a8ea6a6d8b03bd08147db7e)
+++ app/src/main/AndroidManifest.xml	(date 1622125870393)
@@ -5,7 +5,7 @@
     <uses-permission android:name="android.permission.INTERNET" />
     <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
     <uses-permission android:name="android.permission.VIBRATE" />
-    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
+    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/>
     <uses-permission android:name="android.permission.READ_PHONE_STATE" />
     <uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" />
 
@@ -16,8 +16,8 @@
         android:roundIcon="@mipmap/ic_launcher_round"
         android:supportsRtl="true"
         android:theme="@style/AppTheme">
-        <activity android:name=".discussion_home"></activity>
-        <activity android:name=".CommentsActivity" />
+        <activity android:name=".CommentReply"/>
+        <activity android:name=".discussion_home" />
         <activity android:name=".AskQuestionActivity" />
         <activity android:name=".User.Quiz.WonActivity" />
         <activity android:name=".User.Quiz.QuizDashboard" />
@@ -41,10 +41,18 @@
         <activity android:name=".Common.SplashScreen">
             <intent-filter>
                 <action android:name="android.intent.action.MAIN" />
-
                 <category android:name="android.intent.category.LAUNCHER" />
             </intent-filter>
         </activity>
+
+
+        <activity android:name=".CommentsActivity">
+            <intent-filter>
+                <action android:name = "com.example.r_edu_kt.MESSAGE"/>
+                <category android:name = "android.intent.category.DEFAULT"/>
+            </intent-filter>
+        </activity>
+
         <activity
             android:name=".User.Register.RegisterActivity"
             android:theme="@style/AppTheme.NoActionBar" />
@@ -55,6 +63,15 @@
         <meta-data
             android:name="preloaded_fonts"
             android:resource="@array/preloaded_fonts" />
+
+        <service
+            android:name=".MyFirebaseMessagingService"
+            android:directBootAware="true"
+            android:exported="false">
+            <intent-filter>
+                <action android:name="com.google.firebase.MESSAGING_EVENT" />
+            </intent-filter>
+        </service>
     </application>
 
 </manifest>
\ No newline at end of file
Index: .idea/runConfigurations.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"RunConfigurationProducerService\">\r\n    <option name=\"ignoredProducers\">\r\n      <set>\r\n        <option value=\"org.jetbrains.plugins.gradle.execution.test.runner.AllInPackageGradleConfigurationProducer\" />\r\n        <option value=\"org.jetbrains.plugins.gradle.execution.test.runner.TestClassGradleConfigurationProducer\" />\r\n        <option value=\"org.jetbrains.plugins.gradle.execution.test.runner.TestMethodGradleConfigurationProducer\" />\r\n      </set>\r\n    </option>\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/runConfigurations.xml	(revision e2b83da69ae71efe9a8ea6a6d8b03bd08147db7e)
+++ .idea/runConfigurations.xml	(date 1622087830552)
@@ -3,6 +3,7 @@
   <component name="RunConfigurationProducerService">
     <option name="ignoredProducers">
       <set>
+        <option value="com.android.tools.idea.compose.preview.runconfiguration.ComposePreviewRunConfigurationProducer" />
         <option value="org.jetbrains.plugins.gradle.execution.test.runner.AllInPackageGradleConfigurationProducer" />
         <option value="org.jetbrains.plugins.gradle.execution.test.runner.TestClassGradleConfigurationProducer" />
         <option value="org.jetbrains.plugins.gradle.execution.test.runner.TestMethodGradleConfigurationProducer" />
Index: app/src/main/res/layout/comments_layout.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"wrap_content\"\r\n    android:padding=\"5dp\">\r\n\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:id=\"@+id/lineview\">\r\n        <View\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"1dp\"\r\n            android:layout_above=\"@id/main_rel_lay\"\r\n            android:layout_marginBottom=\"8dp\"\r\n            android:background=\"#EFECEC\" />\r\n    </LinearLayout>\r\n\r\n\r\n    <RelativeLayout\r\n        android:id=\"@+id/main_rel_lay\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_below=\"@id/lineview\"\r\n        >\r\n\r\n        <de.hdodenhof.circleimageview.CircleImageView\r\n            android:id=\"@+id/commentor_profile_image\"\r\n            android:layout_width=\"45dp\"\r\n            android:layout_height=\"45dp\"\r\n            android:src=\"@drawable/profile_image\"\r\n            app:civ_border_color=\"@color/colorAccent\"\r\n            app:civ_border_width=\"2dp\" />\r\n\r\n        <LinearLayout\r\n            android:id=\"@+id/commentlinear\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginLeft=\"5dp\"\r\n            android:layout_toEndOf=\"@+id/commentor_profile_image\"\r\n            android:orientation=\"horizontal\">\r\n\r\n            <RelativeLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\">\r\n\r\n                <TextView\r\n                    android:id=\"@+id/commentorUserName\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginBottom=\"0dp\"\r\n                    android:text=\"username\"\r\n                    android:textColor=\"#000\"\r\n                    android:textStyle=\"bold\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/commentDate\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_below=\"@+id/commentorUserName\"\r\n                    android:layout_marginTop=\"0dp\"\r\n                    android:text=\"nov 23, 2020\"\r\n                    android:textColor=\"#000\"\r\n                    android:textSize=\"10sp\" />\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/more\"\r\n                    android:layout_width=\"37dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_alignParentRight=\"true\"\r\n                    android:gravity=\"end\"\r\n                    android:src=\"@drawable/ic_more\" />\r\n            </RelativeLayout>\r\n        </LinearLayout>\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_below=\"@+id/commentlinear\"\r\n            android:layout_marginLeft=\"5dp\"\r\n            android:layout_marginRight=\"20dp\"\r\n            android:layout_toEndOf=\"@+id/commentor_profile_image\"\r\n            android:orientation=\"vertical\">\r\n\r\n            <TextView\r\n                android:id=\"@+id/commentor_comment\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:text=\"commentor_comment\"\r\n                android:textColor=\"#000\" />\r\n\r\n            <com.github.chrisbanes.photoview.PhotoView\r\n                android:id=\"@+id/retrieved_commentimage\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"150dp\"\r\n                android:layout_gravity=\"center\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:layout_marginBottom=\"10dp\"\r\n                android:src=\"@drawable/ic_image\"\r\n                android:scaleType=\"centerCrop\"\r\n                android:visibility=\"gone\" />\r\n        </LinearLayout>\r\n\r\n    </RelativeLayout>\r\n\r\n\r\n</RelativeLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/comments_layout.xml	(revision e2b83da69ae71efe9a8ea6a6d8b03bd08147db7e)
+++ app/src/main/res/layout/comments_layout.xml	(date 1622092059643)
@@ -22,13 +22,12 @@
         android:id="@+id/main_rel_lay"
         android:layout_width="match_parent"
         android:layout_height="wrap_content"
-        android:layout_below="@id/lineview"
-        >
+        android:layout_below="@id/lineview">
 
         <de.hdodenhof.circleimageview.CircleImageView
             android:id="@+id/commentor_profile_image"
-            android:layout_width="45dp"
-            android:layout_height="45dp"
+            android:layout_width="35dp"
+            android:layout_height="35dp"
             android:src="@drawable/profile_image"
             app:civ_border_color="@color/colorAccent"
             app:civ_border_width="2dp" />
@@ -80,6 +79,7 @@
             android:layout_below="@+id/commentlinear"
             android:layout_marginLeft="5dp"
             android:layout_marginRight="20dp"
+            android:id="@+id/linearlast"
             android:layout_toEndOf="@+id/commentor_profile_image"
             android:orientation="vertical">
 
@@ -91,7 +91,7 @@
                 android:text="commentor_comment"
                 android:textColor="#000" />
 
-            <com.github.chrisbanes.photoview.PhotoView
+            <ImageButton
                 android:id="@+id/retrieved_commentimage"
                 android:layout_width="match_parent"
                 android:layout_height="150dp"
@@ -102,6 +102,92 @@
                 android:scaleType="centerCrop"
                 android:visibility="gone" />
         </LinearLayout>
+
+
+        <LinearLayout
+            android:layout_width="fill_parent"
+            android:layout_height="wrap_content"
+            android:layout_gravity="center"
+            android:layout_marginTop="5dp"
+            android:gravity="center"
+            android:orientation="horizontal"
+            android:weightSum="6"
+            android:layout_below="@+id/linearlast">
+
+            <LinearLayout
+                android:layout_width="0dp"
+                android:layout_height="wrap_content"
+                android:layout_weight="2"
+                android:gravity="center"
+                android:orientation="vertical">
+
+                <ImageView
+                    android:id="@+id/like"
+                    android:layout_width="25dp"
+                    android:layout_height="25dp"
+                    android:padding="2dp"
+                    android:src="@drawable/ic_thumb_up" />
+
+                <TextView
+                    android:id="@+id/likes"
+                    android:layout_width="wrap_content"
+                    android:layout_height="wrap_content"
+                    android:text="Likes"
+                    android:textColor="#000"
+                    android:textSize="8sp"
+                    android:textStyle="bold" />
+
+            </LinearLayout>
+
+            <LinearLayout
+                android:layout_width="0dp"
+                android:layout_height="wrap_content"
+                android:layout_weight="2"
+                android:gravity="center"
+                android:orientation="vertical">
+
+                <ImageView
+                    android:id="@+id/dislike"
+                    android:layout_width="25dp"
+                    android:layout_height="25dp"
+                    android:padding="2dp"
+                    android:src="@drawable/ic_dislike" />
+
+                <TextView
+                    android:id="@+id/dislikes"
+                    android:layout_width="wrap_content"
+                    android:layout_height="wrap_content"
+                    android:text="Dislikes"
+                    android:textColor="#000"
+                    android:textSize="8sp"
+                    android:textStyle="bold" />
+
+            </LinearLayout>
+
+            <LinearLayout
+                android:layout_width="0dp"
+                android:layout_height="wrap_content"
+                android:layout_weight="2"
+                android:gravity="center"
+                android:orientation="vertical">
+
+                <ImageView
+                    android:id="@+id/reply"
+                    android:layout_width="23dp"
+                    android:layout_height="23dp"
+                    android:src="@drawable/ic_comment" />
+
+                <TextView
+                    android:id="@+id/replies"
+                    android:layout_width="wrap_content"
+                    android:layout_height="wrap_content"
+                    android:text="Replies"
+                    android:textColor="#000"
+                    android:textSize="8sp"
+                    android:textStyle="bold" />
+            </LinearLayout>
+
+        </LinearLayout>
 
     </RelativeLayout>
 
Index: app/build.gradle
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>apply plugin: 'com.android.application'\r\napply plugin: 'com.google.gms.google-services'\r\napply plugin: 'com.google.gms.google-services'\r\n\r\nandroid {\r\n    compileSdkVersion 29\r\n    buildToolsVersion \"29.0.2\"\r\n    defaultConfig {\r\n        applicationId \"com.example.r_edu_kt\"\r\n        minSdkVersion 21\r\n        targetSdkVersion 29\r\n        versionCode 1\r\n        versionName \"1.0\"\r\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\r\n    implementation 'androidx.appcompat:appcompat:1.0.2'\r\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\r\n    implementation \"androidx.drawerlayout:drawerlayout:1.1.1\"\r\n    implementation 'com.google.firebase:firebase-database:19.7.0'\r\n    implementation 'com.google.firebase:firebase-auth:20.0.4'\r\n    implementation 'com.google.firebase:firebase-storage:19.2.2'\r\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\r\n    implementation 'androidx.navigation:navigation-fragment:2.2.2'\r\n    implementation 'androidx.navigation:navigation-ui:2.2.2'\r\n    testImplementation 'junit:junit:4.12'\r\n    androidTestImplementation 'androidx.test.ext:junit:1.1.0'\r\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.1.1'\r\n\r\n    implementation 'br.com.simplepass:loading-button-android:1.14.0'\r\n    implementation \"androidx.cardview:cardview:1.0.0\"\r\n    implementation 'de.hdodenhof:circleimageview:3.1.0'\r\n    implementation \"androidx.recyclerview:recyclerview:1.1.0\"\r\n    // For control over item selection of both touch and mouse driven selection\r\n    implementation \"androidx.recyclerview:recyclerview-selection:1.1.0\"\r\n    implementation 'com.google.android.material:material:1.1.0'\r\n    implementation 'com.hbb20:ccp:2.3.1'\r\n\r\n    implementation 'com.github.chrisbanes:PhotoView:2.1.3'\r\n\r\n    //otp pin view design\r\n    implementation 'com.chaos.view:pinview:1.4.3'\r\n\r\n    implementation 'androidx.browser:browser:1.2.0'\r\n\r\n    //circular image\r\n    implementation 'de.hdodenhof:circleimageview:3.1.0'\r\n\r\n    api 'com.ms-square:expandableTextView:0.1.4'\r\n\r\n    implementation 'com.orhanobut:dialogplus:1.11@aar'\r\n\r\n    implementation 'com.github.bumptech.glide:glide:4.11.0'\r\n    annotationProcessor 'com.github.bumptech.glide:compiler:4.11.0'\r\n    //horizontal progress bar\r\n    implementation 'com.sasank.roundedhorizontalprogress:roundedhorizontalprogress:1.0.1'\r\n    implementation 'com.mikhaellopez:circularprogressbar:3.0.3'\r\n\r\n    implementation 'com.github.fornewid:neumorphism:0.3.0'\r\n\r\n    implementation 'com.squareup.picasso:picasso:2.71828'\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/build.gradle	(revision e2b83da69ae71efe9a8ea6a6d8b03bd08147db7e)
+++ app/build.gradle	(date 1622531018392)
@@ -59,8 +59,8 @@
 
     implementation 'com.orhanobut:dialogplus:1.11@aar'
 
-    implementation 'com.github.bumptech.glide:glide:4.11.0'
-    annotationProcessor 'com.github.bumptech.glide:compiler:4.11.0'
+    implementation 'com.github.bumptech.glide:glide:4.10.0'
+    annotationProcessor 'com.github.bumptech.glide:compiler:4.10.0'
     //horizontal progress bar
     implementation 'com.sasank.roundedhorizontalprogress:roundedhorizontalprogress:1.0.1'
     implementation 'com.mikhaellopez:circularprogressbar:3.0.3'
@@ -68,5 +68,11 @@
     implementation 'com.github.fornewid:neumorphism:0.3.0'
 
     implementation 'com.squareup.picasso:picasso:2.71828'
+    
+    implementation 'org.apache.commons:commons-lang3:3.6'
 
+    implementation 'com.android.volley:volley:1.1.1'
+
+    implementation 'com.google.firebase:firebase-messaging-directboot:20.2.0'
+
 }
Index: app/src/main/java/com/example/r_edu_kt/Adapters/PostAdapter.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.r_edu_kt.Adapters;\r\n\r\nimport android.app.AlertDialog;\r\nimport android.app.ProgressDialog;\r\nimport android.content.Context;\r\nimport android.content.DialogInterface;\r\nimport android.content.Intent;\r\nimport android.os.Build;\r\nimport android.text.TextUtils;\r\nimport android.view.Gravity;\r\nimport android.view.LayoutInflater;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageView;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.PopupMenu;\r\nimport android.widget.RadioButton;\r\nimport android.widget.RadioGroup;\r\nimport android.widget.Spinner;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.RequiresApi;\r\nimport androidx.cardview.widget.CardView;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.example.r_edu_kt.CommentsActivity;\r\nimport com.example.r_edu_kt.Model.Post;\r\nimport com.example.r_edu_kt.Model.User;\r\nimport com.example.r_edu_kt.R;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\nimport com.ms.square.android.expandabletextview.ExpandableTextView;\r\nimport com.orhanobut.dialogplus.DialogPlus;\r\nimport com.orhanobut.dialogplus.ViewHolder;\r\n\r\nimport java.text.DateFormat;\r\nimport java.util.Date;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\n\r\nimport de.hdodenhof.circleimageview.CircleImageView;\r\n\r\npublic class PostAdapter extends RecyclerView.Adapter<PostAdapter.viewHolder> {\r\n    public Context mContext;\r\n    public List<Post> mPostList;\r\n    private FirebaseUser firebaseUser;\r\n    String selected=\"\",name=\"\";\r\n    RadioButton radioButton;\r\n    RadioGroup radioGroup;\r\n\r\n    public PostAdapter(Context mContext, List<Post> mPostList) {\r\n        this.mContext = mContext;\r\n        this.mPostList = mPostList;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public viewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(mContext).inflate(R.layout.questions_retrieved_layout,parent,false);\r\n        return new PostAdapter.viewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull final viewHolder holder, final int position) {\r\n        firebaseUser = FirebaseAuth.getInstance().getCurrentUser();\r\n        final Post post = mPostList.get(position);\r\n        if(post.getQuestionimage() == null){\r\n            holder.questionImage.setVisibility(View.GONE);\r\n        }\r\n        else{\r\n            holder.questionImage.setVisibility(View.VISIBLE);\r\n        }\r\n        Glide.with(mContext).load(post.getQuestionimage()).into(holder.questionImage);\r\n        holder.expandable_text.setText(post.getQuestion());\r\n        holder.topicTextview.setText(post.getTopic());\r\n        holder.askedOnTextview.setText(post.getDate());\r\n\r\n\r\n        publisherInformation(holder.asked_by_Textview,post.getPublisher(),holder.profile_image);\r\n        isLiked(post.getPostid(),holder.like);\r\n        isDisLiked(post.getPostid(),holder.dislike);\r\n        getLikes(holder.likes,post.getPostid());\r\n        getDisLikes(holder.dislikes,post.getPostid());\r\n\r\n        holder.like.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                if(holder.like.getTag().equals(\"like\") && holder.dislike.getTag().equals(\"dislike\")){\r\n                    FirebaseDatabase.getInstance().getReference().child(\"likes\").child(post.getPostid()).child(firebaseUser.getUid()).setValue(true);\r\n                }\r\n                else if(holder.like.getTag().equals(\"like\") && holder.dislike.getTag().equals(\"disliked\")){\r\n                    FirebaseDatabase.getInstance().getReference().child(\"dislikes\").child(post.getPostid()).child(firebaseUser.getUid()).removeValue();\r\n                    FirebaseDatabase.getInstance().getReference().child(\"likes\").child(post.getPostid()).child(firebaseUser.getUid()).setValue(true);\r\n                }\r\n                else {\r\n                    FirebaseDatabase.getInstance().getReference().child(\"likes\").child(post.getPostid()).child(firebaseUser.getUid()).removeValue();\r\n                }\r\n            }\r\n        });\r\n\r\n        holder.dislike.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                if (holder.dislike.getTag().equals(\"dislike\") && holder.like.getTag().equals(\"like\")){\r\n                    FirebaseDatabase.getInstance().getReference().child(\"dislikes\").child(post.getPostid()).child(firebaseUser.getUid()).setValue(true);\r\n                }else if (holder.dislike.getTag().equals(\"dislike\") && holder.like.getTag().equals(\"liked\")){\r\n                    FirebaseDatabase.getInstance().getReference().child(\"likes\").child(post.getPostid()).child(firebaseUser.getUid()).removeValue();\r\n                    FirebaseDatabase.getInstance().getReference().child(\"dislikes\").child(post.getPostid()).child(firebaseUser.getUid()).setValue(true);\r\n                }else {\r\n                    FirebaseDatabase.getInstance().getReference().child(\"dislikes\").child(post.getPostid()).child(firebaseUser.getUid()).removeValue();\r\n                }\r\n            }\r\n        });\r\n\r\n        holder.comment.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent=new Intent(mContext, CommentsActivity.class);\r\n                intent.putExtra(\"postid\",post.getPostid());\r\n                intent.putExtra(\"publisher\",post.getPublisher());\r\n                mContext.startActivity(intent);\r\n            }\r\n        });\r\n\r\n        holder.comments.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent=new Intent(mContext,CommentsActivity.class);\r\n                intent.putExtra(\"postid\",post.getPostid());\r\n                intent.putExtra(\"publisher\",post.getPublisher());\r\n                mContext.startActivity(intent);\r\n            }\r\n        });\r\n\r\n        holder.more.setOnClickListener(new View.OnClickListener() {\r\n            @RequiresApi(api = Build.VERSION_CODES.M)\r\n            @Override\r\n            public void onClick(View v) {\r\n                PopupMenu popupMenu = new PopupMenu(mContext,v);\r\n                popupMenu.inflate(R.menu.post_menu);\r\n                popupMenu.setGravity(Gravity.END);\r\n\r\n                if(!post.getPublisher().equals(firebaseUser.getUid())){\r\n                    popupMenu.getMenu().findItem(R.id.edit).setVisible(false);\r\n                    popupMenu.getMenu().findItem(R.id.delete).setVisible(false);\r\n                }else if(post.getPublisher().equals(firebaseUser.getUid())){\r\n                    popupMenu.getMenu().findItem(R.id.report).setVisible(false);\r\n                }\r\n                popupMenu.show();\r\n                popupMenu.getMenu().findItem(R.id.edit).setOnMenuItemClickListener(new MenuItem.OnMenuItemClickListener() {\r\n                    @Override\r\n                    public boolean onMenuItemClick(MenuItem item) {\r\n\r\n                        View view = LayoutInflater.from(holder.more.getContext()).inflate(R.layout.editpost,null);\r\n\r\n                        final String postid=post.getPostid();\r\n\r\n                        final ImageView qimage=view.findViewById(R.id.que_img);\r\n                        final Spinner sp=view.findViewById(R.id.spin);\r\n                        final EditText question=view.findViewById(R.id.questtext);\r\n                        final  TextView tv=view.findViewById(R.id.tv);\r\n                        Button submit=view.findViewById(R.id.postQ);\r\n                        Button canc=view.findViewById(R.id.canc);\r\n\r\n                        final AlertDialog dialog = new AlertDialog.Builder(holder.more.getContext())\r\n                                .setView(view).setCancelable(false).create();\r\n\r\n                        // Intent intent = new Intent(mContext, editpost.class);\r\n                        //((Activity)mContext).startActivityForResult(intent,requestCode);\r\n\r\n                        if(post.getQuestionimage()!=null){\r\n                            qimage.setVisibility(View.VISIBLE);\r\n                        }\r\n                        Glide.with(mContext).load(post.getQuestionimage()).into(qimage);\r\n                        question.setText(post.getQuestion());\r\n                        tv.setText(post.getTopic());\r\n\r\n                        dialog.getWindow().setBackgroundDrawableResource(android.R.color.transparent);\r\n                        dialog.getWindow().setWindowAnimations(R.style.DialogAnimation);\r\n                        dialog.show();\r\n\r\n\r\n                        canc.setOnClickListener(new View.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(View v) {\r\n                                dialog.dismiss();\r\n                            }\r\n                        });\r\n                        FirebaseDatabase database= FirebaseDatabase.getInstance();\r\n                        final DatabaseReference reference= database.getReference(\"questions posts\");\r\n\r\n                        submit.setOnClickListener(new View.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(View v) {\r\n                                name = question.getText().toString();\r\n                                if (TextUtils.isEmpty(name)) {\r\n                                    question.setError(\"Question Required\");\r\n                                    question.requestFocus();\r\n                                }\r\n                                else if(sp.getSelectedItem().equals(\"select branch\")){\r\n                                    Toast.makeText(mContext,\"select a valid branch\",Toast.LENGTH_SHORT).show();\r\n                                }else if(!TextUtils.isEmpty(name) && !sp.getSelectedItem().equals(\"select branch\")){\r\n                                    final ProgressDialog pd = new ProgressDialog(mContext);\r\n                                    pd.setMessage(\"Updating your question\");\r\n                                    pd.show();\r\n\r\n                                    HashMap<String, Object> hashMap = new HashMap<>();\r\n                                    hashMap.put(\"question\",question.getText().toString());\r\n                                    hashMap.put(\"topic\",sp.getSelectedItem().toString());\r\n\r\n                                    reference.child(postid).updateChildren(hashMap)\r\n                                            .addOnSuccessListener(new OnSuccessListener<Void>() {\r\n                                                @Override\r\n                                                public void onSuccess(Void aVoid) {\r\n                                                    Toast.makeText(mContext,\"question updated successfully\",Toast.LENGTH_SHORT).show();\r\n                                                    dialog.dismiss();\r\n                                                    pd.dismiss();\r\n                                                }\r\n                                            }).addOnFailureListener(new OnFailureListener() {\r\n                                        @Override\r\n                                        public void onFailure(@NonNull Exception e) {\r\n                                            Toast.makeText(mContext,\"could not update question\",Toast.LENGTH_SHORT).show();\r\n                                            dialog.dismiss();\r\n                                            pd.dismiss();\r\n                                        }\r\n                                    });\r\n\r\n                                }\r\n                            }\r\n                        });\r\n                        return true;\r\n                    }\r\n                });\r\n\r\n\r\n                popupMenu.getMenu().findItem(R.id.delete).setOnMenuItemClickListener(new MenuItem.OnMenuItemClickListener() {\r\n                    @Override\r\n                    public boolean onMenuItemClick(MenuItem item) {\r\n                        final String postid=post.getPostid();\r\n\r\n                        View view = LayoutInflater.from(holder.more.getContext()).inflate(R.layout.deletedialog,null);\r\n\r\n                        Button submit=view.findViewById(R.id.postd);\r\n                        Button canc=view.findViewById(R.id.canceld);\r\n\r\n                        final AlertDialog dialog = new AlertDialog.Builder(holder.more.getContext())\r\n                                .setView(view).setCancelable(false).create();\r\n\r\n                        dialog.getWindow().setBackgroundDrawableResource(android.R.color.transparent);\r\n                        dialog.show();\r\n\r\n                        canc.setOnClickListener(new View.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(View v) {\r\n                                dialog.dismiss();\r\n                            }\r\n                        });\r\n\r\n                       submit.setOnClickListener(new View.OnClickListener() {\r\n                           @Override\r\n                           public void onClick(View v) {\r\n                               FirebaseDatabase.getInstance().getReference(\"questions posts\").child(postid).removeValue();\r\n                               dialog.dismiss();\r\n                           }\r\n                       });\r\n                        return true;\r\n                    }\r\n                });\r\n\r\n                popupMenu.getMenu().findItem(R.id.report).setOnMenuItemClickListener(new MenuItem.OnMenuItemClickListener() {\r\n                    @Override\r\n                    public boolean onMenuItemClick(MenuItem item) {\r\n                        final String postid=post.getPostid();\r\n\r\n                        final View view = LayoutInflater.from(holder.more.getContext()).inflate(R.layout.reportdialog,null);\r\n                        Button submit=view.findViewById(R.id.postr);\r\n                        Button canc=view.findViewById(R.id.cancelr);\r\n                        radioGroup = view.findViewById(R.id.radio);\r\n\r\n                        final AlertDialog dialog = new AlertDialog.Builder(holder.more.getContext())\r\n                                .setView(view).setCancelable(false).create();\r\n\r\n                        dialog.getWindow().setBackgroundDrawableResource(android.R.color.transparent);\r\n                        dialog.show();\r\n\r\n                       submit.setOnClickListener(new View.OnClickListener() {\r\n                           @Override\r\n                           public void onClick(View v) {\r\n                               int selected = radioGroup.getCheckedRadioButtonId();\r\n                               radioButton=view.findViewById(selected);\r\n\r\n                               if(selected == -1){\r\n                                   Toast.makeText(mContext,\"please select any one of the option to report\",Toast.LENGTH_SHORT).show();\r\n                               }else {\r\n                                   String mDate= DateFormat.getDateInstance().format(new Date());\r\n                                   DatabaseReference ref=FirebaseDatabase.getInstance().getReference(\"questions_report\");\r\n                                   String questions_reportid= ref.push().getKey();\r\n\r\n                                   HashMap<String, Object> hashMap = new HashMap<>();\r\n                                   hashMap.put(\"questions_reportid\",questions_reportid);\r\n                                   hashMap.put(\"report\",radioButton.getText());\r\n                                   hashMap.put(\"date\",mDate);\r\n                                   ref.child(postid).child(questions_reportid).setValue(hashMap).addOnCompleteListener(new OnCompleteListener<Void>() {\r\n                                       @Override\r\n                                       public void onComplete(@NonNull Task<Void> task) {\r\n                                           if(task.isSuccessful()){\r\n                                               Toast.makeText(mContext,\"Reported Successfully\", Toast.LENGTH_SHORT).show();\r\n                                           }else {\r\n                                               Toast.makeText(mContext,task.getException().toString(),Toast.LENGTH_SHORT).show();\r\n                                           }\r\n                                       }\r\n                                   });\r\n                                   dialog.dismiss();\r\n                               }\r\n                           }\r\n                       });\r\n\r\n                       canc.setOnClickListener(new View.OnClickListener() {\r\n                           @Override\r\n                           public void onClick(View v) {\r\n                               dialog.dismiss();\r\n                           }\r\n                       });\r\n                        return true;\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return mPostList.size();\r\n    }\r\n\r\n    public class viewHolder extends RecyclerView.ViewHolder{\r\n        public CircleImageView profile_image;\r\n        public TextView asked_by_Textview,likes,dislikes,comments;\r\n        public ImageView more,like,dislike,comment;\r\n        public ImageView questionImage;\r\n        public TextView topicTextview,askedOnTextview;\r\n        public ExpandableTextView expandable_text;\r\n        public CardView mCardView;\r\n        public LinearLayout linear;\r\n\r\n        public viewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            profile_image=itemView.findViewById(R.id.publisher_profile_image);\r\n            likes=itemView.findViewById(R.id.likes);\r\n            dislikes=itemView.findViewById(R.id.dislikes);\r\n            comments=itemView.findViewById(R.id.comments);\r\n            more=itemView.findViewById(R.id.more);\r\n            questionImage=itemView.findViewById(R.id.questionImage);\r\n            like=itemView.findViewById(R.id.like);\r\n            dislike=itemView.findViewById(R.id.dislike);\r\n            comment=itemView.findViewById(R.id.comment);\r\n            topicTextview=itemView.findViewById(R.id.topicTextview);\r\n            askedOnTextview=itemView.findViewById(R.id.askedOnTextview);\r\n            asked_by_Textview=itemView.findViewById(R.id.asked_by_Textview);\r\n            expandable_text=itemView.findViewById(R.id.expand_text_view);\r\n            mCardView = itemView.findViewById(R.id.cardView);\r\n            linear=itemView.findViewById(R.id.linear);\r\n        }\r\n\r\n    }\r\n\r\n\r\n    private void publisherInformation(final TextView askedBy, String userName, final CircleImageView profile_image){\r\n        DatabaseReference reference = FirebaseDatabase.getInstance().getReference(\"Users\").child(userName);\r\n        reference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                User user=snapshot.getValue(User.class);\r\n                Glide.with(mContext).load(user.getProfileimage()).into(profile_image);\r\n                askedBy.setText(user.getUserName());\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                Toast.makeText(mContext,error.getMessage(),Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    private void isLiked(String postid, final ImageView imageView){\r\n        final FirebaseUser firebaseUser = FirebaseAuth.getInstance().getCurrentUser();\r\n        DatabaseReference reference= FirebaseDatabase.getInstance().getReference().child(\"likes\").child(postid);\r\n        reference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                if(snapshot.child(firebaseUser.getUid()).exists()){\r\n                    imageView.setImageResource(R.drawable.ic_liked);\r\n                    imageView.setTag(\"liked\");\r\n                }else {\r\n                    imageView.setImageResource(R.drawable.ic_thumb_up);\r\n                    imageView.setTag(\"like\");\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    private void isDisLiked(String postid, final ImageView imageView){\r\n        final FirebaseUser firebaseUser = FirebaseAuth.getInstance().getCurrentUser();\r\n        DatabaseReference reference= FirebaseDatabase.getInstance().getReference().child(\"dislikes\").child(postid);\r\n        reference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                if(snapshot.child(firebaseUser.getUid()).exists()){\r\n                    imageView.setImageResource(R.drawable.ic_disliked);\r\n                    imageView.setTag(\"disliked\");\r\n                }else {\r\n                    imageView.setImageResource(R.drawable.ic_dislike);\r\n                    imageView.setTag(\"dislike\");\r\n                }\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    private void getLikes(final TextView likes, String postid){\r\n        DatabaseReference reference = FirebaseDatabase.getInstance().getReference(\"likes\").child(postid);\r\n        reference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                long numberOfLikes = snapshot.getChildrenCount();\r\n                int NOL = (int) numberOfLikes;\r\n                if(NOL >1){\r\n                    likes.setText(snapshot.getChildrenCount()+\"likes\");\r\n                } else if(NOL == 0){\r\n                    likes.setText(\"0 likes\");\r\n                }else{\r\n                    likes.setText(snapshot.getChildrenCount()+\"like\");\r\n                }\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                Toast.makeText(mContext,error.getMessage(),Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    private void getDisLikes(final TextView dislikes, String postid) {\r\n        DatabaseReference reference = FirebaseDatabase.getInstance().getReference(\"dislikes\").child(postid);\r\n        reference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                long numberOfDisLikes = snapshot.getChildrenCount();\r\n                int NOD = (int) numberOfDisLikes;\r\n                if (NOD > 1) {\r\n                    dislikes.setText(snapshot.getChildrenCount() + \"dislikes\");\r\n                } else if (NOD == 0) {\r\n                    dislikes.setText(\"0 dislikes\");\r\n                } else {\r\n                    dislikes.setText(snapshot.getChildrenCount() + \"dislike\");\r\n                }\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                Toast.makeText(mContext, error.getMessage(), Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n        });\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/r_edu_kt/Adapters/PostAdapter.java	(revision e2b83da69ae71efe9a8ea6a6d8b03bd08147db7e)
+++ app/src/main/java/com/example/r_edu_kt/Adapters/PostAdapter.java	(date 1622558361850)
@@ -3,7 +3,6 @@
 import android.app.AlertDialog;
 import android.app.ProgressDialog;
 import android.content.Context;
-import android.content.DialogInterface;
 import android.content.Intent;
 import android.os.Build;
 import android.text.TextUtils;
@@ -14,6 +13,7 @@
 import android.view.ViewGroup;
 import android.widget.Button;
 import android.widget.EditText;
+import android.widget.ImageButton;
 import android.widget.ImageView;
 import android.widget.LinearLayout;
 import android.widget.PopupMenu;
@@ -29,10 +29,12 @@
 import androidx.recyclerview.widget.RecyclerView;
 
 import com.bumptech.glide.Glide;
+import com.bumptech.glide.load.engine.DiskCacheStrategy;
 import com.example.r_edu_kt.CommentsActivity;
 import com.example.r_edu_kt.Model.Post;
 import com.example.r_edu_kt.Model.User;
 import com.example.r_edu_kt.R;
+import com.github.chrisbanes.photoview.PhotoView;
 import com.google.android.gms.tasks.OnCompleteListener;
 import com.google.android.gms.tasks.OnFailureListener;
 import com.google.android.gms.tasks.OnSuccessListener;
@@ -45,10 +47,9 @@
 import com.google.firebase.database.FirebaseDatabase;
 import com.google.firebase.database.ValueEventListener;
 import com.ms.square.android.expandabletextview.ExpandableTextView;
-import com.orhanobut.dialogplus.DialogPlus;
-import com.orhanobut.dialogplus.ViewHolder;
 
 import java.text.DateFormat;
+import java.util.ArrayList;
 import java.util.Date;
 import java.util.HashMap;
 import java.util.List;
@@ -59,13 +60,15 @@
     public Context mContext;
     public List<Post> mPostList;
     private FirebaseUser firebaseUser;
-    String selected="",name="";
+    String name="";
     RadioButton radioButton;
     RadioGroup radioGroup;
 
+
     public PostAdapter(Context mContext, List<Post> mPostList) {
         this.mContext = mContext;
         this.mPostList = mPostList;
+        setHasStableIds(true);
     }
 
     @NonNull
@@ -79,6 +82,25 @@
     public void onBindViewHolder(@NonNull final viewHolder holder, final int position) {
         firebaseUser = FirebaseAuth.getInstance().getCurrentUser();
         final Post post = mPostList.get(position);
+
+        final String postid = post.getPostid();
+
+        DatabaseReference reference = FirebaseDatabase.getInstance().getReference("questions_report").child(postid);
+        reference.addValueEventListener(new ValueEventListener() {
+            @Override
+            public void onDataChange(@NonNull DataSnapshot snapshot) {
+                long count= snapshot.getChildrenCount();
+                if(count==25){
+                    FirebaseDatabase.getInstance().getReference("questions posts").child(postid).removeValue();
+                }
+            }
+
+            @Override
+            public void onCancelled(@NonNull DatabaseError error) {
+
+            }
+        });
+
         if(post.getQuestionimage() == null){
             holder.questionImage.setVisibility(View.GONE);
         }
@@ -86,6 +108,28 @@
             holder.questionImage.setVisibility(View.VISIBLE);
         }
         Glide.with(mContext).load(post.getQuestionimage()).into(holder.questionImage);
+        holder.questionImage.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                View view = LayoutInflater.from(holder.questionImage.getContext()).inflate(R.layout.imagedialog,null);
+
+                final PhotoView img=view.findViewById(R.id.img);
+                final ImageButton close =view.findViewById(R.id.close);
+                Glide.with(img.getContext()).load(post.getQuestionimage()).fitCenter().diskCacheStrategy(DiskCacheStrategy.ALL).into(img);
+
+                final AlertDialog dialog = new AlertDialog.Builder(holder.questionImage.getContext())
+                        .setView(view).setCancelable(false).create();
+                dialog.getWindow().setBackgroundDrawableResource(android.R.color.transparent);
+                dialog.show();
+
+                close.setOnClickListener(new View.OnClickListener() {
+                    @Override
+                    public void onClick(View v) {
+                        dialog.dismiss();
+                    }
+                });
+            }
+        });
         holder.expandable_text.setText(post.getQuestion());
         holder.topicTextview.setText(post.getTopic());
         holder.askedOnTextview.setText(post.getDate());
@@ -96,6 +140,7 @@
         isDisLiked(post.getPostid(),holder.dislike);
         getLikes(holder.likes,post.getPostid());
         getDisLikes(holder.dislikes,post.getPostid());
+        getComments(holder.comments,post.getPostid());
 
         holder.like.setOnClickListener(new View.OnClickListener() {
             @Override
@@ -348,11 +393,16 @@
         return mPostList.size();
     }
 
+    @Override
+    public long getItemId(int position) {
+        return mPostList.get(position).hashCode();
+    }
+
     public class viewHolder extends RecyclerView.ViewHolder{
         public CircleImageView profile_image;
         public TextView asked_by_Textview,likes,dislikes,comments;
         public ImageView more,like,dislike,comment;
-        public ImageView questionImage;
+        public ImageButton questionImage;
         public TextView topicTextview,askedOnTextview;
         public ExpandableTextView expandable_text;
         public CardView mCardView;
@@ -407,12 +457,14 @@
         reference.addValueEventListener(new ValueEventListener() {
             @Override
             public void onDataChange(@NonNull DataSnapshot snapshot) {
-                if(snapshot.child(firebaseUser.getUid()).exists()){
-                    imageView.setImageResource(R.drawable.ic_liked);
-                    imageView.setTag("liked");
-                }else {
-                    imageView.setImageResource(R.drawable.ic_thumb_up);
-                    imageView.setTag("like");
+                if (firebaseUser != null) {
+                    if(snapshot.child(firebaseUser.getUid()).exists()){
+                        imageView.setImageResource(R.drawable.ic_liked);
+                        imageView.setTag("liked");
+                    }else {
+                        imageView.setImageResource(R.drawable.ic_thumb_up);
+                        imageView.setTag("like");
+                    }
                 }
             }
 
@@ -429,14 +481,15 @@
         reference.addValueEventListener(new ValueEventListener() {
             @Override
             public void onDataChange(@NonNull DataSnapshot snapshot) {
-                if(snapshot.child(firebaseUser.getUid()).exists()){
-                    imageView.setImageResource(R.drawable.ic_disliked);
-                    imageView.setTag("disliked");
-                }else {
-                    imageView.setImageResource(R.drawable.ic_dislike);
-                    imageView.setTag("dislike");
+                if (firebaseUser != null) {
+                    if(snapshot.child(firebaseUser.getUid()).exists()){
+                        imageView.setImageResource(R.drawable.ic_disliked);
+                        imageView.setTag("disliked");
+                    }else {
+                        imageView.setImageResource(R.drawable.ic_dislike);
+                        imageView.setTag("dislike");
+                    }
                 }
-
             }
 
             @Override
@@ -495,4 +548,29 @@
             }
         });
     }
+
+    private void getComments(final TextView comments, String postid) {
+        DatabaseReference reference = FirebaseDatabase.getInstance().getReference("comments").child(postid);
+        reference.addValueEventListener(new ValueEventListener() {
+            @Override
+            public void onDataChange(@NonNull DataSnapshot snapshot) {
+                long numberOfComments = snapshot.getChildrenCount();
+                int NOC = (int) numberOfComments;
+                if (NOC > 1) {
+                    comments.setText(snapshot.getChildrenCount() + "comments");
+                } else if (NOC == 0) {
+                    comments.setText("0 comments");
+                } else {
+                    comments.setText(snapshot.getChildrenCount() + "comment");
+                }
+
+            }
+
+            @Override
+            public void onCancelled(@NonNull DatabaseError error) {
+                Toast.makeText(mContext, error.getMessage(), Toast.LENGTH_SHORT).show();
+
+            }
+        });
+    }
 }
\ No newline at end of file
Index: app/src/main/java/com/example/r_edu_kt/CommentsActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.r_edu_kt;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\nimport androidx.appcompat.widget.Toolbar;\r\n\r\nimport android.app.ProgressDialog;\r\nimport android.content.ContentResolver;\r\nimport android.content.Intent;\r\nimport android.net.Uri;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.text.TextUtils;\r\nimport android.view.View;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\nimport android.webkit.MimeTypeMap;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageView;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.example.r_edu_kt.Adapters.CommentAdapter;\r\nimport com.example.r_edu_kt.Model.Comment;\r\nimport com.example.r_edu_kt.Model.Post;\r\nimport com.example.r_edu_kt.Model.User;\r\nimport com.github.chrisbanes.photoview.PhotoView;\r\nimport com.google.android.gms.tasks.Continuation;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\nimport com.google.firebase.storage.FirebaseStorage;\r\nimport com.google.firebase.storage.StorageReference;\r\nimport com.google.firebase.storage.StorageTask;\r\n\r\nimport java.text.DateFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.Date;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\n\r\nimport de.hdodenhof.circleimageview.CircleImageView;\r\n\r\npublic class CommentsActivity extends AppCompatActivity {\r\n\r\n    private Toolbar toolbar;\r\n    private RecyclerView recyclerView;\r\n    private CircleImageView circleImageView;\r\n    private EditText editText;\r\n    PhotoView photoView;\r\n    ImageView commentimage,imageView;\r\n    TextView tv;\r\n    private String myurl = \"\";\r\n    private Uri resulturi;\r\n    StorageTask uploadTask;\r\n    StorageReference storageReference;\r\n    LinearLayout linearimage;\r\n\r\n    private ProgressDialog loader;\r\n\r\n    String postid;\r\n\r\n    private CommentAdapter commentAdapter;\r\n    private List<Comment> commentList;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_comments);\r\n        this.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);\r\n\r\n        //STATUS BAR\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\r\n            Window window = getWindow();\r\n            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n            window.setStatusBarColor(getResources().getColor(R.color.colorAccent));\r\n        }\r\n\r\n        Intent intent=getIntent();\r\n        postid = intent.getStringExtra(\"postid\");\r\n\r\n\r\n        circleImageView = findViewById(R.id.comment_profile_image);\r\n        photoView = findViewById(R.id.image);\r\n        commentimage=findViewById(R.id.commentimage);\r\n        tv=findViewById(R.id.text1);\r\n        imageView = findViewById(R.id.commenting_post_textview);\r\n        editText = findViewById(R.id.adding_comment);\r\n        linearimage = findViewById(R.id.linearimage);\r\n        loader=new ProgressDialog(this);\r\n\r\n        recyclerView = findViewById(R.id.reccycler_view);\r\n        LinearLayoutManager linearLayoutManager=new LinearLayoutManager(this);\r\n        linearLayoutManager.setReverseLayout(true);\r\n        linearLayoutManager.setStackFromEnd(true);\r\n        recyclerView.setHasFixedSize(true);\r\n        recyclerView.setLayoutManager(linearLayoutManager);\r\n\r\n        storageReference= FirebaseStorage.getInstance().getReference(\"comments\");\r\n\r\n        commentList = new ArrayList<>();\r\n        commentAdapter = new CommentAdapter(CommentsActivity.this,commentList,postid);\r\n        recyclerView.setAdapter(commentAdapter);\r\n\r\n        commentimage.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent=new Intent(Intent.ACTION_PICK);\r\n                intent.setType(\"image/*\");\r\n                startActivityForResult(intent, 1);\r\n            }\r\n        });\r\n\r\n        imageView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                performvalidations();\r\n            }\r\n        });\r\n        getImage();\r\n        getquestionImage();\r\n        readComments();\r\n    }\r\n\r\n    private void performvalidations() {\r\n        String commentText = editText.getText().toString();\r\n        if(TextUtils.isEmpty(commentText)){\r\n            editText.setError(\"please type something\");\r\n        }else if (!TextUtils.isEmpty(commentText) && resulturi == null){\r\n            uploadCommentwithNoImage();\r\n        } else if (!TextUtils.isEmpty(commentText) && resulturi != null){\r\n            uploadCommentwithImage();\r\n        }\r\n\r\n    }\r\n\r\n    private void startloader(){\r\n        loader.setMessage(\"posting your comment\");\r\n        loader.setCanceledOnTouchOutside(false);\r\n        loader.show();\r\n    }\r\n\r\n    private String getFileExtension(Uri uri){\r\n        ContentResolver contentResolver = getContentResolver();\r\n        MimeTypeMap mimeTypeMap = MimeTypeMap.getSingleton();\r\n        return mimeTypeMap.getExtensionFromMimeType(contentResolver.getType(uri));\r\n    }\r\n\r\n\r\n\r\n    private void uploadCommentwithNoImage(){\r\n        startloader();\r\n        DatabaseReference ref= FirebaseDatabase.getInstance().getReference(\"comments\").child(postid);\r\n        String commentid = ref.push().getKey();\r\n        String date = DateFormat.getDateInstance().format(new Date());\r\n        HashMap<String, Object> hashMap = new HashMap<>();\r\n        hashMap.put(\"comment\",editText.getText().toString());\r\n        hashMap.put(\"publisher\", FirebaseAuth.getInstance().getCurrentUser().getUid());\r\n        hashMap.put(\"commentid\",commentid);\r\n        hashMap.put(\"postid\",postid);\r\n        hashMap.put(\"date\",date);\r\n\r\n        ref.child(commentid).setValue(hashMap).addOnCompleteListener(new OnCompleteListener<Void>() {\r\n            @Override\r\n            public void onComplete(@NonNull Task<Void> task) {\r\n                if(task.isSuccessful()){\r\n                    Toast.makeText(CommentsActivity.this,\"Comment Posted Successfully\", Toast.LENGTH_SHORT).show();\r\n                    loader.dismiss();\r\n                }else {\r\n                    Toast.makeText(CommentsActivity.this,\"error posting comment\"+task.getException().toString(),Toast.LENGTH_SHORT).show();\r\n                    loader.dismiss();\r\n                }\r\n                editText.setText(\"\");\r\n            }\r\n        });\r\n    }\r\n\r\n    private void uploadCommentwithImage(){\r\n        startloader();\r\n        final StorageReference fileReference;\r\n        fileReference = storageReference.child(System.currentTimeMillis() + \".\" + getFileExtension(resulturi));\r\n        uploadTask = fileReference.putFile(resulturi);\r\n        uploadTask.continueWithTask(new Continuation() {\r\n            @Override\r\n            public Object then(@NonNull Task task) throws Exception {\r\n                if(!task.isComplete()){\r\n                    throw task.getException();\r\n                }\r\n                return fileReference.getDownloadUrl();\r\n            }\r\n        }).addOnCompleteListener(new OnCompleteListener() {\r\n            @Override\r\n            public void onComplete(@NonNull Task task) {\r\n                if(task.isSuccessful()){\r\n                    DatabaseReference ref= FirebaseDatabase.getInstance().getReference(\"comments\").child(postid);\r\n                    Uri downloadUri = (Uri) task.getResult();\r\n                    myurl=downloadUri.toString();\r\n\r\n                    String commentid = ref.push().getKey();\r\n                    String date = DateFormat.getDateInstance().format(new Date());\r\n                    HashMap<String, Object> hashMap = new HashMap<>();\r\n                    hashMap.put(\"comment\",editText.getText().toString());\r\n                    hashMap.put(\"publisher\", FirebaseAuth.getInstance().getCurrentUser().getUid());\r\n                    hashMap.put(\"commentid\",commentid);\r\n                    hashMap.put(\"postid\",postid);\r\n                    hashMap.put(\"date\",date);\r\n                    hashMap.put(\"commentimage\",myurl);\r\n\r\n                    ref.child(commentid).setValue(hashMap).addOnCompleteListener(new OnCompleteListener<Void>() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task<Void> task) {\r\n                            if(task.isSuccessful()){\r\n                                Toast.makeText(CommentsActivity.this,\"Comment Posted Successfully\", Toast.LENGTH_SHORT).show();\r\n                                loader.dismiss();\r\n                            }else {\r\n                                Toast.makeText(CommentsActivity.this,\"could not upload image\"+task.getException().toString(),Toast.LENGTH_SHORT).show();\r\n                                loader.dismiss();\r\n                            }\r\n                            editText.setText(\"\");\r\n                            commentimage.setImageResource(R.drawable.ic_image);\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        }).addOnFailureListener(new OnFailureListener() {\r\n            @Override\r\n            public void onFailure(@NonNull Exception e) {\r\n                Toast.makeText(CommentsActivity.this,\"Error posting the Comment\",Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    private void  getImage(){\r\n        DatabaseReference reference = FirebaseDatabase.getInstance().getReference(\"Users\").child(FirebaseAuth.getInstance().getCurrentUser().getUid());\r\n        reference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                User user= snapshot.getValue(User.class);\r\n                //Glide.with(CommentsActivity.this).load(user.getProfileimage()).into(circleImageView);\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                Toast.makeText(CommentsActivity.this,error.getMessage(),Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    private void  getquestionImage(){\r\n        DatabaseReference reference = FirebaseDatabase.getInstance().getReference(\"questions posts\").child(postid);\r\n        reference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                Post post= snapshot.getValue(Post.class);\r\n                tv.setText(post.getQuestion());\r\n                Glide.with(CommentsActivity.this).load(post.getQuestionimage()).into(photoView);\r\n                if(post.getQuestionimage()==null){\r\n                    linearimage.setVisibility(View.GONE);\r\n                }\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                Toast.makeText(CommentsActivity.this,error.getMessage(),Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    private void readComments(){\r\n        DatabaseReference reference=FirebaseDatabase.getInstance().getReference(\"comments\").child(postid);\r\n        reference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                commentList.clear();\r\n                for(DataSnapshot dataSnapshot:snapshot.getChildren()){\r\n                    Comment comment=dataSnapshot.getValue(Comment.class);\r\n                    commentList.add(comment);\r\n                }\r\n                commentAdapter.notifyDataSetChanged();\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                Toast.makeText(CommentsActivity.this,error.getMessage(),Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if(requestCode == 1 && resultCode == RESULT_OK && data != null){\r\n            resulturi = data.getData();\r\n            commentimage.setImageURI(resulturi);\r\n        }\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/r_edu_kt/CommentsActivity.java	(revision e2b83da69ae71efe9a8ea6a6d8b03bd08147db7e)
+++ app/src/main/java/com/example/r_edu_kt/CommentsActivity.java	(date 1622039252223)
@@ -5,8 +5,8 @@
 import androidx.appcompat.app.AppCompatActivity;
 import androidx.recyclerview.widget.LinearLayoutManager;
 import androidx.recyclerview.widget.RecyclerView;
-import androidx.appcompat.widget.Toolbar;
 
+import android.app.AlertDialog;
 import android.app.ProgressDialog;
 import android.content.ContentResolver;
 import android.content.Intent;
@@ -14,18 +14,28 @@
 import android.os.Build;
 import android.os.Bundle;
 import android.text.TextUtils;
+import android.view.LayoutInflater;
 import android.view.View;
 import android.view.Window;
 import android.view.WindowManager;
 import android.webkit.MimeTypeMap;
 import android.widget.EditText;
+import android.widget.ImageButton;
 import android.widget.ImageView;
 import android.widget.LinearLayout;
 import android.widget.TextView;
 import android.widget.Toast;
 
 
+import com.android.volley.AuthFailureError;
+import com.android.volley.Request;
+import com.android.volley.RequestQueue;
+import com.android.volley.Response;
+import com.android.volley.VolleyError;
+import com.android.volley.toolbox.JsonObjectRequest;
+import com.android.volley.toolbox.Volley;
 import com.bumptech.glide.Glide;
+import com.bumptech.glide.load.engine.DiskCacheStrategy;
 import com.example.r_edu_kt.Adapters.CommentAdapter;
 import com.example.r_edu_kt.Model.Comment;
 import com.example.r_edu_kt.Model.Post;
@@ -45,28 +55,33 @@
 import com.google.firebase.storage.StorageReference;
 import com.google.firebase.storage.StorageTask;
 
+import org.json.JSONException;
+import org.json.JSONObject;
+
 import java.text.DateFormat;
 import java.util.ArrayList;
 import java.util.Date;
 import java.util.HashMap;
 import java.util.List;
+import java.util.Map;
 
 import de.hdodenhof.circleimageview.CircleImageView;
 
 public class CommentsActivity extends AppCompatActivity {
 
-    private Toolbar toolbar;
     private RecyclerView recyclerView;
     private CircleImageView circleImageView;
     private EditText editText;
-    PhotoView photoView;
+    ImageView photoView;
     ImageView commentimage,imageView;
     TextView tv;
-    private String myurl = "";
+    private String myurl = "",comment;
     private Uri resulturi;
     StorageTask uploadTask;
     StorageReference storageReference;
     LinearLayout linearimage;
+    String Url="https://fcm.googleapis.com/fcm/send";
+    RequestQueue requestQueue;
 
     private ProgressDialog loader;
 
@@ -91,6 +106,7 @@
         Intent intent=getIntent();
         postid = intent.getStringExtra("postid");
 
+        requestQueue = Volley.newRequestQueue(this);
 
         circleImageView = findViewById(R.id.comment_profile_image);
         photoView = findViewById(R.id.image);
@@ -101,6 +117,21 @@
         linearimage = findViewById(R.id.linearimage);
         loader=new ProgressDialog(this);
 
+        DatabaseReference reference = FirebaseDatabase.getInstance().getReference("Users").child(FirebaseAuth.getInstance().getCurrentUser().getUid());
+        reference.addValueEventListener(new ValueEventListener() {
+            @Override
+            public void onDataChange(@NonNull DataSnapshot snapshot) {
+                User user= snapshot.getValue(User.class);
+                Glide.with(CommentsActivity.this).load(user.getProfileimage()).into(circleImageView);
+            }
+
+            @Override
+            public void onCancelled(@NonNull DatabaseError error) {
+
+            }
+        });
+
+
         recyclerView = findViewById(R.id.reccycler_view);
         LinearLayoutManager linearLayoutManager=new LinearLayoutManager(this);
         linearLayoutManager.setReverseLayout(true);
@@ -123,19 +154,57 @@
             }
         });
 
+        photoView.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                DatabaseReference reference = FirebaseDatabase.getInstance().getReference("questions posts").child(postid);
+                reference.addValueEventListener(new ValueEventListener() {
+                    @Override
+                    public void onDataChange(@NonNull DataSnapshot snapshot) {
+                        Post post= snapshot.getValue(Post.class);
+                        View view = LayoutInflater.from(CommentsActivity.this).inflate(R.layout.imagedialog,null);
+
+                        final PhotoView img=view.findViewById(R.id.img);
+                        final ImageButton close =view.findViewById(R.id.close);
+                        Glide.with(img.getContext()).load(post.getQuestionimage()).fitCenter().diskCacheStrategy(DiskCacheStrategy.ALL).into(img);
+
+                        final AlertDialog dialog = new AlertDialog.Builder(CommentsActivity.this)
+                                .setView(view).setCancelable(false).create();
+                        dialog.getWindow().setBackgroundDrawableResource(android.R.color.transparent);
+                        dialog.show();
+
+                        close.setOnClickListener(new View.OnClickListener() {
+                            @Override
+                            public void onClick(View v) {
+                                dialog.dismiss();
+                            }
+                        });
+                    }
+
+                    @Override
+                    public void onCancelled(@NonNull DatabaseError error) {
+                        Toast.makeText(CommentsActivity.this,error.getMessage(),Toast.LENGTH_SHORT).show();
+
+                    }
+                });
+            }
+        });
+
         imageView.setOnClickListener(new View.OnClickListener() {
             @Override
             public void onClick(View v) {
                 performvalidations();
             }
         });
-        getImage();
+
+
+
         getquestionImage();
         readComments();
     }
 
     private void performvalidations() {
-        String commentText = editText.getText().toString();
+      String commentText = editText.getText().toString();
         if(TextUtils.isEmpty(commentText)){
             editText.setError("please type something");
         }else if (!TextUtils.isEmpty(commentText) && resulturi == null){
@@ -162,11 +231,12 @@
 
     private void uploadCommentwithNoImage(){
         startloader();
+        comment = editText.getText().toString();
         DatabaseReference ref= FirebaseDatabase.getInstance().getReference("comments").child(postid);
-        String commentid = ref.push().getKey();
+        final String commentid = ref.push().getKey();
         String date = DateFormat.getDateInstance().format(new Date());
         HashMap<String, Object> hashMap = new HashMap<>();
-        hashMap.put("comment",editText.getText().toString());
+        hashMap.put("comment",comment);
         hashMap.put("publisher", FirebaseAuth.getInstance().getCurrentUser().getUid());
         hashMap.put("commentid",commentid);
         hashMap.put("postid",postid);
@@ -176,6 +246,7 @@
             @Override
             public void onComplete(@NonNull Task<Void> task) {
                 if(task.isSuccessful()){
+                    sendNotification(comment);
                     Toast.makeText(CommentsActivity.this,"Comment Posted Successfully", Toast.LENGTH_SHORT).show();
                     loader.dismiss();
                 }else {
@@ -187,8 +258,88 @@
         });
     }
 
+    private void sendNotification(String toString) {
+        final JSONObject jsonObject = new JSONObject();
+        comment = editText.getText().toString();
+        final DatabaseReference ref= FirebaseDatabase.getInstance().getReference("questions posts").child(postid);
+        ref.addListenerForSingleValueEvent(new ValueEventListener() {
+            @Override
+            public void onDataChange(@NonNull DataSnapshot snapshot) {
+                if(snapshot.exists()){
+                    Post post = snapshot.getValue(Post.class);
+                    final String q = post.getQuestion();
+                    final String d = post.getDate();
+                    final String b = post.getTopic();
+                    final String touserid = post.getPublisher();
+                    final String uid=FirebaseAuth.getInstance().getCurrentUser().getUid();
+                    DatabaseReference reference= FirebaseDatabase.getInstance().getReference("Users").child(uid);
+                    reference.addListenerForSingleValueEvent(new ValueEventListener() {
+                        @Override
+                        public void onDataChange(@NonNull DataSnapshot snapshot) {
+                            if(snapshot.exists()){
+                                User user = snapshot.getValue(User.class);
+                                final String username = user.getUserName();
+                                            try {
+                                                jsonObject.put("to","/topics/"+touserid);
+                                                JSONObject jsonObject1 = new JSONObject();
+                                                jsonObject1.put("title",username+" commented to your post");
+                                                jsonObject1.put("body","Branch: "+b+"     "+"posted on: "+d+"\n"+"post: "+q+"\n"+"comment: "+comment);
+
+                                                JSONObject jsonObject2 = new JSONObject();
+                                                jsonObject2.put("postid",postid);
+                                                jsonObject2.put("type","comment");
+
+                                                jsonObject.put("notification",jsonObject1);
+                                                jsonObject.put("data",jsonObject2);
+
+                                                JsonObjectRequest request = new JsonObjectRequest(Request.Method.POST,Url,jsonObject,new Response.Listener<JSONObject>() {
+                                                    @Override
+                                                    public void onResponse(JSONObject response) {
+
+                                                    }
+                                                }, new Response.ErrorListener() {
+                                                    @Override
+                                                    public void onErrorResponse(VolleyError error) {
+
+                                                    }
+                                                }){
+                                                    @Override
+                                                    public Map<String, String> getHeaders() throws AuthFailureError {
+
+                                                        Map<String,String> map = new HashMap<>();
+                                                        map.put("content-type","application/json");
+                                                        map.put("authorization","key=AAAA-dvHGuQ:APA91bEZ7cs9ngnzPHw05YvX1hKvWsF3hO9Xhr_GI9LCl7gKRCSc8p8jjapY3vRXdffMPquMlmv6gE9Xo4V7ZL-F46P5RlQYHlZJacjyVjN6CQczyhSBCMMPYLmIMsEcAYIKklnpE9hM ");
+                                                        return map;
+                                                    }
+                                                };
+                                                requestQueue.add(request);
+                                            } catch (JSONException e) {
+                                                e.printStackTrace();
+                                            }
+
+                                        }
+
+                                    }
+
+                        @Override
+                        public void onCancelled(@NonNull DatabaseError error) {
+
+                        }
+                    });
+                }
+            }
+
+            @Override
+            public void onCancelled(@NonNull DatabaseError error) {
+
+            }
+        });
+
+    }
+
     private void uploadCommentwithImage(){
         startloader();
+        comment=editText.getText().toString();
         final StorageReference fileReference;
         fileReference = storageReference.child(System.currentTimeMillis() + "." + getFileExtension(resulturi));
         uploadTask = fileReference.putFile(resulturi);
@@ -204,14 +355,15 @@
             @Override
             public void onComplete(@NonNull Task task) {
                 if(task.isSuccessful()){
+                    sendNotification(comment);
                     DatabaseReference ref= FirebaseDatabase.getInstance().getReference("comments").child(postid);
-                    Uri downloadUri = (Uri) task.getResult();
+                    final Uri downloadUri = (Uri) task.getResult();
                     myurl=downloadUri.toString();
 
                     String commentid = ref.push().getKey();
                     String date = DateFormat.getDateInstance().format(new Date());
                     HashMap<String, Object> hashMap = new HashMap<>();
-                    hashMap.put("comment",editText.getText().toString());
+                    hashMap.put("comment",comment);
                     hashMap.put("publisher", FirebaseAuth.getInstance().getCurrentUser().getUid());
                     hashMap.put("commentid",commentid);
                     hashMap.put("postid",postid);
@@ -224,6 +376,7 @@
                             if(task.isSuccessful()){
                                 Toast.makeText(CommentsActivity.this,"Comment Posted Successfully", Toast.LENGTH_SHORT).show();
                                 loader.dismiss();
+                                resulturi = null;
                             }else {
                                 Toast.makeText(CommentsActivity.this,"could not upload image"+task.getException().toString(),Toast.LENGTH_SHORT).show();
                                 loader.dismiss();
@@ -242,25 +395,6 @@
         });
     }
 
-
-    private void  getImage(){
-        DatabaseReference reference = FirebaseDatabase.getInstance().getReference("Users").child(FirebaseAuth.getInstance().getCurrentUser().getUid());
-        reference.addValueEventListener(new ValueEventListener() {
-            @Override
-            public void onDataChange(@NonNull DataSnapshot snapshot) {
-                User user= snapshot.getValue(User.class);
-                //Glide.with(CommentsActivity.this).load(user.getProfileimage()).into(circleImageView);
-
-            }
-
-            @Override
-            public void onCancelled(@NonNull DatabaseError error) {
-                Toast.makeText(CommentsActivity.this,error.getMessage(),Toast.LENGTH_SHORT).show();
-
-            }
-        });
-    }
-
     private void  getquestionImage(){
         DatabaseReference reference = FirebaseDatabase.getInstance().getReference("questions posts").child(postid);
         reference.addValueEventListener(new ValueEventListener() {
Index: app/src/main/java/com/example/r_edu_kt/AskQuestionActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.r_edu_kt;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.Toolbar;\r\n\r\nimport android.app.ProgressDialog;\r\nimport android.content.ContentResolver;\r\nimport android.content.Intent;\r\nimport android.net.Uri;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\nimport android.webkit.MimeTypeMap;\r\nimport android.widget.AdapterView;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageView;\r\nimport android.widget.Spinner;\r\nimport android.widget.Toast;\r\n\r\n\r\nimport com.example.r_edu_kt.User.Login.LoginActivity;\r\nimport com.example.r_edu_kt.User.UserDashboard;\r\nimport com.google.android.gms.tasks.Continuation;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\nimport com.google.firebase.storage.FirebaseStorage;\r\nimport com.google.firebase.storage.StorageReference;\r\nimport com.google.firebase.storage.StorageTask;\r\n\r\nimport java.text.DateFormat;\r\nimport java.util.Date;\r\nimport java.util.HashMap;\r\nimport java.util.Objects;\r\n\r\npublic class AskQuestionActivity extends AppCompatActivity {\r\n    private Spinner spinner;\r\n    private EditText questionBox;\r\n    private ImageView imageView;\r\n    private Button cancelBtn, postQuestionBtn;\r\n\r\n    private String askedByName = \"\";\r\n    private DatabaseReference askedByRef;\r\n    private ProgressDialog loader;\r\n    private String myurl = \"\";\r\n    StorageTask uploadTask;\r\n    StorageReference storageReference;\r\n    private Uri resulturi;\r\n\r\n    private FirebaseAuth mAuth;\r\n    private FirebaseUser mUser;\r\n    private String onlineuserId = \"\";\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        //getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n        setContentView(R.layout.activity_ask_question);\r\n\r\n        //STATUS BAR\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\r\n            Window window = getWindow();\r\n            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n            window.setStatusBarColor(getResources().getColor(R.color.colorAccent));\r\n        }\r\n\r\n        spinner = findViewById(R.id.spinner);\r\n        questionBox = findViewById(R.id.question_text);\r\n        imageView = findViewById(R.id.questionImage);\r\n        cancelBtn = findViewById(R.id.cancel);\r\n        postQuestionBtn = findViewById(R.id.PostQuestion);\r\n\r\n        loader = new ProgressDialog(this);\r\n        mAuth=FirebaseAuth.getInstance();\r\n        mUser=mAuth.getCurrentUser();\r\n        onlineuserId=mUser.getUid();\r\n\r\n        askedByRef = FirebaseDatabase.getInstance().getReference(\"Users\").child(onlineuserId);\r\n        askedByRef.addValueEventListener(new ValueEventListener(){\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot){\r\n                askedByName=snapshot.child(onlineuserId).child(\"fullName\").getValue(String.class);\r\n            }\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n            }\r\n        });\r\n\r\n        storageReference= FirebaseStorage.getInstance().getReference(\"questions posts\");\r\n\r\n        ArrayAdapter<String> adapter = new ArrayAdapter<>(this,android.R.layout.simple_list_item_1,getResources().getStringArray(R.array.topics));\r\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spinner.setAdapter(adapter);\r\n\r\n        spinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n            @Override\r\n            public void onItemSelected(AdapterView<?> parent, View view, int position, long id) {\r\n                if(spinner.getSelectedItem().equals(\"select branch\")){\r\n                    Toast.makeText(AskQuestionActivity.this,\"please select a valid branch\",Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onNothingSelected(AdapterView<?> parent) {\r\n\r\n            }\r\n        });\r\n\r\n        imageView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent=new Intent(Intent.ACTION_PICK);\r\n                intent.setType(\"image/*\");\r\n                startActivityForResult(intent, 1);\r\n            }\r\n        });\r\n        cancelBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                finish();\r\n            }\r\n        });\r\n\r\n        postQuestionBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                performvalidations();\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\n    String getQuestionText(){\r\n        return questionBox.getText().toString().trim();\r\n    }\r\n\r\n    String getTopic(){\r\n        return spinner.getSelectedItem().toString();\r\n    }\r\n\r\n    String mDate= DateFormat.getDateInstance().format(new Date());\r\n    DatabaseReference ref=FirebaseDatabase.getInstance().getReference(\"questions posts\");\r\n\r\n    private void performvalidations() {\r\n        if(getQuestionText().isEmpty()){\r\n            questionBox.setError(\"Question REquired!\");\r\n        }\r\n        else if(getTopic().equals(\"select branch\")){\r\n            Toast.makeText(this,\"select a valid branch\",Toast.LENGTH_SHORT).show();\r\n        }\r\n        else if (!getQuestionText().isEmpty() && !getTopic().equals(\"\") && resulturi == null){\r\n            uploadQuestionwithNoImage();\r\n        }\r\n\r\n        else if (!getQuestionText().isEmpty() && !getTopic().equals(\"\") && resulturi != null){\r\n            uploadQuestionwithImage();\r\n        }\r\n\r\n    }\r\n    private void startloader(){\r\n        loader.setMessage(\"posting your question\");\r\n        loader.setCanceledOnTouchOutside(false);\r\n        loader.show();\r\n    }\r\n\r\n    private String getFileExtension(Uri uri){\r\n        ContentResolver contentResolver = getContentResolver();\r\n        MimeTypeMap mimeTypeMap = MimeTypeMap.getSingleton();\r\n        return mimeTypeMap.getExtensionFromMimeType(contentResolver.getType(uri));\r\n\r\n    }\r\n    private void uploadQuestionwithNoImage(){\r\n        startloader();\r\n        String postid= ref.push().getKey();\r\n\r\n        HashMap<String, Object> hashMap = new HashMap<>();\r\n        hashMap.put(\"postid\",postid);\r\n        hashMap.put(\"question\",getQuestionText());\r\n        hashMap.put(\"publisher\",onlineuserId);\r\n        hashMap.put(\"topic\",getTopic());\r\n        hashMap.put(\"askedby\",askedByName);\r\n        hashMap.put(\"date\",mDate);\r\n\r\n        ref.child(postid).setValue(hashMap).addOnCompleteListener(new OnCompleteListener<Void>() {\r\n            @Override\r\n            public void onComplete(@NonNull Task<Void> task) {\r\n                if(task.isSuccessful()){\r\n                    Toast.makeText(AskQuestionActivity.this,\"Question Posted Successfully\", Toast.LENGTH_SHORT).show();\r\n                    loader.dismiss();\r\n                    startActivity(new Intent(AskQuestionActivity.this,discussion_home.class));\r\n                    finish();\r\n                }else {\r\n                    Toast.makeText(AskQuestionActivity.this,\"could not upload question\"+task.getException().toString(),Toast.LENGTH_SHORT).show();\r\n                    loader.dismiss();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    private void uploadQuestionwithImage(){\r\n        startloader();\r\n        final StorageReference fileReference;\r\n        fileReference = storageReference.child(System.currentTimeMillis() + \".\" + getFileExtension(resulturi));\r\n        uploadTask = fileReference.putFile(resulturi);\r\n        uploadTask.continueWithTask(new Continuation() {\r\n            @Override\r\n            public Object then(@NonNull Task task) throws Exception {\r\n                if(!task.isComplete()){\r\n                    throw task.getException();\r\n                }\r\n                return fileReference.getDownloadUrl();\r\n            }\r\n        }).addOnCompleteListener(new OnCompleteListener() {\r\n            @Override\r\n            public void onComplete(@NonNull Task task) {\r\n                if(task.isSuccessful()){\r\n                    Uri downloadUri = (Uri) task.getResult();\r\n                    myurl=downloadUri.toString();\r\n                    String postid= ref.push().getKey();\r\n\r\n                    HashMap<String, Object> hashMap = new HashMap<>();\r\n                    hashMap.put(\"postid\",postid);\r\n                    hashMap.put(\"question\",getQuestionText());\r\n                    hashMap.put(\"publisher\",onlineuserId);\r\n                    hashMap.put(\"topic\",getTopic());\r\n                    hashMap.put(\"askedby\",askedByName);\r\n                    hashMap.put(\"questionimage\",myurl);\r\n                    hashMap.put(\"date\",mDate);\r\n\r\n                    ref.child(postid).setValue(hashMap).addOnCompleteListener(new OnCompleteListener<Void>() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task<Void> task) {\r\n                            if(task.isSuccessful()){\r\n                                Toast.makeText(AskQuestionActivity.this,\"Question Posted Successfully\", Toast.LENGTH_SHORT).show();\r\n                                loader.dismiss();\r\n                                startActivity(new Intent(AskQuestionActivity.this,discussion_home.class));\r\n                                finish();\r\n\r\n                            }else {\r\n                                Toast.makeText(AskQuestionActivity.this,\"could not upload question\"+task.getException().toString(),Toast.LENGTH_SHORT).show();\r\n                                loader.dismiss();\r\n                            }\r\n\r\n                        }\r\n                    });\r\n                }\r\n\r\n            }\r\n        }).addOnFailureListener(new OnFailureListener() {\r\n            @Override\r\n            public void onFailure(@NonNull Exception e) {\r\n                Toast.makeText(AskQuestionActivity.this,\"Failed to upload the question\",Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if(requestCode == 1 && resultCode == RESULT_OK && data != null){\r\n            resulturi = data.getData();\r\n            imageView.setImageURI(resulturi);\r\n        }\r\n    }\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/r_edu_kt/AskQuestionActivity.java	(revision e2b83da69ae71efe9a8ea6a6d8b03bd08147db7e)
+++ app/src/main/java/com/example/r_edu_kt/AskQuestionActivity.java	(date 1621666126208)
@@ -8,9 +8,11 @@
 import android.app.ProgressDialog;
 import android.content.ContentResolver;
 import android.content.Intent;
+import android.graphics.Bitmap;
 import android.net.Uri;
 import android.os.Build;
 import android.os.Bundle;
+import android.provider.MediaStore;
 import android.view.View;
 import android.view.Window;
 import android.view.WindowManager;
@@ -40,7 +42,10 @@
 import com.google.firebase.storage.FirebaseStorage;
 import com.google.firebase.storage.StorageReference;
 import com.google.firebase.storage.StorageTask;
+import com.google.firebase.storage.UploadTask;
 
+import java.io.ByteArrayOutputStream;
+import java.io.IOException;
 import java.text.DateFormat;
 import java.util.Date;
 import java.util.HashMap;
Index: gradle/wrapper/gradle-wrapper.properties
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>#Tue May 18 18:46:28 IST 2021\r\ndistributionBase=GRADLE_USER_HOME\r\ndistributionPath=wrapper/dists\r\nzipStoreBase=GRADLE_USER_HOME\r\nzipStorePath=wrapper/dists\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-6.5-bin.zip\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>windows-1252
===================================================================
--- gradle/wrapper/gradle-wrapper.properties	(revision e2b83da69ae71efe9a8ea6a6d8b03bd08147db7e)
+++ gradle/wrapper/gradle-wrapper.properties	(date 1622530135681)
@@ -3,4 +3,4 @@
 distributionPath=wrapper/dists
 zipStoreBase=GRADLE_USER_HOME
 zipStorePath=wrapper/dists
-distributionUrl=https\://services.gradle.org/distributions/gradle-6.5-bin.zip
+distributionUrl=https\://services.gradle.org/distributions/gradle-6.7.1-bin.zip
Index: app/src/main/java/com/example/r_edu_kt/Adapters/CommentAdapter.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.r_edu_kt.Adapters;\r\n\r\nimport android.app.AlertDialog;\r\nimport android.app.ProgressDialog;\r\nimport android.content.Context;\r\nimport android.content.DialogInterface;\r\nimport android.os.Build;\r\nimport android.text.TextUtils;\r\nimport android.view.Gravity;\r\nimport android.view.LayoutInflater;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageView;\r\nimport android.widget.PopupMenu;\r\nimport android.widget.RadioButton;\r\nimport android.widget.RadioGroup;\r\nimport android.widget.Spinner;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.RequiresApi;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.example.r_edu_kt.Model.Comment;\r\nimport com.example.r_edu_kt.Model.User;\r\nimport com.example.r_edu_kt.R;\r\nimport com.github.chrisbanes.photoview.PhotoView;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\nimport com.orhanobut.dialogplus.DialogPlus;\r\nimport com.orhanobut.dialogplus.ViewHolder;\r\n\r\nimport java.text.DateFormat;\r\nimport java.util.Date;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\n\r\nimport de.hdodenhof.circleimageview.CircleImageView;\r\n\r\npublic class CommentAdapter extends RecyclerView.Adapter<CommentAdapter.ViewHolder> {\r\n\r\n    private Context mContext;\r\n    private List<Comment> mCommentList;\r\n    private String postid,selected=\"\",name=\"\";\r\n    private int reportCount=0;\r\n    private FirebaseUser firebaseUser;\r\n    RadioGroup radioGroup;\r\n    RadioButton radioButton;\r\n\r\n    public CommentAdapter(Context mContext, List<Comment> mCommentList, String postid) {\r\n        this.mContext = mContext;\r\n        this.mCommentList = mCommentList;\r\n        this.postid = postid;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(mContext).inflate(R.layout.comments_layout, parent, false);\r\n        return new CommentAdapter.ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull final ViewHolder holder, int position) {\r\n        firebaseUser = FirebaseAuth.getInstance().getCurrentUser();\r\n\r\n        final Comment comment = mCommentList.get(position);\r\n        if(comment.getCommentimage() == null){\r\n            holder.commentimage.setVisibility(View.GONE);\r\n        }\r\n        else{\r\n            holder.commentimage.setVisibility(View.VISIBLE);\r\n        }\r\n        Glide.with(mContext).load(comment.getCommentimage()).into(holder.commentimage);\r\n        holder.commentor_comment.setText(comment.getComment());\r\n        holder.commentDate.setText(comment.getDate());\r\n        getUserInformation(holder.commentorUserName, comment.getPublisher(),holder.commentor_profile_image);\r\n\r\n        holder.more.setOnClickListener(new View.OnClickListener() {\r\n            @RequiresApi(api = Build.VERSION_CODES.M)\r\n            @Override\r\n            public void onClick(View v) {\r\n                PopupMenu popupMenu = new PopupMenu(mContext,v);\r\n                popupMenu.inflate(R.menu.comment_menu);\r\n                popupMenu.setGravity(Gravity.END);\r\n\r\n                if(!comment.getPublisher().equals(firebaseUser.getUid())){\r\n                    popupMenu.getMenu().findItem(R.id.edit).setVisible(false);\r\n                    popupMenu.getMenu().findItem(R.id.delete).setVisible(false);\r\n                }else if(comment.getPublisher().equals(firebaseUser.getUid())){\r\n                    popupMenu.getMenu().findItem(R.id.report).setVisible(false);\r\n                }\r\n                popupMenu.show();\r\n\r\n                popupMenu.getMenu().findItem(R.id.edit).setOnMenuItemClickListener(new MenuItem.OnMenuItemClickListener() {\r\n                    @Override\r\n                    public boolean onMenuItemClick(MenuItem item) {\r\n                        View view = LayoutInflater.from(holder.more.getContext()).inflate(R.layout.editcomment,null);\r\n                        final String commentid=comment.getCommentid();\r\n                        final String postid=comment.getPostid();\r\n\r\n\r\n                        final ImageView cimage=view.findViewById(R.id.coment_img);\r\n                        final EditText comment1=view.findViewById(R.id.comenttext);\r\n                        Button submit=view.findViewById(R.id.postC);\r\n                        Button canc=view.findViewById(R.id.cance);\r\n\r\n                        final AlertDialog dialog = new AlertDialog.Builder(holder.more.getContext())\r\n                                .setView(view).setCancelable(false).create();\r\n\r\n                        // Intent intent = new Intent(mContext, editpost.class);\r\n                        //((Activity)mContext).startActivityForResult(intent,requestCode);\r\n\r\n                        if(comment.getCommentimage()!=null){\r\n                            cimage.setVisibility(View.VISIBLE);\r\n                        }\r\n                        Glide.with(mContext).load(comment.getCommentimage()).into(cimage);\r\n                        comment1.setText(comment.getComment());\r\n\r\n\r\n\r\n                        dialog.getWindow().setBackgroundDrawableResource(android.R.color.transparent);\r\n                        dialog.getWindow().setWindowAnimations(R.style.DialogAnimation);\r\n                        dialog.show();\r\n\r\n                        canc.setOnClickListener(new View.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(View v) {\r\n                                dialog.dismiss();\r\n                            }\r\n                        });\r\n\r\n                        FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n                        final DatabaseReference reference = database.getReference(\"comments\");\r\n\r\n                        submit.setOnClickListener(new View.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(View v) {\r\n                                name = comment1.getText().toString();\r\n                                if (TextUtils.isEmpty(name)) {\r\n                                    comment1.setError(\"Comment Required\");\r\n                                    comment1.requestFocus();\r\n                                }else if(!TextUtils.isEmpty(name)){\r\n                                    final ProgressDialog pd = new ProgressDialog(mContext);\r\n                                    pd.setMessage(\"Updating your Comment\");\r\n                                    pd.show();\r\n                                    HashMap<String, Object> hashMap = new HashMap<>();\r\n                                    hashMap.put(\"comment\",comment1.getText().toString());\r\n\r\n                                    reference.child(postid).child(commentid).updateChildren(hashMap)\r\n                                            .addOnSuccessListener(new OnSuccessListener<Void>() {\r\n                                                @Override\r\n                                                public void onSuccess(Void aVoid) {\r\n                                                    Toast.makeText(mContext,\"comment updated successfully\",Toast.LENGTH_SHORT).show();\r\n                                                    dialog.dismiss();\r\n                                                    pd.dismiss();\r\n                                                }\r\n                                            }).addOnFailureListener(new OnFailureListener() {\r\n                                        @Override\r\n                                        public void onFailure(@NonNull Exception e) {\r\n                                            Toast.makeText(mContext,\"could not update comment\",Toast.LENGTH_SHORT).show();\r\n                                            dialog.dismiss();\r\n                                            pd.dismiss();\r\n\r\n                                        }\r\n                                    });\r\n                                }\r\n                            }\r\n                        });\r\n                        return true;\r\n                    }\r\n                });\r\n\r\n\r\n                popupMenu.getMenu().findItem(R.id.delete).setOnMenuItemClickListener(new MenuItem.OnMenuItemClickListener() {\r\n                    @Override\r\n                    public boolean onMenuItemClick(MenuItem item) {\r\n                        final String commentid=comment.getCommentid();\r\n                        final String postid = comment.getPostid();\r\n\r\n                        View view = LayoutInflater.from(holder.more.getContext()).inflate(R.layout.deletedialog,null);\r\n\r\n                        Button submit=view.findViewById(R.id.postd);\r\n                        Button canc=view.findViewById(R.id.canceld);\r\n\r\n                        final AlertDialog dialog = new AlertDialog.Builder(holder.more.getContext())\r\n                                .setView(view).setCancelable(false).create();\r\n\r\n                        dialog.getWindow().setBackgroundDrawableResource(android.R.color.transparent);\r\n                        dialog.show();\r\n\r\n                       canc.setOnClickListener(new View.OnClickListener() {\r\n                           @Override\r\n                           public void onClick(View v) {\r\n                               dialog.dismiss();\r\n                           }\r\n                       });\r\n\r\n                       submit.setOnClickListener(new View.OnClickListener() {\r\n                           @Override\r\n                           public void onClick(View v) {\r\n                               FirebaseDatabase.getInstance().getReference(\"comments\").child(postid).child(commentid).removeValue();\r\n                               dialog.dismiss();\r\n                           }\r\n                       });\r\n                       return true;\r\n                    }\r\n                });\r\n\r\n                popupMenu.getMenu().findItem(R.id.report).setOnMenuItemClickListener(new MenuItem.OnMenuItemClickListener() {\r\n                    @Override\r\n                    public boolean onMenuItemClick(MenuItem item) {\r\n                        final String commentid=comment.getCommentid();\r\n                        final String postid=comment.getPostid();;\r\n\r\n                        final View view = LayoutInflater.from(holder.more.getContext()).inflate(R.layout.reportdialog,null);\r\n                        Button submit=view.findViewById(R.id.postr);\r\n                        Button canc=view.findViewById(R.id.cancelr);\r\n                        radioGroup = view.findViewById(R.id.radio);\r\n\r\n                        final AlertDialog dialog = new AlertDialog.Builder(holder.more.getContext())\r\n                                .setView(view).setCancelable(false).create();\r\n\r\n                        dialog.getWindow().setBackgroundDrawableResource(android.R.color.transparent);\r\n                        dialog.show();\r\n\r\n                        submit.setOnClickListener(new View.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(View v) {\r\n\r\n                                int selected = radioGroup.getCheckedRadioButtonId();\r\n                                radioButton=view.findViewById(selected);\r\n\r\n                                if(selected == -1){\r\n                                    Toast.makeText(mContext,\"please select any one of the option to report\",Toast.LENGTH_SHORT).show();\r\n                                }else {\r\n                                    String mDate= DateFormat.getDateInstance().format(new Date());\r\n                                    DatabaseReference ref=FirebaseDatabase.getInstance().getReference(\"comments_report\");\r\n                                    String comments_reportid= ref.push().getKey();\r\n\r\n                                    HashMap<String, Object> hashMap = new HashMap<>();\r\n                                    hashMap.put(\"comments_reportid\",comments_reportid);\r\n                                    hashMap.put(\"report\",radioButton.getText());\r\n                                    hashMap.put(\"date\",mDate);\r\n                                    ref.child(postid).child(commentid).child(comments_reportid).setValue(hashMap).addOnCompleteListener(new OnCompleteListener<Void>() {\r\n                                        @Override\r\n                                        public void onComplete(@NonNull Task<Void> task) {\r\n                                            if(task.isSuccessful()){\r\n                                                Toast.makeText(mContext,\"Reported Successfully\", Toast.LENGTH_SHORT).show();\r\n                                            }else {\r\n                                                Toast.makeText(mContext,task.getException().toString(),Toast.LENGTH_SHORT).show();\r\n                                            }\r\n                                        }\r\n                                    });\r\n                                    dialog.dismiss();\r\n                                }\r\n                            }\r\n                        });\r\n\r\n                        canc.setOnClickListener(new View.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(View v) {\r\n                                dialog.dismiss();\r\n                            }\r\n                        });\r\n                        return true;\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return mCommentList.size();\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        public CircleImageView commentor_profile_image;\r\n        public TextView commentorUserName, commentor_comment, commentDate;\r\n        public PhotoView commentimage;\r\n        public ImageView more;\r\n\r\n\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            commentor_profile_image = itemView.findViewById(R.id.commentor_profile_image);\r\n            commentorUserName = itemView.findViewById(R.id.commentorUserName);\r\n            commentor_comment = itemView.findViewById(R.id.commentor_comment);\r\n            commentDate = itemView.findViewById(R.id.commentDate);\r\n            commentimage = itemView.findViewById(R.id.retrieved_commentimage);\r\n            more = itemView.findViewById(R.id.more);\r\n        }\r\n    }\r\n\r\n    private  void getUserInformation(final TextView username, String publisherid, final CircleImageView circleImageView){\r\n        DatabaseReference reference = FirebaseDatabase.getInstance().getReference(\"Users\").child(publisherid);\r\n        reference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                User user=snapshot.getValue(User.class);\r\n                Glide.with(mContext).load(user.getProfileimage()).into(circleImageView);\r\n                username.setText(user.getUserName());\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                Toast.makeText(mContext,error.getMessage(),Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/r_edu_kt/Adapters/CommentAdapter.java	(revision e2b83da69ae71efe9a8ea6a6d8b03bd08147db7e)
+++ app/src/main/java/com/example/r_edu_kt/Adapters/CommentAdapter.java	(date 1622128543300)
@@ -3,7 +3,7 @@
 import android.app.AlertDialog;
 import android.app.ProgressDialog;
 import android.content.Context;
-import android.content.DialogInterface;
+import android.content.Intent;
 import android.os.Build;
 import android.text.TextUtils;
 import android.view.Gravity;
@@ -13,11 +13,11 @@
 import android.view.ViewGroup;
 import android.widget.Button;
 import android.widget.EditText;
+import android.widget.ImageButton;
 import android.widget.ImageView;
 import android.widget.PopupMenu;
 import android.widget.RadioButton;
 import android.widget.RadioGroup;
-import android.widget.Spinner;
 import android.widget.TextView;
 import android.widget.Toast;
 
@@ -26,6 +26,8 @@
 import androidx.recyclerview.widget.RecyclerView;
 
 import com.bumptech.glide.Glide;
+import com.bumptech.glide.load.engine.DiskCacheStrategy;
+import com.example.r_edu_kt.CommentReply;
 import com.example.r_edu_kt.Model.Comment;
 import com.example.r_edu_kt.Model.User;
 import com.example.r_edu_kt.R;
@@ -41,8 +43,6 @@
 import com.google.firebase.database.DatabaseReference;
 import com.google.firebase.database.FirebaseDatabase;
 import com.google.firebase.database.ValueEventListener;
-import com.orhanobut.dialogplus.DialogPlus;
-import com.orhanobut.dialogplus.ViewHolder;
 
 import java.text.DateFormat;
 import java.util.Date;
@@ -55,8 +55,7 @@
 
     private Context mContext;
     private List<Comment> mCommentList;
-    private String postid,selected="",name="";
-    private int reportCount=0;
+    private String postid,name="";
     private FirebaseUser firebaseUser;
     RadioGroup radioGroup;
     RadioButton radioButton;
@@ -79,6 +78,26 @@
         firebaseUser = FirebaseAuth.getInstance().getCurrentUser();
 
         final Comment comment = mCommentList.get(position);
+
+        final String commentpostid=comment.getPostid();
+        final String commentid=comment.getCommentid();
+
+        DatabaseReference reference = FirebaseDatabase.getInstance().getReference("comments_report").child(commentpostid).child(commentid);
+        reference.addValueEventListener(new ValueEventListener() {
+            @Override
+            public void onDataChange(@NonNull DataSnapshot snapshot) {
+                long count= snapshot.getChildrenCount();
+                if(count==25){
+                    FirebaseDatabase.getInstance().getReference("comments").child(commentpostid).child(commentid).removeValue();
+                }
+            }
+
+            @Override
+            public void onCancelled(@NonNull DatabaseError error) {
+
+            }
+        });
+
         if(comment.getCommentimage() == null){
             holder.commentimage.setVisibility(View.GONE);
         }
@@ -86,10 +105,123 @@
             holder.commentimage.setVisibility(View.VISIBLE);
         }
         Glide.with(mContext).load(comment.getCommentimage()).into(holder.commentimage);
+
+        isLiked(comment.getCommentid(),comment.getPostid(),holder.like);
+        isDisLiked(comment.getCommentid(),comment.getPostid(),holder.dislike);
+        getLikes(holder.likes,comment.getCommentid(),comment.getPostid());
+        getDisLikes(holder.dislikes,comment.getCommentid(),comment.getPostid());
+        getComments(holder.replies,comment.getPostid(),comment.getCommentid());
+
+         holder.commentimage.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                View view = LayoutInflater.from(holder.commentimage.getContext()).inflate(R.layout.imagedialog,null);
+
+                final PhotoView img=view.findViewById(R.id.img);
+                final ImageButton close =view.findViewById(R.id.close);
+                Glide.with(img.getContext()).load(comment.getCommentimage()).fitCenter().diskCacheStrategy(DiskCacheStrategy.ALL).into(img);
+
+                final AlertDialog dialog = new AlertDialog.Builder(holder.commentimage.getContext())
+                        .setView(view).setCancelable(false).create();
+                dialog.getWindow().setBackgroundDrawableResource(android.R.color.transparent);
+                dialog.show();
+
+                close.setOnClickListener(new View.OnClickListener() {
+                    @Override
+                    public void onClick(View v) {
+                        dialog.dismiss();
+                    }
+                });
+            }
+        });
+
         holder.commentor_comment.setText(comment.getComment());
         holder.commentDate.setText(comment.getDate());
         getUserInformation(holder.commentorUserName, comment.getPublisher(),holder.commentor_profile_image);
 
+        holder.reply.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                DatabaseReference ref = FirebaseDatabase.getInstance().getReference("Users").child(comment.getPublisher());
+                ref.addListenerForSingleValueEvent(new ValueEventListener() {
+                    @Override
+                    public void onDataChange(@NonNull DataSnapshot snapshot) {
+                        if(snapshot.exists()){
+                            User user = snapshot.getValue(User.class);
+                            String commentor_username = user.getUserName();
+                            Intent intent=new Intent(mContext, CommentReply.class);
+                            intent.putExtra("postid",comment.getPostid());
+                            intent.putExtra("commentid",comment.getCommentid());
+                            intent.putExtra("comment_publisher_username",commentor_username);
+                            mContext.startActivity(intent);
+                        }
+                    }
+
+                    @Override
+                    public void onCancelled(@NonNull DatabaseError error) {
+
+                    }
+                });
+            }
+        });
+
+        holder.replies.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                DatabaseReference ref = FirebaseDatabase.getInstance().getReference("Users").child(comment.getPublisher());
+                ref.addListenerForSingleValueEvent(new ValueEventListener() {
+                    @Override
+                    public void onDataChange(@NonNull DataSnapshot snapshot) {
+                        if(snapshot.exists()){
+                            User user = snapshot.getValue(User.class);
+                            String commentor_username = user.getUserName();
+                            Intent intent=new Intent(mContext, CommentReply.class);
+                            intent.putExtra("postid",comment.getPostid());
+                            intent.putExtra("commentid",comment.getCommentid());
+                            intent.putExtra("comment_publisher_username",commentor_username);
+                            mContext.startActivity(intent);
+                        }
+                    }
+
+                    @Override
+                    public void onCancelled(@NonNull DatabaseError error) {
+
+                    }
+                });
+            }
+        });
+
+         holder.like.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                if(holder.like.getTag().equals("like") && holder.dislike.getTag().equals("dislike")){
+                    FirebaseDatabase.getInstance().getReference().child("comment likes").child(comment.getPostid()).child(comment.getCommentid()).child(firebaseUser.getUid()).setValue(true);
+                }
+                else if(holder.like.getTag().equals("like") && holder.dislike.getTag().equals("disliked")){
+                    FirebaseDatabase.getInstance().getReference().child("comment dislikes").child(comment.getPostid()).child(comment.getCommentid()).child(firebaseUser.getUid()).removeValue();
+                    FirebaseDatabase.getInstance().getReference().child("comment likes").child(comment.getPostid()).child(comment.getCommentid()).child(firebaseUser.getUid()).setValue(true);
+                }
+                else {
+                    FirebaseDatabase.getInstance().getReference().child("comment likes").child(comment.getPostid()).child(comment.getCommentid()).child(firebaseUser.getUid()).removeValue();
+                }
+            }
+        });
+
+        holder.dislike.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                if (holder.dislike.getTag().equals("dislike") && holder.like.getTag().equals("like")){
+                    FirebaseDatabase.getInstance().getReference().child("comment dislikes").child(comment.getPostid()).child(comment.getCommentid()).child(firebaseUser.getUid()).setValue(true);
+                }else if (holder.dislike.getTag().equals("dislike") && holder.like.getTag().equals("liked")){
+                    FirebaseDatabase.getInstance().getReference().child("comment likes").child(comment.getPostid()).child(comment.getCommentid()).child(firebaseUser.getUid()).removeValue();
+                    FirebaseDatabase.getInstance().getReference().child("comment dislikes").child(comment.getPostid()).child(comment.getCommentid()).child(firebaseUser.getUid()).setValue(true);
+                }else {
+                    FirebaseDatabase.getInstance().getReference().child("comment dislikes").child(comment.getPostid()).child(comment.getCommentid()).child(firebaseUser.getUid()).removeValue();
+                }
+            }
+        });
+
+
         holder.more.setOnClickListener(new View.OnClickListener() {
             @RequiresApi(api = Build.VERSION_CODES.M)
             @Override
@@ -225,7 +357,7 @@
                     @Override
                     public boolean onMenuItemClick(MenuItem item) {
                         final String commentid=comment.getCommentid();
-                        final String postid=comment.getPostid();;
+                        final String postid=comment.getPostid();
 
                         final View view = LayoutInflater.from(holder.more.getContext()).inflate(R.layout.reportdialog,null);
                         Button submit=view.findViewById(R.id.postr);
@@ -292,9 +424,9 @@
     public class ViewHolder extends RecyclerView.ViewHolder {
 
         public CircleImageView commentor_profile_image;
-        public TextView commentorUserName, commentor_comment, commentDate;
-        public PhotoView commentimage;
-        public ImageView more;
+        public TextView commentorUserName, commentor_comment, commentDate,likes,dislikes,replies;
+        public ImageButton commentimage;
+        public ImageView more,like,dislike,reply;
 
 
         public ViewHolder(@NonNull View itemView) {
@@ -305,6 +437,12 @@
             commentDate = itemView.findViewById(R.id.commentDate);
             commentimage = itemView.findViewById(R.id.retrieved_commentimage);
             more = itemView.findViewById(R.id.more);
+            likes = itemView.findViewById(R.id.likes);
+            dislikes = itemView.findViewById(R.id.dislikes);
+            replies = itemView.findViewById(R.id.replies);
+            like = itemView.findViewById(R.id.like);
+            dislike = itemView.findViewById(R.id.dislike);
+            reply = itemView.findViewById(R.id.reply);
         }
     }
 
@@ -316,15 +454,136 @@
                 User user=snapshot.getValue(User.class);
                 Glide.with(mContext).load(user.getProfileimage()).into(circleImageView);
                 username.setText(user.getUserName());
+            }
+            @Override
+            public void onCancelled(@NonNull DatabaseError error) {
+                Toast.makeText(mContext,error.getMessage(),Toast.LENGTH_SHORT).show();
+
+            }
+        });
+
+    }
+
+
+    private void isLiked(String commentid,String postid, final ImageView imageView){
+        final FirebaseUser firebaseUser = FirebaseAuth.getInstance().getCurrentUser();
+        DatabaseReference reference= FirebaseDatabase.getInstance().getReference().child("comment likes").child(postid).child(commentid);
+        reference.addValueEventListener(new ValueEventListener() {
+            @Override
+            public void onDataChange(@NonNull DataSnapshot snapshot) {
+                if(snapshot.child(firebaseUser.getUid()).exists()){
+                    imageView.setImageResource(R.drawable.ic_liked);
+                    imageView.setTag("liked");
+                }else {
+                    imageView.setImageResource(R.drawable.ic_thumb_up);
+                    imageView.setTag("like");
+                }
+            }
+
+            @Override
+            public void onCancelled(@NonNull DatabaseError error) {
+
+            }
+        });
+    }
+
+    private void isDisLiked(String commentid, String postid, final ImageView imageView){
+        final FirebaseUser firebaseUser = FirebaseAuth.getInstance().getCurrentUser();
+        DatabaseReference reference= FirebaseDatabase.getInstance().getReference().child("comment dislikes").child(postid).child(commentid);
+        reference.addValueEventListener(new ValueEventListener() {
+            @Override
+            public void onDataChange(@NonNull DataSnapshot snapshot) {
+                if(snapshot.child(firebaseUser.getUid()).exists()){
+                    imageView.setImageResource(R.drawable.ic_disliked);
+                    imageView.setTag("disliked");
+                }else {
+                    imageView.setImageResource(R.drawable.ic_dislike);
+                    imageView.setTag("dislike");
+                }
+
+            }
+
+            @Override
+            public void onCancelled(@NonNull DatabaseError error) {
+
+            }
+        });
+    }
+
+    private void getLikes(final TextView likes,String commentid, String postid){
+        DatabaseReference reference = FirebaseDatabase.getInstance().getReference("comment likes").child(postid).child(commentid);
+        reference.addValueEventListener(new ValueEventListener() {
+            @Override
+            public void onDataChange(@NonNull DataSnapshot snapshot) {
+                if(snapshot.exists()) {
+                    long numberOfLikes = snapshot.getChildrenCount();
+                    int NOL = (int) numberOfLikes;
+                    if (NOL > 1) {
+                        likes.setText(snapshot.getChildrenCount() + "likes");
+                    } else {
+                        likes.setText("1like");
+                    }
+                }else{
+                    likes.setText("0 likes");
+                }
+            }
+
+            @Override
+            public void onCancelled(@NonNull DatabaseError error) {
+                Toast.makeText(mContext,error.getMessage(),Toast.LENGTH_SHORT).show();
+
+            }
+        });
+    }
+
+    private void getDisLikes(final TextView dislikes, String commentid, String postid) {
+        DatabaseReference reference = FirebaseDatabase.getInstance().getReference("comment dislikes").child(postid).child(commentid);
+        reference.addValueEventListener(new ValueEventListener() {
+            @Override
+            public void onDataChange(@NonNull DataSnapshot snapshot) {
+                if(snapshot.exists()) {
+                    long numberOfDisLikes = snapshot.getChildrenCount();
+                    int NOD = (int) numberOfDisLikes;
+                    if (NOD > 1) {
+                        dislikes.setText(snapshot.getChildrenCount() + "dislikes");
+                    } else {
+                        dislikes.setText("1dislike");
+                    }
+                }else {
+                    dislikes.setText("0 dislikes");
+                }
+            }
+
+            @Override
+            public void onCancelled(@NonNull DatabaseError error) {
+                Toast.makeText(mContext, error.getMessage(), Toast.LENGTH_SHORT).show();
+
+            }
+        });
+    }
+
+    private void getComments(final TextView replies, String postid, String commentid) {
+        DatabaseReference reference = FirebaseDatabase.getInstance().getReference("comments reply").child(postid).child(commentid);
+        reference.addValueEventListener(new ValueEventListener() {
+            @Override
+            public void onDataChange(@NonNull DataSnapshot snapshot) {
+                long numberOfComments = snapshot.getChildrenCount();
+                int NOC = (int) numberOfComments;
+                if (NOC > 1) {
+                    replies.setText(snapshot.getChildrenCount() + "replies");
+                } else if (NOC == 0) {
+                    replies.setText("0 replies");
+                } else {
+                    replies.setText(snapshot.getChildrenCount() + "reply");
+                }
 
             }
 
             @Override
             public void onCancelled(@NonNull DatabaseError error) {
-                Toast.makeText(mContext,error.getMessage(),Toast.LENGTH_SHORT).show();
+                Toast.makeText(mContext, error.getMessage(), Toast.LENGTH_SHORT).show();
 
             }
         });
-
     }
 }
Index: app/src/main/java/com/example/r_edu_kt/User/Register/SignUp2ndClass.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.r_edu_kt.User.Register;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.app.ActivityOptions;\r\nimport android.content.Intent;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.util.Pair;\r\nimport android.view.View;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\nimport android.widget.Button;\r\nimport android.widget.DatePicker;\r\nimport android.widget.ImageView;\r\nimport android.widget.RadioButton;\r\nimport android.widget.RadioGroup;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.example.r_edu_kt.R;\r\n\r\nimport java.util.Calendar;\r\n\r\npublic class SignUp2ndClass extends AppCompatActivity {\r\n\r\n    //variables\r\n    ImageView backBtn;\r\n    Button next;\r\n    TextView titleText, login,sideImage;\r\n\r\n    RadioGroup radioGroup;\r\n    RadioButton selectedGender;\r\n    DatePicker datePicker;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_sign_up2nd_class);\r\n\r\n        changeStatusBarColor();\r\n\r\n        //Hooks of sign-up page\r\n        backBtn = findViewById(R.id.sign_up_back_button);\r\n        next = findViewById(R.id.cirRegisterButton);\r\n        login = findViewById(R.id.sign_up_login_button);\r\n        titleText = findViewById(R.id.sign_up_title_text);\r\n        sideImage = findViewById(R.id.sign_up_side_image);\r\n        radioGroup=findViewById(R.id.radio_group);\r\n        datePicker=findViewById(R.id.age_picker);\r\n        //Hooks end\r\n    }\r\n\r\n    public void changeStatusBarColor() {\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\r\n            Window window = getWindow();\r\n            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n            window.setStatusBarColor(getResources().getColor(R.color.register_bk_color));\r\n\r\n        }\r\n    }\r\n\r\n    public void callNextSignupScreen(View view) {\r\n        if( !validateGender() || !validateAge() ){\r\n            return;\r\n        }\r\n        selectedGender=findViewById(radioGroup.getCheckedRadioButtonId());\r\n        String gender=selectedGender.getText().toString();\r\n        int day=datePicker.getDayOfMonth();\r\n        int month=datePicker.getMonth();\r\n        int year=datePicker.getYear();\r\n\r\n        String date=day+\"/\"+month+\"/\"+year;\r\n\r\n\r\n        Intent intent = new Intent(getApplicationContext(), SignUp3rdClass.class);\r\n\r\n\r\n        //transfer data of 1st signup and this signup to 3rd\r\n        intent.putExtra(\"date\",date);\r\n        intent.putExtra(\"gender\",gender);\r\n        Intent prevIntent=getIntent();\r\n        intent.putExtra(\"fullName\",prevIntent.getStringExtra(\"fullName\"));\r\n        intent.putExtra(\"userName\",prevIntent.getStringExtra(\"userName\"));\r\n        intent.putExtra(\"password\",prevIntent.getStringExtra(\"password\"));\r\n        intent.putExtra(\"email\",prevIntent.getStringExtra(\"email\"));\r\n\r\n\r\n        //Add Transition\r\n        Pair[] pairs = new Pair[5];\r\n\r\n        pairs[0] = new Pair<View, String>(backBtn, \"transition_back_btn\");\r\n        pairs[1] = new Pair<View, String>(next, \"transition_next_btn\");\r\n        pairs[2] = new Pair<View, String>(login, \"transition_login_btn\");\r\n        pairs[3] = new Pair<View, String>(titleText, \"transition_title_text\");\r\n        pairs[4] = new Pair<View, String>(sideImage, \"transition_side_image\");\r\n\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\r\n            ActivityOptions options = ActivityOptions.makeSceneTransitionAnimation(SignUp2ndClass.this, pairs);\r\n            startActivity(intent, options.toBundle());\r\n        } else {\r\n            startActivity(intent);\r\n        }\r\n\r\n    }\r\n\r\n    public void onLoginClick(View view) {\r\n        Intent intent = new Intent(getApplicationContext(), RegisterActivity.class);\r\n\r\n        //Add Transition\r\n        Pair[] pairs = new Pair[5];\r\n\r\n        pairs[0] = new Pair<View, String>(backBtn, \"transition_back_btn\");\r\n        pairs[1] = new Pair<View, String>(next, \"transition_next_btn\");\r\n        pairs[2] = new Pair<View, String>(login, \"transition_login_btn\");\r\n        pairs[3] = new Pair<View, String>(titleText, \"transition_title_text\");\r\n        pairs[4] = new Pair<View, String>(sideImage, \"transition_side_image\");\r\n\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\r\n            ActivityOptions options = ActivityOptions.makeSceneTransitionAnimation(SignUp2ndClass.this, pairs);\r\n            startActivity(intent, options.toBundle());\r\n        } else {\r\n            startActivity(intent);\r\n        }\r\n    }\r\n\r\n    public  boolean validateGender(){\r\n        if(radioGroup.getCheckedRadioButtonId()==-1){\r\n            Toast.makeText(this,\"Please Select Gender\",Toast.LENGTH_SHORT).show();\r\n            return  false;\r\n        }\r\n        return  true;\r\n    }\r\n    public  boolean validateAge(){\r\n        //minimum 14 yrs age\r\n\r\n        int currentYear= Calendar.getInstance().get(Calendar.YEAR);\r\n        int userAge=datePicker.getYear();\r\n        int isAgeValid=currentYear-userAge;\r\n        if(isAgeValid<14){\r\n            Toast.makeText(this,\"Age must be atleast 14 \",Toast.LENGTH_SHORT).show();\r\n            return  false;\r\n        }\r\n        return  true;\r\n\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/r_edu_kt/User/Register/SignUp2ndClass.java	(revision e2b83da69ae71efe9a8ea6a6d8b03bd08147db7e)
+++ app/src/main/java/com/example/r_edu_kt/User/Register/SignUp2ndClass.java	(date 1621586162053)
@@ -67,7 +67,7 @@
         selectedGender=findViewById(radioGroup.getCheckedRadioButtonId());
         String gender=selectedGender.getText().toString();
         int day=datePicker.getDayOfMonth();
-        int month=datePicker.getMonth();
+        int month=datePicker.getMonth()+1;
         int year=datePicker.getYear();
 
         String date=day+"/"+month+"/"+year;
Index: app/src/main/java/com/example/r_edu_kt/User/MyAccount/MyAccount.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.r_edu_kt.User.MyAccount;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.view.GravityCompat;\r\nimport androidx.drawerlayout.widget.DrawerLayout;\r\nimport androidx.fragment.app.FragmentManager;\r\nimport androidx.viewpager2.widget.ViewPager2;\r\n\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.example.r_edu_kt.Model.User;\r\nimport com.example.r_edu_kt.R;\r\nimport com.example.r_edu_kt.User.CourseLayout.CourseOverview;\r\nimport com.example.r_edu_kt.User.UserDashboard;\r\nimport com.example.r_edu_kt.discussion_home;\r\nimport com.google.android.material.navigation.NavigationView;\r\nimport com.google.android.material.tabs.TabLayout;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport de.hdodenhof.circleimageview.CircleImageView;\r\n\r\npublic class MyAccount extends AppCompatActivity implements NavigationView.OnNavigationItemSelectedListener {\r\n\r\n\r\n    Button nameButton,birthdayButton,genderButton,passwordButton,emailButton,phoneButton;\r\n    Context mcontext;\r\n\r\n\r\n    DrawerLayout drawerLayout;\r\n    LinearLayout contentView;\r\n    NavigationView navigationView;\r\n    ImageView menuIcon;\r\n    CircleImageView pro_img,promy_img,proimg;\r\n    TextView userFullName,user_name,mail_id,user_email_header,user_full_name_text,user_birthday,user_gender,user_password,user_email,user_phone;\r\n    static final float END_SCALE = 0.7f;\r\n\r\n    String userName,fullName,password,email,phoneNumber,gender,date;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_my_account);\r\n\r\n        //STATUS BAR\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\r\n            Window window = getWindow();\r\n            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n            window.setStatusBarColor(getResources().getColor(R.color.colorAccent));\r\n        }\r\n\r\n        //Hooks for navigation\r\n        menuIcon = findViewById(R.id.my_account_menu_icon);\r\n        contentView = findViewById(R.id.my_account_content);\r\n        drawerLayout = findViewById(R.id.my_account_drawer_layout);\r\n        navigationView = findViewById(R.id.my_account_navigation_view);\r\n        naviagationDrawer();\r\n\r\n        //data from userdashboard\r\n        View header = navigationView.getHeaderView(0);\r\n        user_name = header.findViewById(R.id.app_name);\r\n        mail_id = header.findViewById(R.id.mail_id);\r\n        promy_img=findViewById(R.id.promy_img);\r\n        proimg=findViewById(R.id.proimg);\r\n\r\n\r\n\r\n        DatabaseReference reference = FirebaseDatabase.getInstance().getReference(\"Users\").child(FirebaseAuth.getInstance().getCurrentUser().getUid());\r\n        reference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                User user= snapshot.getValue(User.class);\r\n                //Glide.with(mcontext).load(user.getProfileimage()).into(pro_img);\r\n                //Glide.with(mcontext).load(user.getProfileimage()).into(promy_img);\r\n                //Glide.with(mcontext).load(user.getProfileimage()).into(proimg);\r\n                fullName = user.getFullName();\r\n                email=user.getEmail();\r\n                userName = user.getUserName();\r\n                password = user.getPassword();\r\n                phoneNumber = user.getPhoneNo();\r\n                gender = user.getGender();\r\n                date = user.getDate();\r\n                user_name.setText(\"Hi !\\n\"+fullName);\r\n                mail_id.setText(email);\r\n                userFullName=findViewById(R.id.user_full_name);\r\n                userFullName.setText(fullName.toUpperCase());\r\n                user_email_header=findViewById(R.id.user_email);\r\n                user_email_header.setText(email);\r\n                user_full_name_text=findViewById(R.id.name_text);\r\n                user_full_name_text.setText(fullName);\r\n                user_birthday=findViewById(R.id.birthday_text);\r\n                user_birthday.setText(date);\r\n                user_gender=findViewById(R.id.gender_text);\r\n                user_gender.setText(gender);\r\n                user_password=findViewById(R.id.password_text);\r\n                user_password.setText(password);\r\n                user_email=findViewById(R.id.email_text);\r\n                user_email.setText(email);\r\n                user_phone=findViewById(R.id.phone_text);\r\n                user_phone.setText(phoneNumber);\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                Toast.makeText(MyAccount.this,error.getMessage(),Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n        });\r\n\r\n        //account details\r\n\r\n\r\n        //buttons\r\n        nameButton=findViewById(R.id.name_button);\r\n        birthdayButton=findViewById(R.id.birthday_button);\r\n        genderButton=findViewById(R.id.gender_button);\r\n        passwordButton=findViewById(R.id.password_button);\r\n        emailButton=findViewById(R.id.email_button);\r\n        phoneButton=findViewById(R.id.phone_button);\r\n\r\n\r\n\r\n        //button onclicks\r\n        nameButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent nameIntent=new Intent(getApplicationContext(),MyAccountName.class);\r\n                startActivity(nameIntent);\r\n                in_animation();\r\n            }\r\n        });\r\n\r\n        birthdayButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent dateIntent=new Intent(getApplicationContext(),MyAccountBirthday.class);\r\n                startActivity(dateIntent);\r\n                in_animation();\r\n            }\r\n        });\r\n\r\n        genderButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent genderIntent=new Intent(getApplicationContext(),MyAccountGender.class);\r\n                startActivity(genderIntent);\r\n                in_animation();\r\n            }\r\n        });\r\n\r\n        passwordButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent passwordIntent=new Intent(getApplicationContext(),MyAccountPassword.class);\r\n                startActivity(passwordIntent);\r\n                in_animation();\r\n            }\r\n        });\r\n\r\n        emailButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent emailIntent=new Intent(getApplicationContext(),MyAccountEmail.class);\r\n                emailIntent.putExtra(\"email\",email);\r\n                startActivity(emailIntent);\r\n                in_animation();\r\n            }\r\n        });\r\n\r\n        phoneButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent phoneIntent=new Intent(getApplicationContext(),MyAccountPhone.class);\r\n                phoneIntent.putExtra(\"phoneNumber\",phoneNumber);\r\n                startActivity(phoneIntent);\r\n                in_animation();\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    private void in_animation() {\r\n        overridePendingTransition(R.anim.slide_in_right, R.anim.slide_out_left);\r\n    }\r\n\r\n    private void naviagationDrawer() {\r\n        navigationView.bringToFront();\r\n        navigationView.setNavigationItemSelectedListener(this);\r\n        navigationView.setCheckedItem(R.id.nav_profile);\r\n        menuIcon.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                if (drawerLayout.isDrawerVisible(GravityCompat.START))\r\n                    drawerLayout.closeDrawer(GravityCompat.START);\r\n                else\r\n                    drawerLayout.openDrawer(GravityCompat.START);\r\n            }\r\n        });\r\n        animateNavigateDrawer();\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        if (drawerLayout.isDrawerVisible(GravityCompat.START)) {\r\n            drawerLayout.closeDrawer(GravityCompat.START);\r\n        } else {\r\n            intent_to_dashboard();\r\n        }\r\n\r\n    }\r\n\r\n    private void animateNavigateDrawer() {\r\n        drawerLayout.setScrimColor(getResources().getColor(R.color.colorAccent));\r\n        drawerLayout.addDrawerListener(new DrawerLayout.SimpleDrawerListener() {\r\n            @Override\r\n            public void onDrawerSlide(View drawerView, float slideOffset) {\r\n\r\n                final float diffScaledOffset = slideOffset * (1 - END_SCALE);\r\n                final float offsetScale = 1 - diffScaledOffset;\r\n                contentView.setScaleX(offsetScale);\r\n                contentView.setScaleY(offsetScale);\r\n\r\n                final float xOffset = drawerView.getWidth() * slideOffset;\r\n                final float xOffsetDiff = contentView.getWidth() * diffScaledOffset / 2;\r\n                final float xTranslation = xOffset - xOffsetDiff;\r\n                contentView.setTranslationX(xTranslation);\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n\r\n    @Override\r\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n        switch (item.getItemId()) {\r\n            case R.id.nav_discussion:\r\n                Intent intent = new Intent(MyAccount.this, discussion_home.class);\r\n                startActivity(intent);\r\n                overridePendingTransition(R.anim.slide_in_right, R.anim.slide_out_left);\r\n                break;\r\n            case R.id.nav_home:\r\n                Intent intent1 = new Intent(MyAccount.this,UserDashboard.class);\r\n                startActivity(intent1);\r\n                overridePendingTransition(R.anim.slide_in_right, R.anim.slide_out_left);\r\n                break;\r\n            case R.id.nav_profile:\r\n                Intent account_intent=new Intent(getApplicationContext(), MyAccount.class);\r\n                startActivity(account_intent);\r\n                overridePendingTransition(R.anim.slide_in_right, R.anim.slide_out_left);\r\n                break;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    private void intent_to_dashboard() {\r\n        Intent dashboard_intent = new Intent(getApplicationContext(), UserDashboard.class);\r\n        startActivity(dashboard_intent);\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/r_edu_kt/User/MyAccount/MyAccount.java	(revision e2b83da69ae71efe9a8ea6a6d8b03bd08147db7e)
+++ app/src/main/java/com/example/r_edu_kt/User/MyAccount/MyAccount.java	(date 1622700076466)
@@ -1,20 +1,29 @@
 package com.example.r_edu_kt.User.MyAccount;
 
 import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
 import androidx.appcompat.app.AppCompatActivity;
 import androidx.core.view.GravityCompat;
 import androidx.drawerlayout.widget.DrawerLayout;
 import androidx.fragment.app.FragmentManager;
 import androidx.viewpager2.widget.ViewPager2;
 
+import android.app.AlertDialog;
+import android.app.ProgressDialog;
+import android.content.ContentResolver;
 import android.content.Context;
 import android.content.Intent;
+import android.graphics.Bitmap;
+import android.net.Uri;
 import android.os.Build;
 import android.os.Bundle;
+import android.provider.MediaStore;
+import android.view.LayoutInflater;
 import android.view.MenuItem;
 import android.view.View;
 import android.view.Window;
 import android.view.WindowManager;
+import android.webkit.MimeTypeMap;
 import android.widget.Button;
 import android.widget.ImageView;
 import android.widget.LinearLayout;
@@ -25,8 +34,14 @@
 import com.example.r_edu_kt.Model.User;
 import com.example.r_edu_kt.R;
 import com.example.r_edu_kt.User.CourseLayout.CourseOverview;
+import com.example.r_edu_kt.User.Login.LoginActivity;
+import com.example.r_edu_kt.User.Register.SignUp3rdClass;
 import com.example.r_edu_kt.User.UserDashboard;
 import com.example.r_edu_kt.discussion_home;
+import com.google.android.gms.tasks.Continuation;
+import com.google.android.gms.tasks.OnCompleteListener;
+import com.google.android.gms.tasks.OnSuccessListener;
+import com.google.android.gms.tasks.Task;
 import com.google.android.material.navigation.NavigationView;
 import com.google.android.material.tabs.TabLayout;
 import com.google.firebase.auth.FirebaseAuth;
@@ -35,6 +50,17 @@
 import com.google.firebase.database.DatabaseReference;
 import com.google.firebase.database.FirebaseDatabase;
 import com.google.firebase.database.ValueEventListener;
+import com.google.firebase.storage.FirebaseStorage;
+import com.google.firebase.storage.StorageReference;
+import com.google.firebase.storage.StorageTask;
+import com.google.firebase.storage.UploadTask;
+
+import org.jetbrains.annotations.NotNull;
+
+import java.io.ByteArrayOutputStream;
+import java.io.IOException;
+import java.util.HashMap;
+import java.util.Map;
 
 import de.hdodenhof.circleimageview.CircleImageView;
 
@@ -42,8 +68,10 @@
 
 
     Button nameButton,birthdayButton,genderButton,passwordButton,emailButton,phoneButton;
-    Context mcontext;
-
+    private Uri resultUri;
+    private ProgressDialog loader;
+    private DatabaseReference reference;
+    String onlineuserid="";
 
     DrawerLayout drawerLayout;
     LinearLayout contentView;
@@ -54,6 +82,7 @@
     static final float END_SCALE = 0.7f;
 
     String userName,fullName,password,email,phoneNumber,gender,date;
+    Button update_photo;
 
     @Override
     protected void onCreate(Bundle savedInstanceState) {
@@ -75,22 +104,27 @@
         naviagationDrawer();
 
         //data from userdashboard
-        View header = navigationView.getHeaderView(0);
+        final View header = navigationView.getHeaderView(0);
         user_name = header.findViewById(R.id.app_name);
         mail_id = header.findViewById(R.id.mail_id);
         promy_img=findViewById(R.id.promy_img);
         proimg=findViewById(R.id.proimg);
+        pro_img=header.findViewById(R.id.pro_img);
+        update_photo = findViewById(R.id.update_photo);
 
+        loader = new ProgressDialog(this);
 
+        onlineuserid = FirebaseAuth.getInstance().getCurrentUser().getUid();
 
-        DatabaseReference reference = FirebaseDatabase.getInstance().getReference("Users").child(FirebaseAuth.getInstance().getCurrentUser().getUid());
+
+        DatabaseReference reference = FirebaseDatabase.getInstance().getReference("Users").child(onlineuserid);
         reference.addValueEventListener(new ValueEventListener() {
             @Override
             public void onDataChange(@NonNull DataSnapshot snapshot) {
                 User user= snapshot.getValue(User.class);
-                //Glide.with(mcontext).load(user.getProfileimage()).into(pro_img);
-                //Glide.with(mcontext).load(user.getProfileimage()).into(promy_img);
-                //Glide.with(mcontext).load(user.getProfileimage()).into(proimg);
+                Glide.with(header.getContext()).load(user.getProfileimage()).into(pro_img);
+                Glide.with(MyAccount.this).load(user.getProfileimage()).into(promy_img);
+                Glide.with(MyAccount.this).load(user.getProfileimage()).into(proimg);
                 fullName = user.getFullName();
                 email=user.getEmail();
                 userName = user.getUserName();
@@ -136,9 +170,17 @@
         emailButton=findViewById(R.id.email_button);
         phoneButton=findViewById(R.id.phone_button);
 
-
-
         //button onclicks
+       promy_img.setOnClickListener(new View.OnClickListener() {
+           @Override
+           public void onClick(View v) {
+               Intent intent=new Intent(Intent.ACTION_PICK);
+               intent.setType("image/*");
+               startActivityForResult(intent, 1);
+           }
+       });
+
+
         nameButton.setOnClickListener(new View.OnClickListener() {
             @Override
             public void onClick(View v) {
@@ -195,8 +237,81 @@
             }
         });
 
+        update_photo.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                update_image();
+                update_photo.setVisibility(View.GONE);
+            }
+        });
+
+
+    }
+
+
+    private void update_image() {
+        loader.setMessage("updating profile image");
+        loader.setCanceledOnTouchOutside(false);
+        loader.show();
 
+        final StorageReference filepath = FirebaseStorage.getInstance().getReference().child("profile images").child(onlineuserid);
+            Bitmap bitmap = null;
+            try {
+                bitmap = MediaStore.Images.Media.getBitmap(getApplicationContext().getContentResolver(), resultUri);
+            } catch (IOException e) {
+                e.printStackTrace();
+            }
+            ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();
+            bitmap.compress(Bitmap.CompressFormat.JPEG, 20, byteArrayOutputStream);
+            byte[] data = byteArrayOutputStream.toByteArray();
+            UploadTask uploadTask = filepath.putBytes(data);
+
+            uploadTask.addOnSuccessListener(new OnSuccessListener<UploadTask.TaskSnapshot>() {
+                @Override
+                public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {
+                    if (taskSnapshot.getMetadata().getReference() != null) {
+                        final Task<Uri> result = taskSnapshot.getStorage().getDownloadUrl();
+                        result.addOnSuccessListener(new OnSuccessListener<Uri>() {
+                            @Override
+                            public void onSuccess(Uri uri) {
+                                String imageuri = uri.toString();
+                                Map hashMap = new HashMap();
+                                hashMap.put("profileimage", imageuri);
+                                reference = FirebaseDatabase.getInstance().getReference().child("Users").child(onlineuserid);
+                                reference.updateChildren(hashMap).addOnCompleteListener(new OnCompleteListener() {
+                                    @Override
+                                    public void onComplete(@NonNull Task task) {
+                                        if (task.isSuccessful()) {
+                                            Toast.makeText(MyAccount.this, "profile image updated successfully", Toast.LENGTH_SHORT).show();
+                                            loader.dismiss();
+                                        } else {
+                                            Toast.makeText(MyAccount.this, "process failed" + task.getException().toString(), Toast.LENGTH_SHORT).show();
+                                            loader.dismiss();
+                                        }
+                                    }
+                                });
+                            }
+                        });
+                    }
+                }
+            });
+            update_photo.setVisibility(View.GONE);
     }
+
+    @Override
+    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {
+        super.onActivityResult(requestCode, resultCode, data);
+
+        if(requestCode == 1 && resultCode == RESULT_OK && data != null){
+            resultUri = data.getData();
+            promy_img.setImageURI(resultUri);
+            update_photo.setVisibility(View.VISIBLE);
+        }
+        else {
+            Toast.makeText(MyAccount.this,"something went wrong",Toast.LENGTH_SHORT).show();
+        }
+    }
+
 
     private void in_animation() {
         overridePendingTransition(R.anim.slide_in_right, R.anim.slide_out_left);
@@ -218,16 +333,6 @@
         animateNavigateDrawer();
     }
 
-    @Override
-    public void onBackPressed() {
-        if (drawerLayout.isDrawerVisible(GravityCompat.START)) {
-            drawerLayout.closeDrawer(GravityCompat.START);
-        } else {
-            intent_to_dashboard();
-        }
-
-    }
-
     private void animateNavigateDrawer() {
         drawerLayout.setScrimColor(getResources().getColor(R.color.colorAccent));
         drawerLayout.addDrawerListener(new DrawerLayout.SimpleDrawerListener() {
@@ -267,6 +372,36 @@
                 startActivity(account_intent);
                 overridePendingTransition(R.anim.slide_in_right, R.anim.slide_out_left);
                 break;
+
+            case R.id.nav_logout:
+                View view = LayoutInflater.from(this).inflate(R.layout.logoutdialog,null);
+
+                Button submit=view.findViewById(R.id.postl);
+                Button canc=view.findViewById(R.id.cancell);
+
+                final AlertDialog dialog = new AlertDialog.Builder(this)
+                        .setView(view).setCancelable(false).create();
+                dialog.getWindow().setBackgroundDrawableResource(android.R.color.transparent);
+                dialog.show();
+
+                canc.setOnClickListener(new View.OnClickListener() {
+                    @Override
+                    public void onClick(View v) {
+                        dialog.dismiss();
+                    }
+                });
+
+                submit.setOnClickListener(new View.OnClickListener() {
+                    @Override
+                    public void onClick(View v) {
+                        FirebaseAuth.getInstance().signOut();
+                        Intent intent=new Intent(MyAccount.this, LoginActivity.class);
+                        dialog.dismiss();
+                        startActivity(intent);
+                        finish();
+                    }
+                });
+                break;
         }
         return true;
     }
@@ -275,4 +410,12 @@
         Intent dashboard_intent = new Intent(getApplicationContext(), UserDashboard.class);
         startActivity(dashboard_intent);
     }
+
+    @Override
+    public void onBackPressed() {
+        if (drawerLayout.isDrawerVisible(GravityCompat.START)) {
+            drawerLayout.closeDrawer(GravityCompat.START);
+        } else
+            super.onBackPressed();
+    }
 }
\ No newline at end of file
Index: app/src/main/res/layout/activity_sign_up2nd_class.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:layout_gravity=\"center\"\r\n    android:background=\"@color/register_bk_color\"\r\n    android:focusableInTouchMode=\"true\"\r\n    android:gravity=\"center\"\r\n    tools:context=\".User.Register.SignUp2ndClass\">\r\n\r\n    <ScrollView\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"match_parent\"\r\n        android:layout_alignParentTop=\"true\">\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"40dp\"\r\n            android:orientation=\"vertical\"\r\n            android:padding=\"20dp\">\r\n\r\n            <RelativeLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"130dp\">\r\n\r\n                <TextView\r\n                    android:id=\"@+id/sign_up_title_text\"\r\n                    style=\"@style/viewParent.headerText.NoMode\"\r\n                    android:layout_alignParentLeft=\"true\"\r\n                    android:layout_centerVertical=\"true\"\r\n                    android:text=\"Hey!\\nHere are the\\nsteps to join us!\"\r\n                    android:textColor=\"@color/whiteTextColor\"\r\n                    android:textSize=\"25dp\"\r\n                    android:transitionName=\"transition_title_text\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/sign_up_side_image\"\r\n                    android:layout_width=\"100dp\"\r\n                    android:layout_height=\"100dp\"\r\n                    android:layout_alignParentRight=\"true\"\r\n                    android:layout_centerVertical=\"true\"\r\n                    android:layout_marginTop=\"20dp\"\r\n                    android:background=\"@drawable/circle_border\"\r\n                    android:backgroundTint=\"@color/white\"\r\n                    android:fontFamily=\"@font/ds_digital_bold\"\r\n                    android:gravity=\"center\"\r\n                    android:padding=\"10dp\"\r\n                    android:text=\"2/3\"\r\n                    android:textAlignment=\"center\"\r\n                    android:textColor=\"@color/white\"\r\n                    android:textSize=\"35sp\"\r\n                    android:transitionName=\"transition_side_image\" />\r\n\r\n                <!--                <ImageView-->\r\n                <!--                    -->\r\n                <!--                    android:layout_width=\"wrap_content\"-->\r\n                <!--                    android:layout_height=\"wrap_content\"-->\r\n                <!--                    android:layout_alignParentTop=\"true\"-->\r\n                <!--                    android:layout_alignParentRight=\"true\"-->\r\n                <!--                    android:src=\"@drawable/ic_login_hero\"-->\r\n                <!--                    android:transitionName=\"transition_side_image\" />-->\r\n            </RelativeLayout>\r\n\r\n            <androidx.cardview.widget.CardView\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"30dp\"\r\n                app:cardBackgroundColor=\"@color/whiteTextColor\"\r\n                app:cardCornerRadius=\"10dp\">\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_margin=\"10dp\"\r\n                    android:orientation=\"vertical\">\r\n\r\n                    <TextView\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:text=\"Choose Gender\"\r\n                        android:textColor=\"@color/button_blue\"\r\n                        android:textSize=\"12sp\"/>\r\n\r\n                    <RadioGroup\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"match_parent\"\r\n                        android:orientation=\"horizontal\"\r\n                        android:layout_gravity=\"center\"\r\n                        android:id=\"@+id/radio_group\"\r\n                        android:layout_marginTop=\"10dp\">\r\n\r\n                        <RadioButton\r\n                            android:id=\"@+id/male\"\r\n                            android:layout_width=\"wrap_content\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:text=\"Male\" />\r\n\r\n                        <RadioButton\r\n                            android:id=\"@+id/female\"\r\n                            android:layout_width=\"wrap_content\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:text=\"Female\" />\r\n\r\n                        <RadioButton\r\n                            android:id=\"@+id/other\"\r\n                            android:layout_width=\"wrap_content\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:text=\"Other\" />\r\n                    </RadioGroup>\r\n\r\n                    <View\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"2dp\"\r\n                        android:background=\"@color/button_blue\"\r\n                        android:layout_marginTop=\"20dp\"\r\n                        android:layout_marginBottom=\"20dp\"/>\r\n\r\n                    <TextView\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:text=\"Select Your Age\"\r\n                        android:textColor=\"@color/button_blue\"\r\n                        android:textSize=\"12sp\"/>\r\n\r\n                    <DatePicker\r\n                        android:id=\"@+id/age_picker\"\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:datePickerMode=\"spinner\"\r\n                        android:calendarViewShown=\"false\"/>\r\n\r\n                    <br.com.simplepass.loading_button_lib.customViews.CircularProgressButton\r\n                        android:id=\"@+id/cirRegisterButton\"\r\n                        style=\"@style/loginButton\"\r\n                        android:layout_gravity=\"center_horizontal\"\r\n                        android:layout_marginTop=\"@dimen/loginViewsMargin\"\r\n                        android:text=\"Next\"\r\n                        android:onClick=\"callNextSignupScreen\"\r\n                        app:initialCornerAngle=\"27dp\"\r\n                        app:spinning_bar_color=\"#fff\"\r\n                        app:spinning_bar_padding=\"6dp\"\r\n                        app:spinning_bar_width=\"4dp\"\r\n                        android:transitionName=\"transition_next_btn\"/>\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/sign_up_login_button\"\r\n                        style=\"@style/parent\"\r\n                        android:layout_marginTop=\"@dimen/loginViewsMargin\"\r\n                        android:onClick=\"onLoginClick\"\r\n                        android:text=\"Already have an account?\"\r\n                        android:textAlignment=\"center\"\r\n                        android:textColor=\"@color/themeColor\"\r\n                        android:textSize=\"17sp\"\r\n                        android:textStyle=\"bold\"\r\n                        android:transitionName=\"transition_login_btn\"/>\r\n                </LinearLayout>\r\n            </androidx.cardview.widget.CardView>\r\n\r\n            <!--            <LinearLayout-->\r\n            <!--                android:layout_width=\"match_parent\"-->\r\n            <!--                android:layout_height=\"wrap_content\"-->\r\n            <!--                android:layout_marginTop=\"30dp\"-->\r\n            <!--                android:gravity=\"center\"-->\r\n            <!--                android:weightSum=\"12\">-->\r\n\r\n            <!--                <View-->\r\n            <!--                    android:layout_width=\"0dp\"-->\r\n            <!--                    android:layout_height=\"1dp\"-->\r\n            <!--                    android:layout_weight=\"3\"-->\r\n            <!--                    android:background=\"@color/whiteTextColor\" />-->\r\n\r\n            <!--                <TextView-->\r\n            <!--                    style=\"@style/viewParent.headerText.NoMode\"-->\r\n            <!--                    android:layout_width=\"wrap_content\"-->\r\n            <!--                    android:layout_height=\"wrap_content\"-->\r\n            <!--                    android:layout_weight=\"6\"-->\r\n            <!--                    android:text=\"Use other methods\"-->\r\n            <!--                    android:textAlignment=\"center\"-->\r\n            <!--                    android:textColor=\"@color/whiteTextColor\"-->\r\n            <!--                    android:textSize=\"12sp\" />-->\r\n\r\n            <!--                <View-->\r\n            <!--                    android:layout_width=\"0dp\"-->\r\n            <!--                    android:layout_height=\"1dp\"-->\r\n            <!--                    android:layout_weight=\"3\"-->\r\n            <!--                    android:background=\"@color/whiteTextColor\" />-->\r\n            <!--            </LinearLayout>-->\r\n\r\n            <!--            <LinearLayout-->\r\n            <!--                android:layout_width=\"match_parent\"-->\r\n            <!--                android:layout_height=\"wrap_content\"-->\r\n            <!--                android:layout_marginTop=\"20dp\"-->\r\n            <!--                android:layout_marginBottom=\"10dp\"-->\r\n            <!--                android:gravity=\"center\">-->\r\n\r\n            <!--                <ImageView-->\r\n            <!--                    android:layout_width=\"wrap_content\"-->\r\n            <!--                    android:layout_height=\"wrap_content\"-->\r\n            <!--                    android:src=\"@drawable/ic_facebook\" />-->\r\n\r\n            <!--                <ImageView-->\r\n            <!--                    android:layout_width=\"wrap_content\"-->\r\n            <!--                    android:layout_height=\"wrap_content\"-->\r\n            <!--                    android:layout_marginLeft=\"10dp\"-->\r\n            <!--                    android:src=\"@drawable/ic_google_plus\" />-->\r\n            <!--            </LinearLayout>-->\r\n        </LinearLayout>\r\n\r\n    </ScrollView>\r\n\r\n    <View\r\n        android:layout_width=\"11dp\"\r\n        android:layout_height=\"match_parent\"\r\n        android:layout_alignParentTop=\"true\"\r\n        android:layout_alignParentRight=\"true\"\r\n        android:layout_marginTop=\"20dp\"\r\n        android:background=\"@drawable/ic_side_bg\" />\r\n\r\n    <ImageView\r\n        android:id=\"@+id/sign_up_back_button\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_alignParentLeft=\"true\"\r\n        android:layout_alignParentBottom=\"true\"\r\n        android:layout_marginRight=\"11dp\"\r\n        android:layout_marginBottom=\"30dp\"\r\n        android:adjustViewBounds=\"false\"\r\n        android:onClick=\"onLoginClick\"\r\n        android:src=\"@drawable/ic_back_img\"\r\n        android:transitionName=\"transition_back_btn\" />\r\n</RelativeLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_sign_up2nd_class.xml	(revision e2b83da69ae71efe9a8ea6a6d8b03bd08147db7e)
+++ app/src/main/res/layout/activity_sign_up2nd_class.xml	(date 1621586162072)
@@ -129,8 +129,8 @@
                         android:id="@+id/age_picker"
                         android:layout_width="match_parent"
                         android:layout_height="wrap_content"
-                        android:datePickerMode="spinner"
-                        android:calendarViewShown="false"/>
+                        android:calendarViewShown="false"
+                        android:datePickerMode="spinner" />
 
                     <br.com.simplepass.loading_button_lib.customViews.CircularProgressButton
                         android:id="@+id/cirRegisterButton"
